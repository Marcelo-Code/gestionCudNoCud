!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="33d8913b-5388-47b5-8b7f-17160adb8b20",e._sentryDebugIdIdentifier="sentry-dbid-33d8913b-5388-47b5-8b7f-17160adb8b20")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7688,5439],{48318:function(e,t,n){var r=n(84546),o=n(45436),i=n(99105),l=n(29233),a=n(31525),s=n(77026);e.exports=function(e,t,n,c){var u=-1,d=o,f=!0,m=e.length,v=[],h=t.length;if(!m)return v;n&&(t=l(t,a(n))),c?(d=i,f=!1):t.length>=200&&(d=s,f=!1,t=new r(t));e:for(;++u<m;){var p=e[u],b=null==n?p:n(p);if(p=c||0!==p?p:0,f&&b==b){for(var g=h;g--;)if(t[g]===b)continue e;v.push(p)}else d(t,b,c)||v.push(p)}return v}},92238:function(e,t,n){var r=n(48318),o=n(29735),i=n(18268),l=o(function(e,t){return i(e)?r(e,t):[]});e.exports=l},40086:function(e,t,n){"use strict";n.d(t,{Pi:function(){return p},fv:function(){return g}});var r,o=n(23470),i=n(44194);if(!i.useState)throw Error("mobx-react-lite requires React with Hooks support");if(!o.rC)throw Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var l=n(56321);function a(e){return(0,o.Gf)(e)}var s=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(r,o){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(o))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),c=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:s)(function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null}),u=n(48218),d=function(){};function f(e){e.reaction=new o.le("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)})}var m="function"==typeof Symbol&&Symbol.for,v=m?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&(0,i.forwardRef)(function(e){return null}).$$typeof,h=m?Symbol.for("react.memo"):"function"==typeof i.memo&&(0,i.memo)(function(e){return null}).$$typeof;function p(e,t){if(h&&e.$$typeof===h)throw Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n,r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,l=e.displayName||e.name;if(v&&e.$$typeof===v&&(r=!0,"function"!=typeof(o=e.render)))throw Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(e,t){return function(e,t){void 0===t&&(t="observed");var n,r,o=i.useRef(null);if(!o.current){var l={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return c.unregister(l),l.onStoreChange=e,l.reaction||(f(l),l.stateVersion=Symbol()),function(){var e;l.onStoreChange=null,null===(e=l.reaction)||void 0===e||e.dispose(),l.reaction=null}},getSnapshot:function(){return l.stateVersion}};o.current=l}var s=o.current;if(s.reaction||(f(s),c.register(o,s,s)),i.useDebugValue(s.reaction,a),(0,u.useSyncExternalStore)(s.subscribe,s.getSnapshot,d),s.reaction.track(function(){try{n=e()}catch(e){r=e}}),r)throw r;return n}(function(){return o(e,t)},l)};return s.displayName=e.displayName,Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=(0,i.forwardRef)(s)),function(e,t){Object.keys(e).forEach(function(n){b[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}(e,s=(0,i.memo)(s)),s}var b={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function g(e,t){return(0,i.useState)(function(){return(0,o.LO)(e(),t,{autoBind:!0})})[0]}(r=l.unstable_batchedUpdates)||(r=function(e){e()}),(0,o.jQ)({reactionScheduler:r}),c.finalizeAllImmediately},66680:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/database/tables",function(){return n(74669)}])},61290:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(45353).Z)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]])},50079:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(45353).Z)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},94511:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(45353).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},18346:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(31549),o=n(41791),i=n(57672),l=n.n(i),a=n(56213),s=n(92023),c=n(59928),u=n(18213),d=n(87025),f=n(66409),m=n(64555),v=n(73571),h=n(53957),p=n(52981),b=n(49686),g=n(10365);async function y(e){let{projectRef:t,connectionString:n,table:r,filters:o,roleImpersonationState:i}=e,l=(0,h.Jh)(function(e){var t;let{table:n,filters:r}=e,o=new m.Query().from(n.name,null!==(t=n.schema)&&void 0!==t?t:void 0).delete();return r.filter(e=>e.value&&""!==e.value).forEach(e=>{let t=(0,g.q)(n,e);o=o.filter(e.column,e.operator,t)}),o.toSql()}({table:r,filters:o}),i),{result:a}=await (0,v.R)({projectRef:t,connectionString:n,sql:l,isRoleImpersonationEnabled:(0,p.Gm)(null==i?void 0:i.role)});return a}let w=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.NL)();return(0,f.D)(e=>y(e),{async onSuccess(t,n,o){let{projectRef:i,table:l}=n;await r.invalidateQueries(b.s.tableRowsAndCount(i,l.id)),await (null==e?void 0:e(t,n,o))},async onError(e,n,r){void 0===t?a.Am.error("Failed to delete all table rows: ".concat(e.message)):t(e,n,r)},...n})};var x=n(36447),D=n(51559);async function j(e){let{projectRef:t,connectionString:n,table:r,rows:o,roleImpersonationState:i}=e,l=(0,h.Jh)(function(e){var t;let{table:n,rows:r}=e,{primaryKeys:o,error:i}=(0,g.h)({table:n});if(i)throw i;let l=new m.Query().from(n.name,null!==(t=n.schema)&&void 0!==t?t:void 0).delete();return null==o||o.forEach(e=>{let t=r.map(t=>t[e]);l=l.filter(e,"in",t)}),l.toSql()}({table:r,rows:o}),i),{result:a}=await (0,v.R)({projectRef:t,connectionString:n,sql:l,isRoleImpersonationEnabled:(0,p.Gm)(null==i?void 0:i.role)});return a}let S=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,d.NL)();return(0,f.D)(e=>j(e),{async onSuccess(t,n,r){let{projectRef:i,table:l}=n;await o.invalidateQueries(b.s.tableRowsAndCount(i,l.id)),await (null==e?void 0:e(t,n,r))},async onError(e,n,o){if(void 0===t){let{table:t,rows:o}=n,i=e.message.includes("Please add a primary key column"),l=e.message.includes("violates foreign key constraint"),s=o.length>1;if(l){let n=t.name,o=e.message.split("on table ")[2].replaceAll('"',""),i=e.message.split("foreign key constraint")[1].split("on table")[0].replaceAll('"',""),l=s?"Unable to delete rows as one of them is currently referenced by a foreign key constraint from the table `".concat(o,"`."):"Unable to delete row as it is currently referenced by a foreign key constraint from the table `".concat(o,"`."),c="Set an on delete behavior on the foreign key relation `".concat(i,"` in the `").concat(o,"` table to automatically respond when row(s) are being deleted in the `").concat(n,"` table.");(0,a.Am)(l,{description:(0,r.jsx)(x.U,{content:c,className:"[&>p]:m-0"}),action:(0,r.jsx)("div",{className:"w-full flex gap-x-2 !mx-0 mt-3",children:(0,r.jsx)(D.G,{href:"https://supabase.com/docs/guides/database/postgres/cascade-deletes"})})})}else i?(0,a.Am)("Unable to delete row(s) as table has no primary keys",{description:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Add a primary key column to your table first to serve as a unique identifier for each row before updating or deleting the row."}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(D.G,{href:"https://supabase.com/docs/guides/database/tables#primary-keys"})})]})}):a.Am.error("Failed to delete table row: ".concat(e.message))}else t(e,n,o)},...n})};async function C(e){let{projectRef:t,connectionString:n,table:r}=e,o=function(e){var t;let{table:n}=e;return new m.Query().from(n.name,null!==(t=n.schema)&&void 0!==t?t:void 0).truncate().toSql()}({table:r}),{result:i}=await (0,v.R)({projectRef:t,connectionString:n,sql:o});return i}let E=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.NL)();return(0,f.D)(e=>C(e),{async onSuccess(t,n,o){let{projectRef:i,table:l}=n;await r.invalidateQueries(b.s.tableRowsAndCount(i,l.id)),await (null==e?void 0:e(t,n,o))},async onError(e,n,r){void 0===t?a.Am.error("Failed to truncate table row: ".concat(e.message)):t(e,n,r)},...n})};var T=n(48563),k=n(46585),A=n(17481),R=n(98334),N=n(79405),F=n(31145),L=n(62848),P=n(32081),Z=n(64098),O=n(98754),z=e=>{var t,n,i,d,f,m,v,h,b;let{selectedTable:g,onAfterDeleteTable:y=R.ZT}=e,{project:x}=(0,c.d2)(),D=(0,N._2)(),{selectedSchema:j}=(0,A.B)(),{filters:C,setParams:z}=(0,O.T)(),_=(0,s.Yb)(C),M=(0,k.AF)({projectRef:null==x?void 0:x.ref,connectionString:null==x?void 0:x.connectionString}),I=e=>{let{ref:t,tableName:n,schema:r,columnName:o}=e;z(e=>{var i,l;let a=null!==(i=null==e?void 0:e.filter)&&void 0!==i?i:[],c=null!==(l=null==e?void 0:e.sort)&&void 0!==l?l:[],u={filter:a.filter(e=>{let[t]=e.split(":");if(t!==o)return e}),sort:c.filter(e=>{let[t]=e.split(":");if(t!==o)return e})};return(0,s.OM)({projectRef:t,tableName:n,schema:r,filters:u.filter,sorts:u.sort}),{...e,...u}})},{mutate:q}=(0,u.v)({onSuccess:()=>{var e;if((null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)!=="column")return;let t=D.confirmationDialog.column;(null==x?void 0:x.ref)&&(null==g?void 0:g.name)&&(I({ref:null==x?void 0:x.ref,tableName:null==g?void 0:g.name,schema:t.schema,columnName:t.name}),a.Am.success('Successfully deleted column "'.concat(t.name,'"')))},onError:e=>{var t;if((null===(t=D.confirmationDialog)||void 0===t?void 0:t.type)!=="column")return;let n=D.confirmationDialog.column;a.Am.error("Failed to delete ".concat(n.name,": ").concat(e.message))},onSettled:()=>{D.closeConfirmationDialog()}}),{mutate:V}=(0,T.H)({onSuccess:async()=>{y(await M(j)),a.Am.success('Successfully deleted table "'.concat(null==g?void 0:g.name,'"'))},onError:e=>{a.Am.error("Failed to delete ".concat(null==g?void 0:g.name,": ").concat(e.message))},onSettled:()=>{D.closeConfirmationDialog()}}),{mutate:H}=S({onSuccess:()=>{var e,t,n;(null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)==="row"&&(null===(t=(n=D.confirmationDialog).callback)||void 0===t||t.call(n)),a.Am.success("Successfully deleted selected row(s)")},onSettled:()=>{D.closeConfirmationDialog()}}),{mutate:$}=w({onSuccess:()=>{var e,t,n;(null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)==="row"&&(null===(t=(n=D.confirmationDialog).callback)||void 0===t||t.call(n)),a.Am.success("Successfully deleted selected rows")},onError:e=>{a.Am.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{D.closeConfirmationDialog()}}),{mutate:G}=E({onSuccess:()=>{var e,t,n;(null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)==="row"&&(null===(t=(n=D.confirmationDialog).callback)||void 0===t||t.call(n)),a.Am.success("Successfully deleted all rows from table")},onError:e=>{a.Am.error("Failed to delete rows: ".concat(e.message))},onSettled:()=>{D.closeConfirmationDialog()}}),U=(null===(t=D.confirmationDialog)||void 0===t?void 0:t.type)==="row"&&D.confirmationDialog.allRowsSelected,Q=(null===(n=D.confirmationDialog)||void 0===n?void 0:n.type)==="row"?D.confirmationDialog.allRowsSelected?null!==(b=D.confirmationDialog.numRows)&&void 0!==b?b:0:D.confirmationDialog.rows.length:0,X=((null===(i=D.confirmationDialog)||void 0===i?void 0:i.type)==="column"||(null===(d=D.confirmationDialog)||void 0===d?void 0:d.type)==="table")&&D.confirmationDialog.isDeleteWithCascade,W=async()=>{var e;if((null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)!=="column"||void 0===x)return;let t=D.confirmationDialog.column;void 0!==t&&q({id:t.id,cascade:X,projectRef:x.ref,connectionString:null==x?void 0:x.connectionString,table:g})},B=async()=>{var e;(null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)==="table"&&void 0!==g&&V({projectRef:null==x?void 0:x.ref,connectionString:null==x?void 0:x.connectionString,schema:g.schema,id:g.id,cascade:X})},J=(0,p.MG)(),Y=async()=>{var e;if(!x)return console.error("Project ref is required");if(!g)return console.error("Selected table required");if((null===(e=D.confirmationDialog)||void 0===e?void 0:e.type)!=="row")return;let t=D.confirmationDialog.rows;if(D.confirmationDialog.allRowsSelected){if(0===_.length){if(void 0!==J().role)return D.closeConfirmationDialog(),a.Am.error("Table truncation is not supported when impersonating a role");G({projectRef:x.ref,connectionString:x.connectionString,table:g})}else $({projectRef:x.ref,connectionString:x.connectionString,table:g,filters:_,roleImpersonationState:J()})}else H({projectRef:x.ref,connectionString:x.connectionString,table:g,rows:t,roleImpersonationState:J()})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{variant:"destructive",size:"small",visible:(null===(f=D.confirmationDialog)||void 0===f?void 0:f.type)==="column",title:'Confirm deletion of column "'.concat((null===(m=D.confirmationDialog)||void 0===m?void 0:m.type)==="column"&&D.confirmationDialog.column.name,'"'),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{D.closeConfirmationDialog()},onConfirm:W,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected column? This action cannot be undone."}),(0,r.jsx)(F.Z,{label:"Drop column with cascade?",description:"Deletes the column and its dependent objects",checked:X,onChange:()=>D.toggleConfirmationIsWithCascade(),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),X&&(0,r.jsxs)(L.bZ,{variant:"warning",title:"Warning: Dropping with cascade may result in unintended consequences",children:[(0,r.jsx)(L.Cd,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,r.jsx)(L.X,{children:(0,r.jsx)(P.z,{asChild:!0,size:"tiny",type:"default",icon:(0,r.jsx)(o.Z,{}),children:(0,r.jsx)(l(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,r.jsx)(Z.Z,{variant:"destructive",size:"small",visible:(null===(v=D.confirmationDialog)||void 0===v?void 0:v.type)==="table",title:(0,r.jsx)("span",{className:"break-words",children:'Confirm deletion of table "'.concat(null==g?void 0:g.name,'"')}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{D.closeConfirmationDialog()},onConfirm:B,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected table? This action cannot be undone."}),(0,r.jsx)(F.Z,{label:"Drop table with cascade?",description:"Deletes the table and its dependent objects",checked:X,onChange:()=>D.toggleConfirmationIsWithCascade(!X),"data-sentry-element":"Checkbox","data-sentry-source-file":"DeleteConfirmationDialogs.tsx"}),X&&(0,r.jsxs)(L.bZ,{variant:"warning",children:[(0,r.jsx)(L.Cd,{children:"Warning: Dropping with cascade may result in unintended consequences"}),(0,r.jsx)(L.X,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,r.jsx)(L.X,{className:"mt-4",children:(0,r.jsx)(P.z,{asChild:!0,size:"tiny",type:"default",icon:(0,r.jsx)(o.Z,{}),children:(0,r.jsx)(l(),{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,r.jsx)(Z.Z,{variant:"destructive",size:"small",visible:(null===(h=D.confirmationDialog)||void 0===h?void 0:h.type)==="row",title:(0,r.jsxs)("p",{className:"break-words",children:[(0,r.jsx)("span",{children:"Confirm to delete the selected row"}),(0,r.jsx)("span",{children:Q>1&&"s"})]}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>D.closeConfirmationDialog(),onConfirm:()=>Y(),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"DeleteConfirmationDialogs.tsx",children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:[(0,r.jsx)("span",{children:"Are you sure you want to delete "}),(0,r.jsxs)("span",{children:[U?"all":"the selected"," "]}),(0,r.jsx)("span",{children:Q>1&&"".concat(Q," ")}),(0,r.jsx)("span",{children:"row"}),(0,r.jsx)("span",{children:Q>1&&"s"}),(0,r.jsx)("span",{children:"? This action cannot be undone."})]})})})]})}},74669:function(e,t,n){"use strict";n.r(t);var r=n(31549),o=n(44194),i=n(16083),l=n(97894),a=n(18346),s=n(84116),c=n(47226),u=n(84132),d=n(26903),f=n(79405);let m=()=>{let e=(0,f._2)(),[t,n]=(0,o.useState)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u._S,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"index.tsx",children:(0,r.jsx)(u.jX,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"index.tsx",children:(0,r.jsxs)("div",{className:"col-span-12",children:[(0,r.jsx)(d.p,{title:"Database Tables","data-sentry-element":"FormHeader","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(i.bw,{onAddTable:e.onAddTable,onEditTable:t=>{n(t),e.onEditTable()},onDeleteTable:t=>{n(t),e.onDeleteTable()},onDuplicateTable:t=>{n(t),e.onDuplicateTable()},"data-sentry-element":"TableList","data-sentry-source-file":"index.tsx"})]})})}),(0,r.jsx)(a.Z,{selectedTable:t,"data-sentry-element":"DeleteConfirmationDialogs","data-sentry-source-file":"index.tsx"}),(0,r.jsx)(l.l5,{includeColumns:!0,selectedTable:t,"data-sentry-element":"SidePanelEditor","data-sentry-source-file":"index.tsx"})]})};m.getLayout=e=>(0,r.jsx)(c.Z,{children:(0,r.jsx)(s.Z,{title:"Database",children:e})}),t.default=m},3999:function(e,t,n){"use strict";let r;n.d(t,{u:function(){return F}});var o=n(44194),i=n(45293),l=n(77500),a=n(40392),s=n(79265);function c(){let e=(0,o.useRef)(!1);return(0,s.e)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var u=n(34165),d=n(2448),f=n(57382),m=n(92206);function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.add(...n)}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.remove(...n)}var p=n(27119),b=n(68531),g=n(25864);function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter(e=>e.trim().length>1)}let w=(0,o.createContext)(null);w.displayName="TransitionContext";var x=((r=x||{}).Visible="visible",r.Hidden="hidden",r);let D=(0,o.createContext)(null);function j(e){return"children"in e?j(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function S(e,t){let n=(0,u.E)(e),r=(0,o.useRef)([]),l=c(),s=(0,p.G)(),d=(0,b.z)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.l4.Hidden,o=r.current.findIndex(t=>{let{el:n}=t;return n===e});-1!==o&&((0,a.E)(t,{[i.l4.Unmount](){r.current.splice(o,1)},[i.l4.Hidden](){r.current[o].state="hidden"}}),s.microTask(()=>{var e;!j(r)&&l.current&&(null==(e=n.current)||e.call(n))}))}),f=(0,b.z)(e=>{let t=r.current.find(t=>{let{el:n}=t;return n===e});return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>d(e,i.l4.Unmount)}),m=(0,o.useRef)([]),v=(0,o.useRef)(Promise.resolve()),h=(0,o.useRef)({enter:[],leave:[],idle:[]}),g=(0,b.z)((e,n,r)=>{m.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter(t=>{let[n]=t;return n!==e})),null==t||t.chains.current[n].push([e,new Promise(e=>{m.current.push(e)})]),null==t||t.chains.current[n].push([e,new Promise(e=>{Promise.all(h.current[n].map(e=>{let[t,n]=e;return n})).then(()=>e())})]),"enter"===n?v.current=v.current.then(()=>null==t?void 0:t.wait.current).then(()=>r(n)):r(n)}),y=(0,b.z)((e,t,n)=>{Promise.all(h.current[t].splice(0).map(e=>{let[t,n]=e;return n})).then(()=>{var e;null==(e=m.current.shift())||e()}).then(()=>n(t))});return(0,o.useMemo)(()=>({children:r,register:f,unregister:d,onStart:g,onStop:y,wait:v,chains:h}),[f,d,r,g,y,h,v])}function C(){}D.displayName="NestingContext";let E=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function T(e){var t;let n={};for(let r of E)n[r]=null!=(t=e[r])?t:C;return n}let k=i.AN.RenderStrategy,A=(0,i.yV)(function(e,t){let{show:n,appear:r=!1,unmount:a=!0,...c}=e,u=(0,o.useRef)(null),m=(0,f.T)(u,t);(0,d.H)();let v=(0,l.oJ)();if(void 0===n&&null!==v&&(n=(v&l.ZM.Open)===l.ZM.Open),![!0,!1].includes(n))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=(0,o.useState)(n?"visible":"hidden"),g=S(()=>{p("hidden")}),[y,x]=(0,o.useState)(!0),C=(0,o.useRef)([n]);(0,s.e)(()=>{!1!==y&&C.current[C.current.length-1]!==n&&(C.current.push(n),x(!1))},[C,n]);let E=(0,o.useMemo)(()=>({show:n,appear:r,initial:y}),[n,r,y]);(0,o.useEffect)(()=>{if(n)p("visible");else if(j(g)){let e=u.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&p("hidden")}else p("hidden")},[n,g]);let T={unmount:a},A=(0,b.z)(()=>{var t;y&&x(!1),null==(t=e.beforeEnter)||t.call(e)}),N=(0,b.z)(()=>{var t;y&&x(!1),null==(t=e.beforeLeave)||t.call(e)});return o.createElement(D.Provider,{value:g},o.createElement(w.Provider,{value:E},(0,i.sY)({ourProps:{...T,as:o.Fragment,children:o.createElement(R,{ref:m,...T,...c,beforeEnter:A,beforeLeave:N})},theirProps:{},defaultTag:o.Fragment,features:k,visible:"visible"===h,name:"Transition"})))}),R=(0,i.yV)(function(e,t){var n,r,x;let C;let{beforeEnter:E,afterEnter:A,beforeLeave:R,afterLeave:N,enter:F,enterFrom:L,enterTo:P,entered:Z,leave:O,leaveFrom:z,leaveTo:_,...M}=e,I=(0,o.useRef)(null),q=(0,f.T)(I,t),V=null==(n=M.unmount)||n?i.l4.Unmount:i.l4.Hidden,{show:H,appear:$,initial:G}=function(){let e=(0,o.useContext)(w);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[U,Q]=(0,o.useState)(H?"visible":"hidden"),X=function(){let e=(0,o.useContext)(D);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:W,unregister:B}=X;(0,o.useEffect)(()=>W(I),[W,I]),(0,o.useEffect)(()=>{if(V===i.l4.Hidden&&I.current){if(H&&"visible"!==U){Q("visible");return}return(0,a.E)(U,{hidden:()=>B(I),visible:()=>W(I)})}},[U,I,W,B,H,V]);let J=(0,u.E)({base:y(M.className),enter:y(F),enterFrom:y(L),enterTo:y(P),entered:y(Z),leave:y(O),leaveFrom:y(z),leaveTo:y(_)}),Y=(x={beforeEnter:E,afterEnter:A,beforeLeave:R,afterLeave:N},C=(0,o.useRef)(T(x)),(0,o.useEffect)(()=>{C.current=T(x)},[x]),C),K=(0,d.H)();(0,o.useEffect)(()=>{if(K&&"visible"===U&&null===I.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,U,K]);let ee=$&&H&&G,et=K&&(!G||$)?H?"enter":"leave":"idle",en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,n]=(0,o.useState)(e),r=c(),i=(0,o.useCallback)(e=>{r.current&&n(t=>t|e)},[t,r]),l=(0,o.useCallback)(e=>!!(t&e),[t]);return{flags:t,addFlag:i,hasFlag:l,removeFlag:(0,o.useCallback)(e=>{r.current&&n(t=>t&~e)},[n,r]),toggleFlag:(0,o.useCallback)(e=>{r.current&&n(t=>t^e)},[n])}}(0),er=(0,b.z)(e=>(0,a.E)(e,{enter:()=>{en.addFlag(l.ZM.Opening),Y.current.beforeEnter()},leave:()=>{en.addFlag(l.ZM.Closing),Y.current.beforeLeave()},idle:()=>{}})),eo=(0,b.z)(e=>(0,a.E)(e,{enter:()=>{en.removeFlag(l.ZM.Opening),Y.current.afterEnter()},leave:()=>{en.removeFlag(l.ZM.Closing),Y.current.afterLeave()},idle:()=>{}})),ei=S(()=>{Q("hidden"),B(I)},X);!function(e){let{immediate:t,container:n,direction:r,classes:o,onStart:i,onStop:l}=e,d=c(),f=(0,p.G)(),b=(0,u.E)(r);(0,s.e)(()=>{t&&(b.current="enter")},[t]),(0,s.e)(()=>{let e=(0,m.k)();f.add(e.dispose);let t=n.current;if(t&&"idle"!==b.current&&d.current){var r,s,c;let n,u,d,f,p,g,y;return e.dispose(),i.current(b.current),e.add((r=o.current,s="enter"===b.current,c=()=>{e.dispose(),l.current(b.current)},u=s?"enter":"leave",d=(0,m.k)(),f=void 0!==c?(n={called:!1},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!n.called)return n.called=!0,c(...t)}):()=>{},"enter"===u&&(t.removeAttribute("hidden"),t.style.display=""),p=(0,a.E)(u,{enter:()=>r.enter,leave:()=>r.leave}),g=(0,a.E)(u,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),y=(0,a.E)(u,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom}),h(t,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),v(t,...r.base,...p,...y),d.nextFrame(()=>{h(t,...r.base,...p,...y),v(t,...r.base,...p,...g),function(e,t){let n=(0,m.k)();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[i,l]=[r,o].map(e=>{let[t=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,t)=>t-e);return t}),a=i+l;if(0!==a){n.group(n=>{n.setTimeout(()=>{t(),n.dispose()},a),n.addEventListener(e,"transitionrun",e=>{e.target===e.currentTarget&&n.dispose()})});let r=n.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(t(),r())})}else t();n.add(()=>t()),n.dispose}(t,()=>(h(t,...r.base,...p),v(t,...r.base,...r.entered),f()))}),d.dispose)),e.dispose}},[r])}({immediate:ee,container:I,classes:J,direction:et,onStart:(0,u.E)(e=>{ei.onStart(I,e,er)}),onStop:(0,u.E)(e=>{ei.onStop(I,e,eo),"leave"!==e||j(ei)||(Q("hidden"),B(I))})});let el=M;return ee?el={...el,className:(0,g.A)(M.className,...J.current.enter,...J.current.enterFrom)}:(el.className=(0,g.A)(M.className,null==(r=I.current)?void 0:r.className),""===el.className&&delete el.className),o.createElement(D.Provider,{value:ei},o.createElement(l.up,{value:(0,a.E)(U,{visible:l.ZM.Open,hidden:l.ZM.Closed})|en.flags},(0,i.sY)({ourProps:{ref:q},theirProps:el,defaultTag:"div",features:k,visible:"visible"===U,name:"Transition.Child"})))}),N=(0,i.yV)(function(e,t){let n=null!==(0,o.useContext)(w),r=null!==(0,l.oJ)();return o.createElement(o.Fragment,null,!n&&r?o.createElement(A,{ref:t,...e}):o.createElement(R,{ref:t,...e}))}),F=Object.assign(A,{Child:N,Root:A})}},function(e){e.O(0,[6665,3659,6046,7034,5890,622,6989,3311,7440,2019,6333,846,6931,8736,551,5089,3235,2174,5518,5770,5538,9853,3287,7017,3500,5852,977,7226,357,6916,459,3112,2004,8993,2010,697,581,7582,7894,9774,2888,179],function(){return e(e.s=66680)}),_N_E=e.O()}]);