!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f78e2c47-db49-4b15-9209-518851f4fed8",e._sentryDebugIdIdentifier="sentry-dbid-f78e2c47-db49-4b15-9209-518851f4fed8")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7226],{45213:function(e,t,n){var a={"./androidkotlin/supabasekt/content":[7237,7237],"./astro/supabasejs/content":[95981,5981],"./drizzle/content":[37318,7318],"./exporeactnative/supabasejs/content":[20359,359],"./flutter/supabaseflutter/content":[72156,2156],"./ionicangular/supabasejs/content":[59680,9680],"./ionicreact/supabasejs/content":[89675,9675],"./nextjs/app/supabasejs/content":[12579,2579],"./nextjs/pages/supabasejs/content":[22237,2237],"./nuxt/supabasejs/content":[51356,1356],"./prisma/content":[33969,3969],"./react/create-react-app/supabasejs/content":[54113,4113],"./react/vite/supabasejs/content":[51425,1425],"./refine/supabasejs/content":[33882,3882],"./remix/supabasejs/content":[73685,274],"./solidjs/supabasejs/content":[75278,5278],"./sveltekit/supabasejs/content":[29951,9951],"./swift/supabaseswift/content":[39228,9228],"./vuejs/supabasejs/content":[11239,1239]};function r(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],r=t[0];return n.e(t[1]).then(function(){return n(r)})}r.keys=function(){return Object.keys(a)},r.id=45213,e.exports=r},20197:function(e,t,n){"use strict";n.d(t,{$w:function(){return s},Gh:function(){return o},OP:function(){return r}});var a=n(64603);let r=e=>{let t=e.find(e=>"compute_instance"===e.type);return{computeInstance:t,pitr:e.find(e=>"pitr"===e.type),customDomain:e.find(e=>"custom_domain"===e.type),ipv4:e.find(e=>"ipv4"===e.type)}},s=e=>{var t;return!!a.Qy&&(null!==(t=null==e?void 0:e.addons)&&void 0!==t?t:[]).some(e=>"addon_security_hipaa"===e.supabase_prod_id)},o=e=>{if(!e)return e;switch(e){case"fly":return"Fly.io";case"aws":return"AWS";case"vercel_marketplace":return"Vercel";default:return e}}},3194:function(e,t,n){"use strict";n.d(t,{B:function(){return l},F2:function(){return d},G2:function(){return m},LZ:function(){return f},Y4:function(){return i},_J:function(){return u},hk:function(){return c},nK:function(){return o},q_:function(){return p}});var a=n(7406),r=n(64603),s=n(854);let o=660,i=50,l=20,c={...r.S,INIT_READ_REPLICA:"INIT_READ_REPLICA",INIT_READ_REPLICA_FAILED:"INIT_READ_REPLICA_FAILED"},d={SOUTHEAST_ASIA:[103.8,1.37],NORTHEAST_ASIA:[139.42,35.41],NORTHEAST_ASIA_2:[126.98,37.56],CENTRAL_CANADA:[-73.6,45.5],WEST_US:[-121.96,37.35],EAST_US:[-78.45,38.13],WEST_EU:[-8,53],WEST_EU_2:[-.1,51],CENTRAL_EU:[8,50],SOUTH_ASIA:[72.88,19.08],OCEANIA:[151.2,-33.86],SOUTH_AMERICA:[-46.38,-23.34],CENTRAL_EU_2:[8.54,47.45],EAST_US_2:[-83,39.96],NORTH_EU:[17.91,59.65],WEST_EU_3:[2.35,48.86]},u={SOUTHEAST_ASIA:[103.8,1.37]},p=Object.keys(s.Wp).map(e=>({key:e,name:null===s.Wp||void 0===s.Wp?void 0:s.Wp[e].displayName,region:null===s.Wp||void 0===s.Wp?void 0:s.Wp[e].code,coordinates:d[e]})).filter(e=>void 0!==e.coordinates),m={[a.Vb.Requested]:"Requesting replica instance",[a.Vb.Started]:"Launching replica instance",[a.Vb.LaunchedReadReplicaInstance]:"Initiating replica setup",[a.Vb.InitiatedReadReplicaSetup]:"Downloading base backup",[a.Vb.DownloadedBaseBackup]:"Replaying WAL archives",[a.Vb.ReplayedWalArchives]:"Completing set up",[a.Vb.CompletedReadReplicaSetup]:"Completed"},f={[a.Bm.ReadReplicaInstanceLaunchFailed]:"Failed to launch replica",[a.Bm.InitiateReadReplicaSetupFailed]:"Failed to initiate replica",[a.Bm.DownloadBaseBackupFailed]:"Failed to download backup",[a.Bm.ReplayWalArchivesFailed]:"Failed to replay WAL archives",[a.Bm.CompleteReadReplicaSetupFailed]:"Failed to set up replica"}},70029:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var a=n(64603);let r=e=>[{title:"Manage",items:[{name:"Users",key:"users",url:"/project/".concat(e,"/auth/users"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(e,"/auth/policies"),items:[]},...a.Qy?[{name:"Sign In / Up",key:"sign-in-up",pages:["providers","third-party"],url:"/project/".concat(e,"/auth/providers"),items:[]},{name:"Sessions",key:"sessions",url:"/project/".concat(e,"/auth/sessions"),items:[]},{name:"Rate Limits",key:"rate-limits",url:"/project/".concat(e,"/auth/rate-limits"),items:[]},{name:"Emails",key:"emails",pages:["templates","smtp"],url:"/project/".concat(e,"/auth/templates"),items:[]},{name:"Multi-Factor",key:"mfa",url:"/project/".concat(e,"/auth/mfa"),items:[]},{name:"URL Configuration",key:"url-configuration",url:"/project/".concat(e,"/auth/url-configuration"),items:[]},{name:"Attack Protection",key:"protection",url:"/project/".concat(e,"/auth/protection"),items:[]},{name:"Auth Hooks",key:"hooks",url:"/project/".concat(e,"/auth/hooks"),items:[],label:"BETA"},{name:"Advanced",key:"advanced",url:"/project/".concat(e,"/auth/advanced"),items:[]}]:[]]}]},10961:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var a=n(58971),r=n(28633),s=n(64603),o=n(96404);async function i(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{data:a,error:s}=await (0,r.U2)("/platform/projects/{ref}/config/pgbouncer",{params:{path:{ref:n}},signal:t});return s&&(0,r.S3)(s),a}let l=function(e){let{projectRef:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(o.A.pgbouncerConfig(t),e=>{let{signal:n}=e;return i({projectRef:t},n)},{enabled:n&&void 0!==t&&s.Qy,...r})}},90975:function(e,t,n){"use strict";n.d(t,{Q1:function(){return c},XL:function(){return d},jc:function(){return u}});var a=n(52823),r=n(58971),s=n(73571),o=n(96404);let i=a.Z.schemas.list();async function l(e,t){let{projectRef:n,connectionString:a}=e,{result:r}=await (0,s.R)({projectRef:n,connectionString:a,sql:i.sql,queryKey:["schemas"]},t);return r}let c=function(e){let{projectRef:t,connectionString:n}=e,{enabled:a=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.a)(o.A.schemas(t),e=>{let{signal:a}=e;return l({projectRef:t,connectionString:n},a)},{enabled:a&&void 0!==t,...s})};function d(e,t){return e.invalidateQueries(o.A.schemas(t))}function u(e,t){let{projectRef:n,connectionString:a}=t;return e.fetchQuery(o.A.schemas(n),e=>{let{signal:t}=e;return l({projectRef:n,connectionString:a},t)})}},55574:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var a=n(58971),r=n(28633),s=n(64603),o=n(96404);async function i(e,t){let{projectRef:n}=e;if(!n)throw Error("Project ref is required");let{data:a,error:s}=await (0,r.U2)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:n}},signal:t});return s&&(0,r.S3)(s),a}let l=function(e){let{projectRef:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(o.A.poolingConfiguration(t),e=>{let{signal:n}=e;return i({projectRef:t},n)},{enabled:n&&void 0!==t&&s.Qy,...r})}},44442:function(e,t,n){"use strict";var a,r;n.d(t,{l:function(){return a}}),(r=a||(a={})).TABLE="r",r.VIEW="v",r.MATERIALIZED_VIEW="m",r.FOREIGN_TABLE="f",r.PARTITIONED_TABLE="p"},72022:function(e,t,n){"use strict";n.d(t,{Hp:function(){return l},rE:function(){return c}});var a=n(45519),r=n(73571),s=n(44442),o=n(92513);async function i(e,t){let{projectRef:n,connectionString:a,schemas:o=["public"],search:i,limit:l=100,page:c=0,sort:d="alphabetical",filterTypes:u=Object.values(s.l)}=e,p='\n    with records as (\n      select\n        c.oid::int8 as "id",\n        nc.nspname as "schema",\n        c.relname as "name",\n        c.relkind as "type",\n        case c.relkind\n          when \'r\' then 1\n          when \'v\' then 2\n          when \'m\' then 3\n          when \'f\' then 4\n          when \'p\' then 5\n        end as "type_sort",\n        obj_description(c.oid) as "comment",\n        count(*) over() as "count",\n        c.relrowsecurity as "rls_enabled"\n      from\n        pg_namespace nc\n        join pg_class c on nc.oid = c.relnamespace\n      where\n        c.relkind in ('.concat(u.map(e=>"'".concat(e,"'")).join(", "),")\n        and not pg_is_other_temp_schema(nc.oid)\n        and (\n          pg_has_role(c.relowner, 'USAGE')\n          or has_table_privilege(\n            c.oid,\n            'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n          )\n          or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n        )\n        and nc.nspname in (").concat(o.map(e=>"'".concat(e,"'")),")\n        ").concat(i?"and c.relname ilike '%".concat(i,"%'"):"","\n      order by ").concat("alphabetical"===d?"c.relname asc":'"type_sort" asc, c.relname asc',"\n      limit ").concat(l,"\n      offset ").concat(c*l,"\n    )\n    select\n      jsonb_build_object(\n        'entities', coalesce(jsonb_agg(\n          jsonb_build_object(\n            'id', r.id,\n            'schema', r.schema,\n            'name', r.name,\n            'type', r.type,\n            'comment', r.comment,\n            'rls_enabled', r.rls_enabled\n          )\n          order by ").concat("alphabetical"===d?"r.name asc":"r.type_sort asc, r.name asc","\n        ), '[]'::jsonb),\n        'count', coalesce(min(r.count), 0)\n      ) \"data\"\n    from records r;\n  "),{result:m}=await (0,r.R)({projectRef:n,connectionString:a,sql:p,queryKey:["entity-types",...o,c]},t);return m[0]}let l=function(e){let{projectRef:t,connectionString:n,schemas:r=["public"],search:s,limit:l=100,sort:c,filterTypes:d}=e,{enabled:u=!0,...p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.N)(o.C.list(t,{schemas:r,search:s,sort:c,limit:l,filterTypes:d}),e=>{let{signal:a,pageParam:o}=e;return i({projectRef:t,connectionString:n,schemas:r,search:s,limit:l,page:o,sort:c,filterTypes:d},a)},{enabled:u&&void 0!==t,getNextPageParam(e,t){let n=t.length;if(!(n*l>=e.data.count))return n},...p})};function c(e,t){let{projectRef:n,connectionString:a,schemas:r=["public"],search:s,limit:l=100,sort:c,filterTypes:d}=t;return e.prefetchInfiniteQuery(o.C.list(n,{schemas:r,search:s,sort:c,limit:l,filterTypes:d}),e=>{let{signal:t,pageParam:o}=e;return i({projectRef:n,connectionString:a,schemas:r,search:s,limit:l,page:o,sort:c,filterTypes:d},t)})}},92513:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});let a={list:(e,t)=>["projects",e,"entity-types",...t?[t]:[]]}},93883:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});let a={lint:e=>["projects",e,"lint"],lintRules:e=>["projects",e,"lint-rules"]}},2834:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var a=n(58971),r=n(28633),s=n(80905),o=n(64603),i=n(93883);async function l(e,t){let{projectRef:n}=e;if(!n)throw Error("Project ref is required");let{data:a,error:s}=await (0,r.U2)("/platform/projects/{ref}/run-lints",{params:{path:{ref:n}},signal:t});return s&&(0,r.S3)(s),a}let c=function(e){let{projectRef:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,s.Vm)(),d=(null==c?void 0:c.status)===o.S.ACTIVE_HEALTHY;return(0,a.a)(i.X.lint(t),e=>{let{signal:n}=e;return l({projectRef:t},n)},{enabled:n&&void 0!==t&&d,...r})}},76378:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});let a={cliReleaseVersion:()=>["cliReleaseVersion"],defaultRegion:(e,t)=>["defaultRegion",[e,t]]}},4318:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a={list:e=>["project",e,"replicas"],statuses:e=>["project",e,"replicas-statuses"],loadBalancers:e=>["project",e,"load-balancers"],replicaLag:(e,t)=>["project",e,"replica-lag",t]}},55737:function(e,t,n){"use strict";n.d(t,{Zs:function(){return o},bN:function(){return c},l_:function(){return i},zU:function(){return d}});var a=n(58971),r=n(28633),s=n(4318);let o=2,i=5;async function l(e,t){let{projectRef:n}=e;if(!n)throw Error("Project ref is required");let{data:a,error:s}=await (0,r.U2)("/platform/projects/{ref}/databases",{params:{path:{ref:n}},signal:t});return s&&(0,r.S3)(s),a}let c=function(e){let{projectRef:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(s.Z.list(t),e=>{let{signal:n}=e;return l({projectRef:t},n)},{enabled:n&&void 0!==t,...r})},d=e=>{let{projectRef:t}=e,{data:n=[],error:a,isLoading:r,isError:s,isSuccess:o}=c({projectRef:t});return{database:n.find(e=>e.identifier===t),error:a,isLoading:r,isError:s,isSuccess:o}}},63351:function(e,t,n){"use strict";n.d(t,{U:function(){return o},f:function(){return i}});var a=n(3194),r=n(77875),s=n.n(r);let o=e=>{var t;return s()(null!==(t=e.split("-"))&&void 0!==t?t:[])},i=e=>{var t,n;return null===(t=s()(null===(n=a.q_.find(t=>t.region===e))||void 0===n?void 0:n.name.split("(")))||void 0===t?void 0:t.split(")")[0]}},64905:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});let a={orgSubscription:e=>["organizations",e,"subscription"],orgPlans:e=>["organizations",e,"plans"],addons:e=>["projects",e,"addons"]}},80710:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var a=n(58971),r=n(28633),s=n(64603),o=n(64905);async function i(e,t){let{projectRef:n}=e;if(!n)throw Error("projectRef is required");let{error:a,data:s}=await (0,r.U2)("/platform/projects/{ref}/billing/addons",{params:{path:{ref:n}},signal:t});return a&&(0,r.S3)(a),s}let l=function(e){let{projectRef:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(o.U.addons(t),e=>{let{signal:n}=e;return i({projectRef:t},n)},{enabled:n&&s.Qy&&void 0!==t,staleTime:36e5,...r})}},78934:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a={usage:e=>["projects",e,"usage"],orgUsage:(e,t,n,a)=>["organizations",e,"usage",t,n,a],resourceWarnings:()=>["projects","resource-warnings"]}},64957:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var a=n(58971),r=n(28633),s=n(64603),o=n(78934);async function i(e,t){let{orgSlug:n,projectRef:a,start:s,end:o}=e;if(!n)throw Error("orgSlug is required");let{data:i,error:l}=await (0,r.U2)("/platform/organizations/{slug}/usage",{params:{path:{slug:n},query:{project_ref:a,start:null==s?void 0:s.toISOString(),end:null==o?void 0:o.toISOString()}},signal:t});return l&&(0,r.S3)(l),i}let l=function(e){let{orgSlug:t,projectRef:n,start:r,end:l}=e,{enabled:c=!0,...d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(o.Z.orgUsage(t,n,null==r?void 0:r.toISOString(),null==l?void 0:l.toISOString()),e=>{let{signal:a}=e;return i({orgSlug:t,projectRef:n,start:r,end:l},a)},{enabled:c&&s.Qy&&void 0!==t,staleTime:18e5,...d})}},12071:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var a=n(28525);function r(e,t){return!(null==t?void 0:t.includes(e))}function s(e){let{profile:t}=(0,a.Un)();return Array.isArray(e)?Object.fromEntries(e.map(e=>[e.replace(/:/g,"_").split("_").map((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1)).join(""),r(e,null==t?void 0:t.disabled_features)])):r(e,null==t?void 0:t.disabled_features)}},9050:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var a=n(88042),r=n(86419),s=n(50378);function o(){var e;let t=(0,r.Qh)(),{ref:n}=(0,a.UO)(),o=null!==(e=(0,s.useRouter)().pathname)&&void 0!==e?e:"";return o.startsWith("/new")||"/organizations"===o||"/sign-in"===o||t||!!n}},98970:function(e,t,n){"use strict";n.d(t,{Py:function(){return X},ZG:function(){return Q},PA:function(){return J},YE:function(){return ee},TZ:function(){return et}});var a=n(31549),r=n(76770),s=n(21626),o=n(86474),i=n.n(o),l=n(80349),c=n(79738),d=n(53097),u=n(85520),p=n(10555),m=n(87252),f=n(33309),h=n(90570),g=n(57672),x=n.n(g),b=n(50378),y=n(44194),v=n(88042),j=n(81301),_=n(97023),N=n(51290),w=n(70029),S=n(35174),C=n(76068),E=n(34932),k=n(25002),A=n(64603);let z=(e,t,n)=>{let{sqlEditorTabs:r}=null!=n?n:{},s=(null==t?void 0:t.status)===A.S.COMING_UP,o="/project/".concat(e);return[{key:"editor",label:"Table Editor",icon:(0,a.jsx)(k.dD,{size:Q,strokeWidth:J}),link:e&&(s?o:"/project/".concat(e,"/editor")),linkElement:(0,a.jsx)(E.Y,{projectRef:e})},{key:"sql",label:"SQL Editor",icon:(0,a.jsx)(k.vu,{size:Q,strokeWidth:J}),link:A.Qy?e&&(s?o:"/project/".concat(e,"/sql").concat(r?"":"/new")):"/project/".concat(e,"/sql/1")}]},I=(e,t,n)=>{var r,s,o,i;let l=(null==t?void 0:t.status)===A.S.ACTIVE_HEALTHY,c=(null==t?void 0:t.status)===A.S.COMING_UP,d="/project/".concat(e),u=null===(r=null==n?void 0:n.auth)||void 0===r||r,p=null===(s=null==n?void 0:n.edgeFunctions)||void 0===s||s,m=null===(o=null==n?void 0:n.storage)||void 0===o||o,f=null===(i=null==n?void 0:n.realtime)||void 0===i||i,h=(0,S.i)(t),g=(0,w.O)(e);return[{key:"database",label:"Database",icon:(0,a.jsx)(k.vo,{size:Q,strokeWidth:J}),link:e&&(c?d:l?"/project/".concat(e,"/database/schemas"):"/project/".concat(e,"/database/backups/scheduled")),items:h},...u?[{key:"auth",label:"Authentication",icon:(0,a.jsx)(k.gx,{size:Q,strokeWidth:J}),link:e&&(c?d:"/project/".concat(e,"/auth/users")),items:g}]:[],...m?[{key:"storage",label:"Storage",icon:(0,a.jsx)(k.Ke,{size:Q,strokeWidth:J}),link:e&&(c?d:"/project/".concat(e,"/storage/buckets"))}]:[],...A.Qy&&p?[{key:"functions",label:"Edge Functions",icon:(0,a.jsx)(k.hL,{size:Q,strokeWidth:J}),link:e&&(c?d:"/project/".concat(e,"/functions"))}]:[],...f?[{key:"realtime",label:"Realtime",icon:(0,a.jsx)(k.Z7,{size:Q,strokeWidth:J}),link:e&&(c?d:"/project/".concat(e,"/realtime/inspector"))}]:[]]},L=(e,t)=>{let n=(null==t?void 0:t.status)===A.S.COMING_UP,r="/project/".concat(e);return[{key:"advisors",label:"Advisors",icon:(0,a.jsx)(j.Z,{size:Q,strokeWidth:J}),link:e&&(n?r:"/project/".concat(e,"/advisors/security"))},...A.Qy?[{key:"reports",label:"Reports",icon:(0,a.jsx)(k.Aq,{size:Q,strokeWidth:J}),link:e&&(n?r:"/project/".concat(e,"/reports"))}]:[],{key:"logs",label:"Logs",icon:(0,a.jsx)(_.Z,{size:Q,strokeWidth:J}),link:e&&(n?r:"/project/".concat(e,"/logs"))},{key:"api",label:"API Docs",icon:(0,a.jsx)(N.Z,{size:Q,strokeWidth:J}),link:e&&(n?r:"/project/".concat(e,"/api"))},{key:"integrations",label:"Integrations",icon:(0,a.jsx)(p.Z,{size:Q,strokeWidth:J}),link:e&&(n?r:"/project/".concat(e,"/integrations"))}]},R=(e,t)=>{let n=(0,C.E)(e);return[...A.Qy?[{key:"settings",label:"Project Settings",icon:(0,a.jsx)(h.Z,{size:Q,strokeWidth:J}),link:e&&"/project/".concat(e,"/settings/general"),items:n}]:[]]};var T=n(59928),D=n(49560),P=n(53137),O=n(2858),M=n(86419),F=n(12071),U=n(2834);let Z=()=>{let{ref:e}=(0,v.UO)(),{data:t}=(0,U.U)({projectRef:e}),n=(null!=t?t:[]).filter(e=>e.categories.includes("SECURITY")),a=n.filter(e=>"ERROR"===e.level);return{securityLints:n,errorLints:a}};var H=n(86342),W=n(86555),B=n(59880),V=n(75026),q=n(97706),$=n(32081),G=n(16154),Y=n(54045);let Q=32,J=1.5,X="expandable",K=(0,r.E)(V.DD),ee=e=>{let{className:t,...n}=e,r=(0,M.Qh)(),{ref:o}=(0,v.UO)(),{setOpen:i}=(0,V.Ap)(),c=function(){var e;let t=(0,M.Qh)(),n=null!==(e=(0,O.usePathname)())&&void 0!==e?e:"";return n.startsWith("/account")||n.startsWith("/new")||"/organizations"===n||"/sign-in"===n||"/projects"===n&&t}(),[d,u]=(0,H.l)(A.dA.SIDEBAR_BEHAVIOR,X);return((0,y.useEffect)(()=>{"open"===d&&i(!0),"closed"===d&&i(!1)},[d,i]),r||o)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.M,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"Sidebar.tsx",children:!c&&(0,a.jsx)(K,{...n,transition:{delay:.4,duration:.4},overflowing:"expandable"===d,collapsible:"icon",variant:"sidebar",onMouseEnter:()=>{"expandable"===d&&i(!0)},onMouseLeave:()=>{"expandable"===d&&i(!1)},children:(0,a.jsx)(et,{footer:(0,a.jsxs)(q.h_,{children:[(0,a.jsx)(q.$F,{asChild:!0,children:(0,a.jsx)($.z,{type:"text",className:"w-min px-1.5 mx-0.5 group-data-[state=expanded]:px-2",icon:(0,a.jsx)(l.Z,{size:Q,strokeWidth:J})})}),(0,a.jsx)(q.AW,{side:"top",align:"start",className:"w-40",children:(0,a.jsxs)(q._x,{value:d,onValueChange:e=>u(e),children:[(0,a.jsx)(q.Ju,{children:"Sidebar control"}),(0,a.jsx)(q.VD,{}),(0,a.jsx)(q.qB,{value:"open",children:"Expanded"}),(0,a.jsx)(q.qB,{value:"closed",children:"Collapsed"}),(0,a.jsx)(q.qB,{value:"expandable",children:"Expand on hover"})]})})]})})})})}):null},et=e=>{let{footer:t}=e,n=(0,M.Qh)(),{ref:o}=(0,v.UO)(),i=(0,b.useRouter)(),{ref:l}=(0,v.UO)(),{project:c}=(0,T.d2)();return R(l,c),i.pathname.split("/")[3],(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.M,{mode:"wait","data-sentry-element":"AnimatePresence","data-sentry-source-file":"Sidebar.tsx",children:(0,a.jsx)(V.TZ,{"data-sentry-element":"SidebarContentPrimitive","data-sentry-source-file":"Sidebar.tsx",children:o?(0,a.jsx)(r.E.div,{children:(0,a.jsx)(er,{})},"project-links"):(0,a.jsx)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeOut"},children:n?(0,a.jsx)(eo,{}):(0,a.jsx)(es,{})},"org-links")})}),(0,a.jsx)(V.ZW,{"data-sentry-element":"SidebarFooter","data-sentry-source-file":"Sidebar.tsx",children:(0,a.jsx)(V.Hz,{className:"p-0","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:t})})]})};function en(e){let{route:t,active:n,onClick:r,...s}=e,[o]=(0,H.l)(A.dA.SIDEBAR_BEHAVIOR,X),i={tooltip:"closed"===o?t.label:"",isActive:n,className:"text-sm",size:"default",onClick:r},l=s.children?s.children:(0,a.jsxs)(a.Fragment,{children:[t.icon,(0,a.jsx)("span",{children:t.label})]});return(0,a.jsx)(V.LO,{"data-sentry-element":"SidebarMenuItem","data-sentry-component":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx",children:t.link?(0,a.jsx)(V.bb,{...i,asChild:!0,children:(0,a.jsx)(x(),{href:t.link,children:l})}):(0,a.jsx)(V.bb,{...i,children:l})})}let ea=(e,t)=>(0,a.jsx)("div",{className:(0,G.cn)("absolute pointer-events-none flex h-2 w-2 left-[18px] group-data-[state=expanded]:left-[20px] top-2 z-10 rounded-full",e.length>0?"bg-destructive-600":t.length>0?"bg-warning-600":"bg-transparent"),"data-sentry-component":"ActiveDot","data-sentry-source-file":"Sidebar.tsx"}),er=()=>{let e=(0,b.useRouter)(),{ref:t}=(0,v.UO)(),{project:n}=(0,T.d2)(),r=(0,B.WZ)(),s=(0,M.cg)(),{securityLints:o,errorLints:l}=Z(),c=(0,W.P)("warehouse"),d=(0,M.Ff)(),u=e.pathname.split("/")[3],{projectAuthAll:p,projectEdgeFunctionAll:m,projectStorageAll:f,realtimeAll:h}=(0,F.N)(["project_auth:all","project_edge_function:all","project_storage:all","realtime:all"]),g=z(t,n,{sqlEditorTabs:d}),x=I(t,n,{auth:p,edgeFunctions:m,storage:f,realtime:h}),y=L(t,n),j=R(t,n);return(0,a.jsxs)(V.w3,{"data-sentry-element":"SidebarMenu","data-sentry-component":"ProjectLinks","data-sentry-source-file":"Sidebar.tsx",children:[(0,a.jsxs)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:[(0,a.jsx)(en,{active:i()(u)&&!i()(e.query.ref),route:{key:"HOME",label:"Project overview",icon:(0,a.jsx)(k.SK,{size:Q,strokeWidth:J}),link:"/project/".concat(t),linkElement:(0,a.jsx)(P.I,{projectRef:t})},"data-sentry-element":"SideBarNavLink","data-sentry-source-file":"Sidebar.tsx"},"home"),g.map((e,t)=>(0,a.jsx)(en,{route:e,active:u===e.key},"tools-routes-".concat(t)))]}),(0,a.jsx)(Y.Z,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:x.map((e,t)=>(0,a.jsx)(en,{route:e,active:u===e.key},"product-routes-".concat(t)))}),(0,a.jsx)(Y.Z,{className:"w-[calc(100%-1rem)] mx-auto","data-sentry-element":"Separator","data-sentry-source-file":"Sidebar.tsx"}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:y.map((e,t)=>{if("api"===e.key&&s)return(0,a.jsx)(en,{route:{label:e.label,icon:e.icon,key:e.key},onClick:()=>{r.setShowProjectApiDocs(!0)}},"other-routes-".concat(t));if("advisors"===e.key)return(0,a.jsxs)("div",{className:"relative",children:[ea(l,o),(0,a.jsx)(en,{route:e,active:u===e.key},"other-routes-".concat(t))]},e.key);if("logs"!==e.key)return(0,a.jsx)(en,{route:e,active:u===e.key},"other-routes-".concat(t));{let n=c?"Logs & Analytics":e.label,r={...e,label:n};return(0,a.jsx)(en,{route:r,active:u===r.key},"other-routes-".concat(t))}})}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:j.map((e,t)=>(0,a.jsx)(en,{route:e,active:u===e.key},"settings-routes-".concat(t)))})]})},es=()=>{let{data:e=[]}=(0,D.tl)(),t=e.map(e=>({label:e.name,href:"/org/".concat(e.slug,"/general"),key:e.slug})),n=[{label:"Guides",href:"https://supabase.com/docs",key:"guides",icon:(0,a.jsx)(c.Z,{})},{label:"API Reference",href:"https://supabase.com/docs/guides/api",key:"api-reference",icon:(0,a.jsx)(c.Z,{})}];return(0,a.jsxs)(V.w3,{className:"flex flex-col gap-y-1 items-start","data-sentry-element":"SidebarMenu","data-sentry-component":"HomePageLinks","data-sentry-source-file":"Sidebar.tsx",children:[(0,a.jsx)(V.nO,{className:"px-4 h-auto pt-4","data-sentry-element":"SidebarGroupLabel","data-sentry-source-file":"Sidebar.tsx",children:"Organizations"}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:t.map(e=>(0,a.jsx)(en,{active:!1,route:{label:e.label,link:e.href,key:e.label}},e.key))}),(0,a.jsx)(V.tm,{className:"!bg-border-overlay w-full mx-0","data-sentry-element":"SidebarSeparator","data-sentry-source-file":"Sidebar.tsx"}),(0,a.jsx)(V.nO,{className:"px-4 h-auto pt-4","data-sentry-element":"SidebarGroupLabel","data-sentry-source-file":"Sidebar.tsx",children:"Account"}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:[{label:"Preferences",href:"/account/me",key:"preferences"},{label:"Access Tokens",href:"/account/tokens",key:"account-tokens"},{label:"Security",href:"/account/security",key:"security"},{label:"Audit Logs",href:"/account/audit",key:"audit-logs"}].map(e=>(0,a.jsx)(en,{active:!1,route:{label:e.label,link:e.href,key:e.label}},e.key))}),(0,a.jsx)(V.tm,{className:"!bg-border-overlay w-full mx-0","data-sentry-element":"SidebarSeparator","data-sentry-source-file":"Sidebar.tsx"}),(0,a.jsx)(V.nO,{className:"px-4 h-auto pt-4","data-sentry-element":"SidebarGroupLabel","data-sentry-source-file":"Sidebar.tsx",children:"Documentation"}),(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:n.map(e=>(0,a.jsx)(en,{active:!1,route:{label:e.label,link:e.href,key:e.label,icon:e.icon}},e.key))})]})},eo=()=>{let e=(0,b.useRouter)(),{slug:t}=(0,v.UO)(),n=e.pathname.split("/")[3],r=[{label:"Projects",href:"/org/".concat(t),key:"projects",icon:(0,a.jsx)(d.Z,{size:Q,strokeWidth:J})},{label:"Team",href:"/org/".concat(t,"/team"),key:"team",icon:(0,a.jsx)(u.Z,{size:Q,strokeWidth:J})},{label:"Integrations",href:"/org/".concat(t,"/integrations"),key:"integrations",icon:(0,a.jsx)(p.Z,{size:Q,strokeWidth:J})},{label:"Usage",href:"/org/".concat(t,"/usage"),key:"usage",icon:(0,a.jsx)(m.Z,{size:Q,strokeWidth:J})},{label:"Billing",href:"/org/".concat(t,"/billing"),key:"billing",icon:(0,a.jsx)(f.Z,{size:Q,strokeWidth:J})},{label:"Organization settings",href:"/org/".concat(t,"/general"),key:"settings",icon:(0,a.jsx)(h.Z,{size:Q,strokeWidth:J})}];return(0,a.jsx)(V.w3,{className:"flex flex-col gap-1 items-start","data-sentry-element":"SidebarMenu","data-sentry-component":"OrganizationLinks","data-sentry-source-file":"Sidebar.tsx",children:(0,a.jsx)(V.Hz,{className:"gap-0.5","data-sentry-element":"SidebarGroup","data-sentry-source-file":"Sidebar.tsx",children:r.map((t,r)=>(0,a.jsx)(en,{active:0===r?void 0===n:"settings"===t.key?e.pathname.includes("/general")||e.pathname.includes("/apps")||e.pathname.includes("/audit")||e.pathname.includes("/documents"):n===t.key,route:{label:t.label,link:t.href,key:t.label,icon:t.icon}},t.key))})})}},35174:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var a=n(31549),r=n(64603),s=n(79738);let o=(e,t)=>{var n;let o=null!==(n=null==e?void 0:e.ref)&&void 0!==n?n:"default",{pgNetExtensionExists:i,pitrEnabled:l,columnLevelPrivileges:c}=t||{};return[{title:"Database Management",items:[{name:"Schema Visualizer",key:"schemas",url:"/project/".concat(o,"/database/schemas"),items:[]},{name:"Tables",key:"tables",url:"/project/".concat(o,"/database/tables"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(o,"/database/functions"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(o,"/database/triggers"),items:[]},{name:"Enumerated Types",key:"types",url:"/project/".concat(o,"/database/types"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(o,"/database/extensions"),items:[]},{name:"Indexes",key:"indexes",url:"/project/".concat(o,"/database/indexes"),items:[]},{name:"Publications",key:"publications",url:"/project/".concat(o,"/database/publications"),items:[]}]},{title:"Access Control",items:[{name:"Roles",key:"roles",url:"/project/".concat(o,"/database/roles"),items:[]},...c?[{name:"Column Privileges",key:"column-privileges",url:"/project/".concat(o,"/database/column-privileges"),items:[],label:"ALPHA"}]:[],{name:"Policies",key:"policies",url:"/project/".concat(o,"/auth/policies"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]},{title:"Platform",items:[...r.Qy?[{name:"Backups",key:"backups",url:l?"/project/".concat(o,"/database/backups/pitr"):"/project/".concat(o,"/database/backups/scheduled"),items:[]}]:[],{name:"Migrations",key:"migrations",url:"/project/".concat(o,"/database/migrations"),items:[]},{name:"Wrappers",key:"wrappers",url:"/project/".concat(o,"/integrations?category=wrapper"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},...i?[{name:"Webhooks",key:"hooks",url:"/project/".concat(o,"/integrations/webhooks/overview"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]:[]]},{title:"Tools",items:[{name:"Security Advisor",key:"security-advisor",url:"/project/".concat(o,"/advisors/security"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Performance Advisor",key:"performance-advisor",url:"/project/".concat(o,"/advisors/performance"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(o,"/advisors/query-performance"),rightIcon:(0,a.jsx)(s.Z,{strokeWidth:1,className:"h-4 w-4"}),items:[]}]}]}},47226:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var a=n(31549),r=n(88042),s=n(69063),o=n(78201),i=n(86419),l=n(98970),c=n(9050),d=n(75026),u=n(74709),p=n(88887),m=n(95606),f=n(57672),h=n.n(f),g=n(50378),x=n(44194),b=n(64603),y=n(16154),v=n(32081),j=n(95897),_=n(73503),N=()=>{let e=(0,g.useRouter)(),[t,n]=(0,x.useState)(!1),{ref:s}=(0,r.UO)();return(0,a.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden","data-sentry-component":"MobileNavigationBar","data-sentry-source-file":"MobileNavigationBar.tsx",children:[(0,a.jsxs)("nav",{className:(0,y.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,a.jsx)(h(),{href:b.Qy?"/projects":"/project/".concat(s),className:"flex items-center h-[26px] w-[26px] min-w-[26px]","data-sentry-element":"Link","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(j.av,{"data-sentry-element":"CommandMenuTrigger","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)("button",{className:(0,y.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(p.Z,{size:18,strokeWidth:2,"data-sentry-element":"Search","data-sentry-source-file":"MobileNavigationBar.tsx"})})})}),(0,a.jsx)("button",{title:"Menu dropdown button",className:(0,y.cn)((0,v.d)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>n(!0),children:(0,a.jsx)(m.Z,{size:18,strokeWidth:1,"data-sentry-element":"Menu","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})]}),(0,a.jsx)(_.Z,{open:t,onOpenChange:n,"data-state":"expanded","data-sentry-element":"MobileSheetNav","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)(l.TZ,{"data-sentry-element":"SidebarContent","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})},w=n(59928),S=e=>{let{children:t,headerTitle:n}=e,p=(0,i.Qh)(),m=(0,c.S)(),{ref:f}=(0,r.UO)();return(0,a.jsx)(d.Hn,{defaultOpen:!1,"data-sentry-element":"SidebarProvider","data-sentry-component":"DefaultLayout","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsx)(w.Ml,{projectRef:f,"data-sentry-element":"ProjectContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsx)(o.EA,{"data-sentry-element":"AppBannerContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,a.jsx)(s.l,{"data-sentry-element":"AppBannerWrapper","data-sentry-source-file":"DefaultLayout.tsx"}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:[(0,a.jsx)(N,{"data-sentry-element":"MobileNavigationBar","data-sentry-source-file":"DefaultLayout.tsx"}),p||m?(0,a.jsx)(u.Z,{headerTitle:n}):null]}),(0,a.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,a.jsx)(l.YE,{"data-sentry-element":"Sidebar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,a.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:t})]})]})})})})}},74709:function(e,t,n){"use strict";n.d(t,{Z:function(){return nN}});var a=n(31549),r=n(21626),s=n(76770),o=n(57672),i=n.n(o),l=n(44194),c=n(88042),d=n(86419),u=n(40540),p=n(42265),m=n(41791),f=n(58156),h=n(20292),g=n(20197),x=n(99699),b=n(77352),y=n(97339),v=n(10961),j=n(55574),_=n(55737),N=n(80710),w=n(11931),S=n(87941),C=n(64603),E=n(19732),k=n(98645),A=n(16154),z=n(31869),I=n(66953),L=n(66898),R=n(99125),T=n(32081),D=n(82461),P=n(54045),O=n(83617);let M=[{id:"uri",label:"URI",contentType:"input",lang:"bash",fileTitle:void 0},{id:"psql",label:"PSQL",contentType:"code",lang:"bash",fileTitle:void 0},{id:"golang",label:"Golang",contentType:"code",lang:"go",fileTitle:".env"},{id:"jdbc",label:"JDBC",contentType:"input",lang:"bash",fileTitle:void 0},{id:"dotnet",label:".NET",contentType:"code",lang:"csharp",fileTitle:"appsettings.json"},{id:"nodejs",label:"Node.js",contentType:"code",lang:"js",fileTitle:".env"},{id:"php",label:"PHP",contentType:"code",lang:"php",fileTitle:".env"},{id:"python",label:"Python",contentType:"code",lang:"python",fileTitle:".env"},{id:"sqlalchemy",label:"SQLAlchemy",contentType:"code",lang:"python",fileTitle:".env"}],F={host:{key:"host",description:"The hostname of your database"},port:{key:"port",description:"Port number for the connection"},database:{key:"database",description:"Default database name"},user:{key:"user",description:"Database user"},pool_mode:{key:"pool_mode",description:"Connection pooling behavior"}},U=[{key:"nextjs",label:"Next.js",icon:"nextjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nextjs",children:[{key:"app",label:"App Router",icon:"",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"pages",label:"Pages Router",icon:"",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"remix",label:"Remix",icon:"remix",guideLink:"https://supabase.com/docs/guides/auth/server-side/creating-a-client?framework=remix&environment=remix-loader",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"react",label:"React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/reactjs",children:[{key:"create-react-app",label:"Create React App",icon:"react",children:[{key:"supabasejs",label:"supabase-js",icon:"supabase",children:[]}]},{key:"vite",label:"Vite",icon:"vite",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}]},{key:"nuxt",label:"Nuxt",icon:"nuxt",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/nuxtjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"vuejs",label:"Vue.JS",icon:"vuejs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/vue",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"sveltekit",label:"SvelteKit",icon:"sveltekit",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/sveltekit",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"solidjs",label:"Solid.js",icon:"solidjs",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/solidjs",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"astro",label:"Astro",icon:"astro",guideLink:"https://docs.astro.build/en/guides/backend/supabase/",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"refine",label:"refine",icon:"refine",guideLink:"https://supabase.com/docs/guides/getting-started/quickstarts/refine",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],Z=[{key:"exporeactnative",label:"Expo React Native",icon:"expo",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-expo-react-native",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"flutter",label:"Flutter",icon:"flutter",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-flutter",children:[{key:"supabaseflutter",label:"supabase-flutter",children:[],icon:"supabase"}]},{key:"ionicreact",label:"Ionic React",icon:"react",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-react",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]},{key:"swift",label:"Swift",icon:"swift",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-swift",children:[{key:"supabaseswift",label:"supabase-swift",children:[],icon:"supabase"}]},{key:"androidkotlin",label:"Android Kotlin",icon:"kotlin",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-kotlin",children:[{key:"supabasekt",label:"supabase-kt",children:[],icon:"supabase"}]},{key:"ionicangular",label:"Ionic Angular",icon:"ionic-angular",guideLink:"https://supabase.com/docs/guides/getting-started/tutorials/with-ionic-angular",children:[{key:"supabasejs",label:"Supabase-js",children:[],icon:"supabase"}]}],H=[{key:"prisma",label:"Prisma",icon:"prisma",guideLink:"https://supabase.com/partners/integrations/prisma",children:[]},{key:"drizzle",label:"Drizzle",icon:"drizzle",guideLink:"https://supabase.com/docs/guides/database/connecting-to-postgres#connecting-with-drizzle",children:[]}],W=[{key:"direct",label:"Connection String",obj:[]},{key:"frameworks",label:"App Frameworks",obj:U},{key:"mobiles",label:"Mobile Frameworks",obj:Z},{key:"orms",label:"ORMs",obj:H}],B="Purchase IPv4 add-on or use Shared Pooler if on a IPv4 network",V="Connections are IPv4 proxied with IPv4 add-on";var q=n(97095),$=n(94114),G=n(84110),Y=n(43799),Q=n(88267),J=n(16577);let X=e=>{let{parameters:t}=e,[n,r]=(0,l.useState)(!1),[s,o]=(0,l.useState)({});return(0,a.jsxs)(R.zF,{open:n,onOpenChange:r,className:"group -space-y-px","data-sentry-element":"Collapsible_Shadcn_","data-sentry-component":"ConnectionParameters","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,a.jsx)(R.wy,{asChild:!0,className:"w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light px-3","data-sentry-element":"CollapsibleTrigger_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:(0,a.jsx)(T.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,a.jsx)(G.Z,{className:(0,A.cn)("text-foreground-muted transition-transform",n?"rotate-90":"")}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectionParameters.tsx",children:"View parameters"})}),(0,a.jsxs)(R.Fw,{className:"bg-dash-sidebar rounded-b border font-mono text-sm","data-sentry-element":"CollapsibleContent_Shadcn_","data-sentry-source-file":"ConnectionParameters.tsx",children:[(0,a.jsx)("div",{className:"px-4 py-2",children:t.map(e=>(0,a.jsx)("div",{className:"py-0.5 group/param",children:(0,a.jsxs)("div",{className:"text-xs flex items-center",children:[(0,a.jsxs)("span",{className:"text-foreground-lighter",children:[e.key,": "]}),(0,a.jsx)("span",{className:"ml-1 text-foreground",children:e.value}),(0,a.jsx)("button",{onClick:()=>{(0,E.vQ)(e.value,()=>{o(t=>({...t,[e.key]:!0})),setTimeout(()=>{o(t=>({...t,[e.key]:!1}))},1e3)})},className:(0,A.cn)("text-foreground-lighter","ml-2 opacity-0 group-hover/param:opacity-100","hover:text-foreground rounded-sm p-1",s[e.key]&&"opacity-100","transition-all"),children:s[e.key]?(0,a.jsx)(Q.Z,{size:12,strokeWidth:1.5}):(0,a.jsx)(J.Z,{size:12,strokeWidth:1.5})})]})},e.key))}),(0,a.jsx)(P.Z,{"data-sentry-element":"Separator","data-sentry-source-file":"ConnectionParameters.tsx"}),(0,a.jsx)("div",{className:"text-foreground-muted text-xs px-4 py-1 font-sans",children:"For security reasons, your database password is never shown."})]})]})};var K=n(25002);let ee=e=>{let{x:t,y1:n,y2:o,isActive:i}=e;return(0,a.jsx)(r.M,{"data-sentry-element":"AnimatePresence","data-sentry-component":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx",children:i&&(0,a.jsxs)("svg",{width:2,height:o-n+6,viewBox:"0 0 ".concat(2," ").concat(o-n+6),style:{position:"absolute",left:t-1,top:n-3},children:[(0,a.jsx)(s.E.line,{x1:"1",y1:"3",x2:"1",y2:o-n+3,stroke:"hsl(var(--foreground-default) / 0.6)",strokeWidth:1,strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.2}}),(0,a.jsx)("defs",{children:(0,a.jsxs)(s.E.linearGradient,{id:"lineGradient-".concat(t,"-").concat(n,"-").concat(o),gradientUnits:"userSpaceOnUse",x1:"2",y1:"-20",x2:"2",y2:o-n+26,animate:{y1:[-20,o-n+26],y2:[0,o-n+46]},transition:{duration:1,repeat:1/0,ease:"linear",repeatDelay:0},children:[(0,a.jsx)("stop",{offset:"0",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"}),(0,a.jsx)("stop",{offset:"0.8",stopColor:"hsl(var(--foreground-default))"}),(0,a.jsx)("stop",{offset:"1",stopColor:"hsl(var(--foreground-default) / 0.6)",stopOpacity:"0"})]})}),(0,a.jsx)(s.E.line,{x1:"2",y1:"3",x2:"2",y2:o-n+3,stroke:"url(#lineGradient-".concat(t,"-").concat(n,"-").concat(o,")"),strokeWidth:1,strokeLinecap:"round",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}})]})})},et=e=>{let{isActive:t}=e;return(0,a.jsx)(s.E.rect,{width:eo,height:3,className:(0,A.cn)("fill-background-surface-200 stroke-border-stronger stroke-[1]",t&&"stroke-foreground/40"),x:es,y:ea,rx:"1.5",animate:{boxShadow:t?"0 0 8px #86efac":"0 0 0px #86efac"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-component":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"})},en=e=>{let{isActive:t}=e;return(0,a.jsxs)("g",{"data-sentry-element":"g","data-sentry-component":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,a.jsx)(s.E.rect,{width:eo,height:32,className:(0,A.cn)("stroke-border fill-background-surface-100 stroke-[1] transition-all",t&&"fill-background-surface-100 stroke-border-stronger","flex items-center justify-center"),x:es,y:er,rx:"4",animate:{fill:t?"#2563eb":"#1e40af",stroke:"#93c5fd",boxShadow:t?"0 0 8px #93c5fd":"0 0 0px #93c5fd"},transition:{duration:.2},"data-sentry-element":"unknown","data-sentry-source-file":"PoolerIcons.tsx"}),(0,a.jsx)(K.vo,{size:21,className:(0,A.cn)("w-4 h-4 text-foreground-lighter transition-all",t&&"text-foreground"),x:es+eo/6,y:er+5.5,strokeWidth:1,"data-sentry-element":"Database","data-sentry-source-file":"PoolerIcons.tsx"})]})},ea=30.72,er=61.44,es=8.16,eo=32.160000000000004,ei=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[n,o]=(0,l.useState)([!1,!1,!1]),[i,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{c(n.some(Boolean))},[n]),(0,l.useEffect)(()=>{let e=e=>{t(t=>{let n=[...t];return n[e]=!1,n}),o(t=>{let n=[...t];return n[e]=!1,n}),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!0,n})},0),setTimeout(()=>{o(t=>{let n=[...t];return n[e]=!0,n})},400),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!1,n}),o(t=>{let n=[...t];return n[e]=!1,n})},1e3)};setTimeout(()=>e(0),0),setTimeout(()=>e(1),200),setTimeout(()=>e(2),400);let n=[0,1,2].map(t=>setInterval(()=>e(t),3e3+200*t));return()=>n.forEach(clearInterval)},[]),(0,a.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"TransactionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,a.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,a.jsx)(l.Fragment,{children:(0,a.jsx)(r.M,{children:e[t]&&(0,a.jsx)(s.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,a.jsx)(et,{isActive:i,"data-sentry-element":"TopRect","data-sentry-source-file":"PoolerIcons.tsx"}),(0,a.jsx)(en,{isActive:!0,"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,a.jsx)(ee,{x:12+12*e,y1:17.28,y2:26.880000000000003,isActive:n[e]},e)),(0,a.jsx)(ee,{x:18,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"}),(0,a.jsx)(ee,{x:30,y1:38.400000000000006,y2:56.64,isActive:!0,"data-sentry-element":"FlowingLine","data-sentry-source-file":"PoolerIcons.tsx"})]})},el=()=>{let[e,t]=(0,l.useState)([!1,!1,!1]),[n,o]=(0,l.useState)([!1,!1,!1]);return(0,l.useEffect)(()=>{let e=e=>{t(t=>{let n=[...t];return n[e]=!0,n}),o(t=>{let n=[...t];return n[e]=!0,n}),setTimeout(()=>{t(t=>{let n=[...t];return n[e]=!1,n}),o(t=>{let n=[...t];return n[e]=!1,n})},2500)};setTimeout(()=>e(0),100),setTimeout(()=>e(1),1500),setTimeout(()=>e(2),3e3);let n=[0,1,2].map(t=>setInterval(()=>e(t),3e3*Math.random()+8e3));return()=>n.forEach(clearInterval)},[]),(0,a.jsxs)("div",{style:{position:"relative",width:48,height:96},"data-sentry-component":"DirectConnectionIcon","data-sentry-source-file":"PoolerIcons.tsx",children:[(0,a.jsxs)("svg",{width:48,height:96,viewBox:"0 0 ".concat(48," ").concat(96),"data-sentry-element":"svg","data-sentry-source-file":"PoolerIcons.tsx",children:[[0,1,2].map(t=>(0,a.jsx)(l.Fragment,{children:(0,a.jsx)(r.M,{children:e[t]&&(0,a.jsx)(s.E.circle,{cx:12+12*t,cy:12.48,r:2.64,className:"fill-foreground",initial:{scale:0,x:[-8,-5,-2][t],y:-10},animate:{scale:1,x:0,y:0},exit:{scale:0,x:[8,5,2][t],y:-10},transition:{type:"spring",stiffness:500,damping:30}})})},t)),(0,a.jsx)(en,{isActive:n.some(e=>e),"data-sentry-element":"BottomRect","data-sentry-source-file":"PoolerIcons.tsx"})]}),[0,1,2].map(e=>(0,a.jsx)(ee,{x:12+12*e,y1:17.28,y2:56.64,isActive:n[e]},e))]})},ec=e=>{let{className:t,active:n}=e;return(0,a.jsxs)("div",{className:(0,A.cn)("relative inline-flex",t),"data-sentry-component":"IPv4StatusIcon","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",className:"size-6 stroke-foreground-lighter","data-sentry-element":"svg","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418","data-sentry-element":"path","data-sentry-source-file":"ConnectionPanel.tsx"})}),n?(0,a.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-brand-500 rounded w-4 h-4 flex items-center justify-center",children:(0,a.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.33325 2.5L3.74992 7.08333L1.66659 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,a.jsx)("div",{className:"absolute -right-1.5 -top-1.5 bg-destructive rounded w-4 h-4 flex items-center justify-center",children:(0,a.jsx)(q.Z,{size:10,strokeWidth:4,className:"text-white rounded-full"})})]})},ed=e=>{let{title:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between px-4 py-1 bg-surface-100/50 border border-b-0 border-surface rounded-t","data-sentry-component":"CodeBlockFileHeader","data-sentry-source-file":"ConnectionPanel.tsx",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)($.Z,{size:12,className:"text-foreground-muted",strokeWidth:1.5,"data-sentry-element":"FileCode","data-sentry-source-file":"ConnectionPanel.tsx"}),(0,a.jsx)("span",{className:"text-xs text-foreground-light",children:t})]})})},eu=e=>{var t;let{type:n="direct",badge:r,title:s,description:o,connectionString:l,ipv4Status:d,notice:u,parameters:p=[],lang:m="bash",fileTitle:f,children:h,onCopyCallback:g}=e,{ref:x}=(0,c.UO)(),b=(0,k.TF)(),{data:y}=(0,j.b)({projectRef:x}),v=null==y?void 0:y.find(e=>e.identifier===b.selectedDatabaseId),_=(null==v?void 0:v.pool_mode)==="session",N=null!==(t=d.links)&&void 0!==t?t:[];return(0,a.jsxs)("div",{className:"flex flex-col gap-5 lg:grid lg:grid-cols-2 lg:gap-20 w-full","data-sentry-component":"ConnectionPanel","data-sentry-source-file":"ConnectionPanel.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2 mb-2",children:[(0,a.jsx)("h1",{className:"text-sm",children:s}),!!r&&(0,a.jsx)(D.C,{children:r})]}),(0,a.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:o}),(0,a.jsxs)("div",{className:"flex flex-col -space-y-px",children:[f&&(0,a.jsx)(ed,{title:f}),"transaction"===n&&_?(0,a.jsx)(O.J,{showIcon:!1,type:"default",className:"[&>h5]:text-xs [&>div]:text-xs",title:"Transaction pooler is unavailable as pool mode is set to Session",description:"If you'd like to use transaction mode, update your pool mode to Transaction for the connection pooler in your project's Database Settings.",children:(0,a.jsx)(T.z,{asChild:!0,type:"default",className:"mt-2",children:(0,a.jsx)(i(),{href:"/project/".concat(x,"/settings/database#connection-pooler"),className:"text-xs text-light hover:text-foreground",children:"Database Settings"})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.d,{wrapperClassName:(0,A.cn)("[&_pre]:rounded-b-none [&_pre]:px-4 [&_pre]:py-3",f&&"[&_pre]:rounded-t-none"),language:m,value:l,className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:g}),u&&(0,a.jsx)("div",{className:"border px-4 py-1 w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-light",children:null==u?void 0:u.map(e=>(0,a.jsx)("p",{className:"text-xs text-foreground-lighter",children:e},e))}),p.length>0&&(0,a.jsx)(X,{parameters:p})]}),h]})]}),(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsxs)("div",{className:"flex flex-col -space-y-px w-full",children:["session"!==n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:[(0,a.jsx)("div",{className:"absolute top-2 left-2.5",children:"transaction"===n?(0,a.jsx)(ei,{}):(0,a.jsx)(el,{})}),(0,a.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,a.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===n?"Suitable for a large number of connected clients":"Suitable for long-lived, persistent connections"})})]}),(0,a.jsx)("div",{className:"border border-muted px-5 flex items-center gap-3 py-3 first:rounded-t last:rounded-b h-[58px]",children:(0,a.jsx)("div",{className:"flex flex-col pl-[52px]",children:(0,a.jsx)("span",{className:"text-xs text-foreground",children:"transaction"===n?"Pre-warmed connection pool to Postgres":"Each client has a dedicated connection to Postgres"})})})]}),C.Qy&&(0,a.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(ec,{active:"success"===d.type})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs text-foreground",children:d.title}),d.description&&("string"==typeof d.description?(0,a.jsx)("span",{className:"text-xs text-foreground-lighter",children:d.description}):d.description),N.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-x-2 mt-2",children:N.map(e=>(0,a.jsx)(T.z,{asChild:!0,type:"default",size:"tiny",children:(0,a.jsx)(i(),{href:e.url,className:"text-xs text-light hover:text-foreground",children:e.text})},e.text))})]})]}),"session"===n&&(0,a.jsxs)("div",{className:"border border-muted px-5 flex gap-7 items-center py-3 first:rounded-t last:rounded-b bg-alternative/50",children:[(0,a.jsx)("div",{className:"flex w-6 h-6 rounded items-center justify-center gap-2 flex-shrink-0 bg-surface-100",children:(0,a.jsx)(Y.aN,{})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs text-foreground",children:"Only use on a IPv4 network"}),(0,a.jsx)("span",{className:"text-xs text-foreground-lighter",children:"Use Direct Connection if connecting via an IPv6 network"})]})]}),C.Qy&&"error"===d.type&&(0,a.jsxs)(R.zF,{className:"group -space-y-px",children:[(0,a.jsx)(R.wy,{asChild:!0,className:"group/collapse w-full justify-start rounded-t-none !last:rounded-b group-data-[state=open]:rounded-b-none border-muted",children:(0,a.jsx)(T.z,{type:"default",size:"tiny",className:"text-foreground-lighter !bg-dash-sidebar",icon:(0,a.jsx)(G.Z,{className:(0,A.cn)("group-data-[state=open]/collapse:rotate-90 text-foreground-muted transition-transform")}),children:"Some platforms are IPv4-only:"})}),(0,a.jsx)(R.Fw,{className:"bg-dash-sidebar rounded-b border px-3 py-2",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-xs text-foreground-light max-w-xs",children:"A few major platforms are IPv4-only and may not work with a Direct Connection:"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"text-foreground text-xs",children:"Vercel"}),(0,a.jsx)("div",{className:"text-foreground text-xs",children:"GitHub Actions"}),(0,a.jsx)("div",{className:"text-foreground text-xs",children:"Render"}),(0,a.jsx)("div",{className:"text-foreground text-xs",children:"Retool"})]}),(0,a.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["If you wish to use a Direct Connection with these, please purchase"," ",(0,a.jsx)(i(),{href:"/project/".concat(x,"/settings/addons?panel=ipv4"),className:"text-xs text-light hover:text-foreground",children:"IPv4 support"}),"."]}),(0,a.jsxs)("p",{className:"text-xs text-foreground-lighter max-w-xs",children:["You may also use the"," ",(0,a.jsx)("span",{className:"text-foreground-light",children:"Session Pooler"})," or"," ",(0,a.jsx)("span",{className:"text-foreground-light",children:"Transaction Pooler"})," if you are on a IPv4 network."]})]})})]})]})})]})},ep=e=>{var t;let{connectionInfo:n,poolingInfo:a,metadata:r}=e,s=null==a?void 0:a.connectionString.includes("options=reference"),{projectRef:o}=r,i="[YOUR-PASSWORD]",l=n.db_user,c=n.db_port,d=n.db_host,u=n.db_name,p=null==a?void 0:a.db_user,m=null==a?void 0:a.db_port,f=null==a?void 0:a.db_host,h=null==a?void 0:a.db_name,g=s?'psql "postgresql://'.concat(l,":").concat(i,"@").concat(d,":").concat(c,"/").concat(u,'"'):"psql -h ".concat(d," -p ").concat(c," -d ").concat(u," -U ").concat(l),x="postgresql://".concat(l,":").concat(i,"@").concat(d,":").concat(c,"/").concat(u),b="DATABASE_URL=".concat(x),y="jdbc:postgresql://".concat(d,":").concat(c,"/").concat(u,"?user=").concat(l,"&password=").concat(i),v='{\n  "ConnectionStrings": {\n    "DefaultConnection": "Host='.concat(d,";Database=").concat(u,";Username=").concat(l,";Password=").concat(i,';SSL Mode=Require;Trust Server Certificate=true"\n  }\n}'),j='{\n  "ConnectionStrings": {\n    "DefaultConnection": "User Id='.concat(p,";Password=").concat(i,";Server=").concat(f,";Port=").concat(m,";Database=").concat(h).concat(s?";Options='reference=".concat(o,"'"):"",'"\n  }\n}'),_=s?'psql "postgresql://'.concat(p,":").concat(i,"@").concat(f,":").concat(m,"/").concat(h,"?options=reference%3D").concat(o,'"'):"psql -h ".concat(f," -p ").concat(m," -d ").concat(h," -U ").concat(p),N=null!==(t=null==a?void 0:a.connectionString)&&void 0!==t?t:"",w="DATABASE_URL=".concat(null==a?void 0:a.connectionString),S="user=".concat(p," \npassword=").concat(i," \nhost=").concat(f,"\nport=").concat(m,"\ndbname=").concat(h).concat(s?"options=reference=".concat(o):""),C="jdbc:postgresql://".concat(f,":").concat(m,"/").concat(h,"?user=").concat(p).concat(s?"&options=reference%3D".concat(o):"","&password=").concat(i),E="user=".concat(l," \npassword=").concat(i," \nhost=").concat(d," \nport=").concat(c," \ndbname=").concat(u),k="user=".concat(p," \npassword=").concat(i," \nhost=").concat(f," \nport=").concat(m," \ndbname=").concat(h);return{direct:{psql:g,uri:x,golang:b,jdbc:y,dotnet:v,nodejs:"DATABASE_URL=".concat(x),php:b,python:b,sqlalchemy:E},pooler:{psql:_,uri:N,golang:S,jdbc:C,dotnet:j,nodejs:w,php:S,python:S,sqlalchemy:k}}};var em={nodejs:{installCommands:["npm install postgres"],files:[{name:"db.js",content:"import postgres from 'postgres'\n\nconst connectionString = process.env.DATABASE_URL\nconst sql = postgres(connectionString)\n\nexport default sql"}]},golang:{installCommands:["go get github.com/jackc/pgx/v5"],files:[{name:"main.go",content:'package main\n\nimport (\n	"context"\n	"log"\n	"os"\n	"github.com/jackc/pgx/v5"\n)\n\nfunc main() {\n	conn, err := pgx.Connect(context.Background(), os.Getenv("DATABASE_URL"))\n	if err != nil {\n		log.Fatalf("Failed to connect to the database: %v", err)\n	}\n	defer conn.Close(context.Background())\n\n	// Example query to test connection\n	var version string\n	if err := conn.QueryRow(context.Background(), "SELECT version()").Scan(&version); err != nil {\n		log.Fatalf("Query failed: %v", err)\n	}\n\n	log.Println("Connected to:", version)\n}'}]},dotnet:{installCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"],postInstallCommands:["dotnet add package Microsoft.Extensions.Configuration.Json --version YOUR_DOTNET_VERSION"]},python:{installCommands:["pip install python-dotenv psycopg2"],files:[{name:"main.py",content:'import psycopg2\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Connect to the database\ntry:\n    connection = psycopg2.connect(\n        user=USER,\n        password=PASSWORD,\n        host=HOST,\n        port=PORT,\n        dbname=DBNAME\n    )\n    print("Connection successful!")\n    \n    # Create a cursor to execute SQL queries\n    cursor = connection.cursor()\n    \n    # Example query\n    cursor.execute("SELECT NOW();")\n    result = cursor.fetchone()\n    print("Current Time:", result)\n\n    # Close the cursor and connection\n    cursor.close()\n    connection.close()\n    print("Connection closed.")\n\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]},sqlalchemy:{installCommands:["pip install python-dotenv sqlalchemy psycopg2"],files:[{name:"main.py",content:'from sqlalchemy import create_engine\n# from sqlalchemy.pool import NullPool\nfrom dotenv import load_dotenv\nimport os\n\n# Load environment variables from .env\nload_dotenv()\n\n# Fetch variables\nUSER = os.getenv("user")\nPASSWORD = os.getenv("password")\nHOST = os.getenv("host")\nPORT = os.getenv("port")\nDBNAME = os.getenv("dbname")\n\n# Construct the SQLAlchemy connection string\nDATABASE_URL = f"postgresql+psycopg2://{USER}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}?sslmode=require"\n\n# Create the SQLAlchemy engine\nengine = create_engine(DATABASE_URL)\n# If using Transaction Pooler or Session Pooler, we want to ensure we disable SQLAlchemy client side pooling -\n# https://docs.sqlalchemy.org/en/20/core/pooling.html#switching-pool-implementations\n# engine = create_engine(DATABASE_URL, poolclass=NullPool)\n\n# Test the connection\ntry:\n    with engine.connect() as connection:\n        print("Connection successful!")\nexcept Exception as e:\n    print(f"Failed to connect: {e}")'}]}};let ef=e=>{let{number:t,children:n,...r}=e;return(0,a.jsxs)("div",{...r,className:(0,A.cn)("flex items-center gap-2",r.className),"data-sentry-component":"StepLabel","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,a.jsx)("div",{className:"flex font-mono text-xs items-center justify-center w-6 h-6 border border-strong rounded-md bg-surface-100",children:t}),(0,a.jsx)("span",{children:n})]})},eh=()=>{var e,t,n,r,s,o,i,d,u,p,m,f,U,Z,H,W,q,$,G,Y,Q,J,X;let{ref:K}=(0,c.UO)(),ee=(0,S.l)(),et=(0,k.TF)(),[en,ea]=(0,l.useState)("uri"),er=(0,l.useMemo)(()=>{var e;return(null==ee?void 0:null===(e=ee.plan)||void 0===e?void 0:e.id)==="free"},[ee]),{data:es,error:eo,isLoading:ei,isError:el,isSuccess:ec}=(0,v.f)({projectRef:K}),{data:eh,error:eg,isLoading:ex,isError:eb,isSuccess:ey}=(0,j.b)({projectRef:K}),{data:ev,error:ej,isLoading:e_,isError:eN,isSuccess:ew}=(0,_.bN)({projectRef:K}),eS=!!C.Qy&&(er?ei:ex),eC=C.Qy?er?el:eb:void 0,eE=!C.Qy||(er?ec:ey),ek=null==eh?void 0:eh.find(e=>e.identifier===et.selectedDatabaseId),eA=er?ek:es,ez=(null!=ev?ev:[]).find(e=>e.identifier===et.selectedDatabaseId),eI=(null==ez?void 0:ez.identifier)!==K,{data:eL}=(0,N.F)({projectRef:K}),{ipv4:eR}=(0,g.OP)(null!==(r=null==eL?void 0:eL.selected_addons)&&void 0!==r?r:[]),{mutate:eT}=(0,w.a)(),eD=(0,E.Ff)(ez||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),eP=(e,t)=>{var n,a,r;let s=M.find(t=>t.id===e);eT({action:"connection_string_copied",properties:{connectionType:null!==(n=null==s?void 0:s.label)&&void 0!==n?n:"Unknown",lang:null!==(a=null==s?void 0:s.lang)&&void 0!==a?a:"Unknown",connectionMethod:t},groups:{project:null!=K?K:"Unknown",organization:null!==(r=null==ee?void 0:ee.slug)&&void 0!==r?r:"Unknown"}})},eO=ep({connectionInfo:eD,poolingInfo:{connectionString:null!==(s=null==ek?void 0:ek.connection_string)&&void 0!==s?s:"",db_host:eI?eD.db_host:null!==(o=null==ek?void 0:ek.db_host)&&void 0!==o?o:"",db_name:null!==(i=null==ek?void 0:ek.db_name)&&void 0!==i?i:"",db_port:null!==(d=null==ek?void 0:ek.db_port)&&void 0!==d?d:0,db_user:null!==(u=null==ek?void 0:ek.db_user)&&void 0!==u?u:""},metadata:{projectRef:K}}),eM=ep({connectionInfo:eD,poolingInfo:{connectionString:eI?null!==(p=null==eA?void 0:eA.connection_string.replace(null==eA?void 0:eA.db_host,eD.db_host))&&void 0!==p?p:"":null!==(m=null==eA?void 0:eA.connection_string)&&void 0!==m?m:"",db_host:eI?eD.db_host:null==eA?void 0:eA.db_host,db_name:null!==(f=null==eA?void 0:eA.db_name)&&void 0!==f?f:"",db_port:null!==(U=null==eA?void 0:eA.db_port)&&void 0!==U?U:0,db_user:null!==(Z=null==eA?void 0:eA.db_user)&&void 0!==Z?Z:""},metadata:{projectRef:K}}),eF=null!==(H=null===(e=M.find(e=>e.id===en))||void 0===e?void 0:e.lang)&&void 0!==H?H:"bash",eU=null!==(W=null===(t=M.find(e=>e.id===en))||void 0===t?void 0:t.contentType)&&void 0!==W?W:"input",eZ=em[en],eH=null==eZ?void 0:eZ.files,eW=null==eZ?void 0:eZ.installCommands,eB=null==eZ?void 0:eZ.postInstallCommands,eV=eH||eW,eq=null===(n=M.find(e=>e.id===en))||void 0===n?void 0:n.fileTitle,e$=0,eG={text:"Pooler settings",url:"/project/".concat(K,"/settings/database#connection-pooling")},eY=eR?[{text:"IPv4 settings",url:"/project/".concat(K,"/settings/addons?panel=ipv4")},...er?[eG]:[]]:[{text:"IPv4 add-on",url:"/project/".concat(K,"/settings/addons?panel=ipv4")},...er?[eG]:[]];return(0,a.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DatabaseConnectionString","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,a.jsxs)("div",{className:(0,A.cn)("flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",z.gZ),children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Type"}),(0,a.jsxs)(I.Ph,{value:en,onValueChange:e=>ea(e),"data-sentry-element":"Select_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:[(0,a.jsx)(I.i4,{size:"small",className:"w-auto rounded-l-none","data-sentry-element":"SelectTrigger_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:(0,a.jsx)(I.ki,{"data-sentry-element":"SelectValue_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx"})}),(0,a.jsx)(I.Bw,{"data-sentry-element":"SelectContent_Shadcn_","data-sentry-source-file":"DatabaseConnectionString.tsx",children:M.map(e=>(0,a.jsx)(I.Ql,{value:e.id,children:e.label},e.id))})]})]}),(0,a.jsx)(b.Z,{buttonProps:{size:"small"},"data-sentry-element":"DatabaseSelector","data-sentry-source-file":"DatabaseConnectionString.tsx"})]}),(eS||e_)&&(0,a.jsx)("div",{className:"p-7",children:(0,a.jsx)(y.Z,{className:"h-8 w-full"})}),(eC||eN)&&(0,a.jsx)("div",{className:"p-7",children:(0,a.jsx)(x.Z,{error:(er?eo:eg)||ej,subject:"Failed to retrieve database settings"})}),eE&&ew&&(0,a.jsxs)("div",{className:"flex flex-col divide-y divide-border",children:[eV&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-20 w-full px-4 md:px-7 py-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ef,{number:++e$,className:"mb-4",children:"Install the following"}),null==eW?void 0:eW.map((e,t)=>(0,a.jsx)(L.d,{className:"[&_code]:text-[12px] [&_code]:text-foreground",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]}),eH&&(null==eH?void 0:eH.length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ef,{number:++e$,className:"mb-4",children:"Add file to project"}),null==eH?void 0:eH.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)(ed,{title:e.name}),(0,a.jsx)(L.d,{wrapperClassName:"[&_pre]:max-h-40 [&_pre]:px-4 [&_pre]:py-3 [&_pre]:rounded-t-none",value:e.content,hideLineNumbers:!0,language:eF,className:"[&_code]:text-[12px] [&_code]:text-foreground"})]},t))]})]}),(0,a.jsxs)("div",{children:[eV&&(0,a.jsx)("div",{className:"px-4 md:px-7 pt-8",children:(0,a.jsx)(ef,{number:++e$,children:"Choose type of connection"})}),(0,a.jsxs)("div",{className:"divide-y divide-border-muted [&>div]:px-4 [&>div]:md:px-7 [&>div]:py-8",children:[(0,a.jsx)(eu,{type:"direct",title:"Direct connection",contentType:eU,lang:eF,fileTitle:eq,description:"Ideal for applications with persistent, long-lived connections, such as those running on virtual machines or long-standing containers.",connectionString:eM.direct[en],ipv4Status:{type:eR?"success":"error",title:eR?"IPv4 compatible":"Not IPv4 compatible",description:er||eR?er?"Use Session Pooler if on a IPv4 network or purchase IPv4 add-on":V:B,links:eY},parameters:[{...F.host,value:eD.db_host},{...F.port,value:eD.db_port},{...F.database,value:eD.db_name},{...F.user,value:eD.db_user}],onCopyCallback:()=>eP(en,"direct")}),C.Qy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu,{type:"transaction",title:"Transaction pooler",contentType:eU,lang:eF,badge:er?"Shared Pooler":"Dedicated Pooler",fileTitle:eq,description:"Ideal for stateless applications like serverless functions where each interaction with Postgres is brief and isolated.",connectionString:eM.pooler[en],ipv4Status:{type:er||eR?"success":"error",title:er||eR?"IPv4 compatible":"Not IPv4 compatible",description:er||eR?er?"Transaction pooler connections are IPv4 proxied for free.":V:B,links:er?void 0:eY},notice:["Does not support PREPARE statements"],parameters:[{...F.host,value:null!==(q=null==eA?void 0:eA.db_host)&&void 0!==q?q:""},{...F.port,value:null!==($=null==eA?void 0:eA.db_port.toString())&&void 0!==$?$:"6543"},{...F.database,value:null!==(G=null==eA?void 0:eA.db_name)&&void 0!==G?G:""},{...F.user,value:null!==(Y=null==eA?void 0:eA.db_user)&&void 0!==Y?Y:""},{...F.pool_mode,value:"transaction"}],onCopyCallback:()=>eP(en,"transaction_pooler"),children:!er&&!eR&&(0,a.jsxs)(R.zF,{className:"group",children:[(0,a.jsx)(R.wy,{asChild:!0,className:"w-full justify-start !last:rounded-b group-data-[state=open]:rounded-b-none border-light mt-4 px-3",children:(0,a.jsx)(T.z,{type:"default",size:"large",iconRight:(0,a.jsx)(h.Z,{className:"transition group-data-[state=open]:rotate-180"}),className:"text-foreground !bg-dash-sidebar justify-between",children:(0,a.jsxs)("div",{className:"text-xs flex items-center p-2",children:[(0,a.jsx)("span",{children:"Using the Shared Pooler"}),(0,a.jsx)(D.C,{variant:"brand",size:"small",className:"ml-2",children:"IPv4 compatible"})]})})}),(0,a.jsxs)(R.Fw,{className:"bg-dash-sidebar rounded-b border text-xs",children:[(0,a.jsx)("p",{className:"px-3 py-2",children:"Only recommended when your network does not support IPv6. Added latency compared to dedicated pooler."}),(0,a.jsx)(L.d,{wrapperClassName:(0,A.cn)("[&_pre]:border-x-0 [&_pre]:border-b-0 [&_pre]:px-4 [&_pre]:py-3","[&_pre]:rounded-t-none"),language:eF,value:eO.pooler[en],className:"[&_code]:text-[12px] [&_code]:text-foreground",hideLineNumbers:!0,onCopyCallback:()=>eP(en,"transaction_pooler")})]})]})}),er&&eR&&(0,a.jsx)(O.J,{type:"warning",title:"Highly recommended to not use Session Pooler",className:"[&>div]:gap-0 px-8 [&>svg]:left-7 border-0 border-b rounded-none border-border-muted !py-4 mb-0",children:(0,a.jsx)("p",{className:"text-sm text-foreground-lighter !mb-0",children:"If you are using Session Pooler, we recommend switching to Direct Connection."})}),(0,a.jsx)(eu,{type:"session",title:"Session pooler",contentType:eU,lang:eF,badge:"Shared Pooler",fileTitle:eq,description:"Only recommended as an alternative to Direct Connection, when connecting via an IPv4 network.",connectionString:eO.pooler[en].replace("6543","5432"),ipv4Status:{type:"success",title:"IPv4 compatible",description:"Session pooler connections are IPv4 proxied for free",links:void 0},parameters:[{...F.host,value:null!==(Q=null==ek?void 0:ek.db_host)&&void 0!==Q?Q:""},{...F.port,value:"5432"},{...F.database,value:null!==(J=null==ek?void 0:ek.db_name)&&void 0!==J?J:""},{...F.user,value:null!==(X=null==ek?void 0:ek.db_user)&&void 0!==X?X:""},{...F.pool_mode,value:"session"}],onCopyCallback:()=>eP(en,"session_pooler")})]})]})]}),eB&&(0,a.jsx)("div",{className:"grid grid-cols-2 gap-20 w-full px-4 md:px-7 py-10",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(ef,{number:++e$,className:"mb-4",children:"Add the configuration package to read the settings"}),null==eB?void 0:eB.map((e,t)=>(0,a.jsx)(L.d,{className:"text-sm",value:e,hideLineNumbers:!0,language:"bash",children:e},t))]})})]}),"python"===en&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{}),(0,a.jsxs)(R.zF,{className:"px-8 pt-5",children:[(0,a.jsx)(R.wy,{className:"group [&[data-state=open]>div>svg]:!-rotate-180",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2 w-full",children:[(0,a.jsx)("p",{className:"text-xs text-foreground-light group-hover:text-foreground transition",children:"Connecting to SQL Alchemy"}),(0,a.jsx)(h.Z,{className:"transition-transform duration-200",strokeWidth:1.5,size:14})]})}),(0,a.jsx)(R.Fw,{className:"my-2",children:(0,a.jsxs)("div",{className:"text-foreground-light text-xs grid gap-2",children:[(0,a.jsxs)("p",{children:["Please use ",(0,a.jsx)("code",{children:"postgresql://"})," instead of ",(0,a.jsx)("code",{children:"postgres://"})," as your dialect when connecting via SQLAlchemy."]}),(0,a.jsxs)("p",{children:["Example:",(0,a.jsx)("code",{children:'create_engine("postgresql+psycopg2://...")'})]}),(0,a.jsx)("p",{className:"text-sm font-mono tracking-tight text-foreground-lighter"})]})})]})]})]})};var eg=n(62620),ex=n(94738),eb=n(82701),ey=n(73343),ev=n(80905),ej=n(25972);let e_=e=>{let{connectionObject:t,selectedParent:n,selectedChild:a,selectedGrandchild:r}=e,s=t.find(e=>e.key===n);if(s){let e=s.children.find(e=>e.key===a);return e?e.children.find(e=>e.key===r)?"".concat(n,"/").concat(a,"/").concat(r):"".concat(n,"/").concat(a):n}return""};var eN=n(71237),ew=n(38876),eS=n(67032),eC=n(70706),eE=n(17365),ek=n.n(eE);let eA=e=>{let{connection:t}=e,{resolvedTheme:n}=(0,eC.F)(),r=["ionic-angular"].includes(t)?"icons/frameworks":"libraries";return(0,a.jsx)(ek(),{className:"transition-all group-hover:scale-110",src:"".concat(C.GW,"/img/").concat(r,"/").concat(t.toLowerCase()).concat(["expo","nextjs","prisma","drizzle","astro","remix"].includes(t.toLowerCase())&&(null==n?void 0:n.includes("dark"))?"-dark":"").concat("icons/frameworks"===r?"":"-icon",".svg"),alt:"".concat(t," logo"),width:14,height:14,"data-sentry-element":"Image","data-sentry-component":"ConnectionIcon","data-sentry-source-file":"ConnectionIcon.tsx"})};var ez=e=>{let{state:t,updateState:n,label:r,items:s}=e,[o,i]=(0,l.useState)(!1),c=s.find(e=>e.key===t);return(0,a.jsxs)(ew.J2,{open:o,onOpenChange:i,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ConnectDropdown","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,a.jsxs)("div",{className:"flex ",children:[(0,a.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:r}),(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,a.jsx)(T.z,{size:"small",type:"default",className:"gap-0 rounded-l-none",iconRight:(0,a.jsx)(h.Z,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(null==c?void 0:c.icon)?(0,a.jsx)(eA,{connection:c.icon}):(0,a.jsx)(eN.Z,{size:12}),null==c?void 0:c.label]})})})]}),(0,a.jsx)(ew.yk,{className:"p-0 max-w-48",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:(0,a.jsxs)(eS.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,a.jsx)(eS.sZ,{placeholder:"Search...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx"}),(0,a.jsxs)(eS.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:[(0,a.jsx)(eS.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:"No results found."}),(0,a.jsx)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ConnectDropdown.tsx",children:s.map(e=>(0,a.jsxs)(eS.di,{value:e.key,onSelect:()=>{n(e.key),i(!1),i(!1)},className:"flex gap-2 items-center",children:[e.icon?(0,a.jsx)(eA,{connection:e.icon}):(0,a.jsx)(eN.Z,{size:12}),e.label,(0,a.jsx)(Q.Z,{size:15,className:(0,A.cn)("ml-auto  ",e.key===t?"opacity-100":"opacity-0")})]},e.key))})]})]})})]})},eI=n(23023),eL=n.n(eI);let eR=(0,l.forwardRef)((e,t)=>{var r,s,o,i,d,u;let{projectKeys:p,filePath:m,...f}=e,{ref:h}=(0,c.UO)(),x=(0,S.l)(),b=(0,l.useMemo)(()=>(null==x?void 0:x.plan.id)!=="free",[x]),{data:_}=(0,eb.zR)({projectRef:h}),{data:w}=(0,v.f)({projectRef:h}),{data:C}=(0,j.b)({projectRef:h}),{data:k}=(0,N.F)({projectRef:h}),{ipv4:z}=(0,g.OP)(null!==(r=null==k?void 0:k.selected_addons)&&void 0!==r?r:[]),I=(0,E.Ff)(_||{db_user:"",db_host:"",db_port:"",db_name:""},["db_host","db_name","db_port","db_user","inserted_at"]),L=null==C?void 0:C.find(e=>"PRIMARY"===e.database_type),R=b?w:void 0,T=ep({connectionInfo:I,poolingInfo:{connectionString:null!==(s=null==L?void 0:L.connection_string)&&void 0!==s?s:"",db_host:null!==(o=null==L?void 0:L.db_host)&&void 0!==o?o:"",db_name:null!==(i=null==L?void 0:L.db_name)&&void 0!==i?i:"",db_port:null!==(d=null==L?void 0:L.db_port)&&void 0!==d?d:0,db_user:null!==(u=null==L?void 0:L.db_user)&&void 0!==u?u:""},metadata:{projectRef:h}}),D=void 0!==R?ep({connectionInfo:I,poolingInfo:{connectionString:R.connection_string,db_host:R.db_host,db_name:R.db_name,db_port:R.db_port,db_user:R.db_user},metadata:{projectRef:h}}):void 0,P=(0,l.useMemo)(()=>eL()(()=>n(45213)("./".concat(m,"/content")),{loading:()=>(0,a.jsx)("div",{className:"p-4 min-h-[331px]",children:(0,a.jsx)(y.A,{})})}),[m]);return(0,a.jsx)("div",{ref:t,...f,className:(0,A.cn)("border rounded-lg",f.className),children:(0,a.jsx)(P,{projectKeys:p,filePath:m,connectionStringPooler:{transactionShared:T.pooler.uri,sessionShared:T.pooler.uri.replace("6543","5432"),transactionDedicated:null==D?void 0:D.pooler.uri,sessionDedicated:null==D?void 0:D.pooler.uri.replace("6543","5432"),ipv4SupportedForDedicatedPooler:!!z,direct:T.direct.uri}})})});eR.displayName="ConnectTabContent";var eT=()=>{var e,t,n,r,s,o,i,d,h,g,x;let{ref:b}=(0,c.UO)(),y=(0,ev.Vm)(),v=(null==y?void 0:y.status)===C.S.ACTIVE_HEALTHY,[j,_]=(0,f.v1)("showConnect",f.AE.withDefault(!1)),[N,w]=(0,l.useState)(U),[S,E]=(0,l.useState)(N[0].key),[k,I]=(0,l.useState)(null!==(d=null===(t=N.find(e=>e.key===S))||void 0===t?void 0:null===(e=t.children[0])||void 0===e?void 0:e.key)&&void 0!==d?d:""),[L,R]=(0,l.useState)((null===(s=N.find(e=>e.key===S))||void 0===s?void 0:null===(r=s.children.find(e=>e.key===k))||void 0===r?void 0:null===(n=r.children[0])||void 0===n?void 0:n.key)||""),{data:D}=(0,eb.zR)({projectRef:b},{enabled:j}),P=(0,ey.Xo)(u.KA.READ,"service_api_keys"),O=e=>{var t,n,a,r,s,o,i;E(e),I(null!==(o=null===(n=N.find(t=>t.key===e))||void 0===n?void 0:null===(t=n.children[0])||void 0===t?void 0:t.key)&&void 0!==o?o:""),R(null!==(i=null===(s=N.find(t=>t.key===e))||void 0===s?void 0:null===(r=s.children[0])||void 0===r?void 0:null===(a=r.children[0])||void 0===a?void 0:a.key)&&void 0!==i?i:"")},M=e=>{I(e);let t=N.find(e=>e.key===S),n=null==t?void 0:t.children.find(t=>t.key===e);n&&n.children.length>0?R(n.children[0].key):R("")},F=e=>{R(e)};function B(e){var t,n;E(e[0].key),(null===(t=e[0])||void 0===t?void 0:t.children.length)>0?(I(e[0].children[0].key),(null===(n=e[0].children[0])||void 0===n?void 0:n.children.length)>0?R(e[0].children[0].children[0].key):R("")):(I(""),R(""))}let V=()=>{let e=N.find(e=>e.key===S);return e&&e.children.length>0?e.children:[]},q=()=>{let e=N.find(e=>e.key===S),t=null==e?void 0:e.children.find(e=>e.key===k);return t&&t.children.length>0?t.children:[]},$=null!==(h=null==D?void 0:null===(o=D.app_config)||void 0===o?void 0:o.protocol)&&void 0!==h?h:"https",G=null!==(g=null==D?void 0:null===(i=D.app_config)||void 0===i?void 0:i.endpoint)&&void 0!==g?g:"",Y=P?"".concat($,"://").concat(null!=G?G:"-"):"",{anonKey:Q}=P?(0,eb.Pb)(D):{anonKey:null},J={apiUrl:P?Y:null,anonKey:null!==(x=null==Q?void 0:Q.api_key)&&void 0!==x?x:null},X=e_({connectionObject:N,selectedParent:S,selectedChild:k,selectedGrandchild:L});return v?(0,a.jsxs)(z.Vq,{open:j,onOpenChange:e=>_(e||null),"data-sentry-element":"Dialog","data-sentry-component":"Connect","data-sentry-source-file":"Connect.tsx",children:[(0,a.jsx)(z.hg,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"Connect.tsx",children:(0,a.jsx)(T.z,{type:"default",className:"rounded-full",icon:(0,a.jsx)(p.Z,{className:"rotate-90"}),"data-sentry-element":"Button","data-sentry-source-file":"Connect.tsx",children:(0,a.jsx)("span",{children:"Connect"})})}),(0,a.jsxs)(z.cZ,{className:(0,A.cn)("sm:max-w-5xl p-0"),centered:!1,"data-sentry-element":"DialogContent","data-sentry-source-file":"Connect.tsx",children:[(0,a.jsxs)(z.fK,{className:z.gZ,"data-sentry-element":"DialogHeader","data-sentry-source-file":"Connect.tsx",children:[(0,a.jsx)(z.$N,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"Connect.tsx",children:"Connect to your project"}),(0,a.jsx)(z.Be,{"data-sentry-element":"DialogDescription","data-sentry-source-file":"Connect.tsx",children:"Get the connection strings and environment variables for your app"})]}),(0,a.jsxs)(ej.mQ,{defaultValue:"direct",onValueChange:e=>{"frameworks"===e&&(w(U),B(U)),"mobiles"===e&&(w(Z),B(Z)),"orms"===e&&(w(H),B(H))},"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"Connect.tsx",children:[(0,a.jsx)(ej.dr,{className:(0,A.cn)("flex overflow-x-scroll gap-x-4",z.gZ),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"Connect.tsx",children:W.map(e=>(0,a.jsx)(ej.SP,{value:e.key,className:"px-0",children:e.label},e.key))}),W.map(e=>{var t,n,r,s,o,i;let l=((null===(t=N.find(e=>e.key===S))||void 0===t?void 0:t.children.length)||0)>0,c=((null===(r=N.find(e=>e.key===S))||void 0===r?void 0:null===(n=r.children.find(e=>e.key===k))||void 0===n?void 0:n.children.length)||0)>0;return"direct"===e.key?(0,a.jsx)(ej.nU,{value:"direct",className:(0,A.cn)("!mt-0","p-0","flex flex-col gap-6"),children:(0,a.jsx)("div",{className:z.rR,children:(0,a.jsx)(eh,{})})},"direct"):(0,a.jsxs)(ej.nU,{value:e.key,className:(0,A.cn)(z.gZ,z.rR,"!mt-0"),children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[(0,a.jsx)(ez,{state:S,updateState:O,label:N===U||N===Z?"Framework":"Tool",items:N}),S&&l&&(0,a.jsx)(ez,{state:k,updateState:M,label:"Using",items:V()}),k&&c&&(0,a.jsx)(ez,{state:L,updateState:F,label:"With",items:q()})]}),(null===(s=N.find(e=>e.key===S))||void 0===s?void 0:s.guideLink)&&(0,a.jsx)(T.z,{asChild:!0,type:"default",icon:(0,a.jsx)(m.Z,{strokeWidth:1.5}),children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(null===(o=N.find(e=>e.key===S))||void 0===o?void 0:o.guideLink)||"",children:[null===(i=N.find(e=>e.key===S))||void 0===i?void 0:i.label," guide"]})})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter my-3",children:"Add the following files below to your application"}),(0,a.jsx)(eR,{projectKeys:J,filePath:X,className:"rounded-b-none"}),(0,a.jsx)(ex.Z.Notice,{className:"border border-t-0 rounded-lg rounded-t-none",title:"New API keys coming 2025",description:"\n`anon` and `service_role` API keys will be changing to `publishable` and `secret` API keys.   \n",href:"https://github.com/orgs/supabase/discussions/29260",buttonText:"Read the announcement"})]},"content-".concat(e.key))})]})]})]}):(0,a.jsx)(eg.u,{disabled:!0,type:"default",className:"rounded-full",icon:(0,a.jsx)(p.Z,{className:"rotate-90"}),tooltip:{content:{side:"bottom",text:"Project is currently not active and cannot be connected"}},children:"Connect"})},eD=n(61298),eP=n(49497),eO=n(44825),eM=n(59880),eF=n(97706),eU=n(72541),eZ=n(43378);let eH=()=>{let{theme:e,setTheme:t}=(0,eC.F)(),n=(0,eM.WZ)(),r=(0,eZ.FX)();return(0,a.jsxs)(eF.h_,{"data-sentry-element":"DropdownMenu","data-sentry-component":"LocalDropdown","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,a.jsx)(eF.$F,{className:"border flex-shrink-0 px-3",asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"LocalDropdown.tsx",children:(0,a.jsx)(T.z,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"LocalDropdown.tsx",children:(0,a.jsx)(eD.m,{className:"w-8 h-8 rounded-md","data-sentry-element":"ProfileImage","data-sentry-source-file":"LocalDropdown.tsx"})})}),(0,a.jsxs)(eF.AW,{side:"bottom",align:"end",className:"w-44","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onClick:()=>n.setShowFeaturePreviewModal(!0),onSelect:()=>n.setShowFeaturePreviewModal(!0),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,a.jsx)(eP.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"FlaskConical","data-sentry-source-file":"LocalDropdown.tsx"}),"Feature previews"]}),(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onClick:()=>r(!0),"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,a.jsx)(eO.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter","data-sentry-element":"Command","data-sentry-source-file":"LocalDropdown.tsx"}),"Command menu"]}),(0,a.jsx)(eF.VD,{"data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"LocalDropdown.tsx"}),(0,a.jsxs)(eF.Qk,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"LocalDropdown.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"LocalDropdown.tsx",children:"Theme"}),(0,a.jsx)(eF._x,{value:e,onValueChange:e=>{t(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"LocalDropdown.tsx",children:eU.J.map(e=>(0,a.jsx)(eF.qB,{value:e.value,children:e.name},e.value))})]})]})]})};var eW=n(90570),eB=n(50378),eV=n(27775),eq=n(28525);function e$(){let e=(0,eB.useRouter)(),t=(0,eV.QJ)(),{profile:n}=(0,eq.Un)(),{theme:r,setTheme:s}=(0,eC.F)(),o=(0,eM.WZ)(),l=(0,eZ.FX)();return(0,a.jsxs)(eF.h_,{"data-sentry-element":"DropdownMenu","data-sentry-component":"UserDropdown","data-sentry-source-file":"UserDropdown.tsx",children:[(0,a.jsx)(eF.$F,{className:"border flex-shrink-0 px-3",asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"UserDropdown.tsx",children:(0,a.jsx)(T.z,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"UserDropdown.tsx",children:(0,a.jsx)(eD.m,{alt:null==n?void 0:n.username,src:null==n?void 0:n.profileImageUrl,className:"w-8 h-8 rounded-md","data-sentry-element":"ProfileImage","data-sentry-source-file":"UserDropdown.tsx"})})}),(0,a.jsxs)(eF.AW,{side:"bottom",align:"end","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"UserDropdown.tsx",children:[C.Qy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-2 py-1 flex flex-col gap-0 text-sm",children:n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{title:n.username,className:"w-full text-left text-foreground truncate",children:n.username}),n.primary_email!==n.username&&(0,a.jsx)("span",{title:n.primary_email,className:"w-full text-left text-foreground-light text-xs truncate",children:n.primary_email})]})}),(0,a.jsx)(eF.VD,{}),(0,a.jsxs)(eF.Qk,{children:[(0,a.jsx)(eF.Xi,{className:"flex gap-2",asChild:!0,children:(0,a.jsxs)(i(),{href:"/account/me",onClick:()=>{"/account/me"!==e.pathname&&o.setLastRouteBeforeVisitingAccountPage(e.asPath)},children:[(0,a.jsx)(eW.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Account preferences"]})}),(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onClick:()=>o.setShowFeaturePreviewModal(!0),onSelect:()=>o.setShowFeaturePreviewModal(!0),children:[(0,a.jsx)(eP.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Feature previews"]}),(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onClick:()=>l(!0),children:[(0,a.jsx)(eO.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Command menu"]}),(0,a.jsx)(eF.VD,{})]})]}),(0,a.jsxs)(eF.Qk,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"UserDropdown.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"UserDropdown.tsx",children:"Theme"}),(0,a.jsx)(eF._x,{value:r,onValueChange:e=>{s(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"UserDropdown.tsx",children:eU.J.map(e=>(0,a.jsx)(eF.qB,{value:e.value,children:e.name},e.value))})]}),C.Qy&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eF.VD,{}),(0,a.jsx)(eF.Qk,{children:(0,a.jsx)(eF.Xi,{onSelect:async()=>{await t(),await e.push("/sign-in")},children:"Log out"})})]})]})]})}var eG=n(51187),eY=n(24425),eQ=()=>{let e=(0,eG.oJ)(),{setEditorPanel:t}=(0,eM.WZ)();return(0,a.jsx)(T.z,{type:"text",size:"tiny",id:"assistant-trigger",className:"w-[24px] h-[24px] flex items-center justify-center p-0",onClick:()=>{e.toggleAssistant(),t({open:!1})},"data-sentry-element":"Button","data-sentry-component":"AssistantButton","data-sentry-source-file":"AssistantButton.tsx",children:(0,a.jsx)(eY.c,{allowHoverEffect:!0,size:16,"data-sentry-element":"AiIconAnimation","data-sentry-source-file":"AssistantButton.tsx"})})},eJ=n(55812),eX=n(11780),eK=n(96342),e0=n(4542),e1=n(98105),e2=n(23147),e4=n(10123),e5=n(73641),e3=n(63533),e6=n(12071);let e9=(e,t)=>{if(!(Object.entries(t).length>1))return e;{let n="bucketId"in t,a="preset"in t;return e.split("/").slice(0,n||a?5:4).join("/")}},e7=e=>{var t;let{project:n,setOpen:r}=e,s=(0,eB.useRouter)(),{ref:o}=(0,c.UO)(),l=e9(s.route,s.query),d=null!==(t=null==l?void 0:l.replace("[ref]",n.ref))&&void 0!==t?t:"/project/".concat(n.ref);return(0,a.jsx)(eS.di,{value:"".concat(n.name.replaceAll('"',""),"-").concat(n.ref),className:"cursor-pointer w-full",onSelect:()=>{s.push(d),r(!1)},onClick:()=>r(!1),"data-sentry-element":"CommandItem_Shadcn_","data-sentry-component":"ProjectLink","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,a.jsxs)(i(),{href:d,className:"w-full flex items-center justify-between","data-sentry-element":"Link","data-sentry-source-file":"ProjectDropdown.tsx",children:[n.name,n.ref===o&&(0,a.jsx)(Q.Z,{size:16})]})},n.ref)};var e8=e=>{let{isNewNav:t=!0}=e,n=(0,d.Qh)(),r=(0,eB.useRouter)(),{ref:s}=(0,c.UO)(),o=(0,ev.Vm)(),u=(0,S.l)(),p=(0,ev.Vm)(),{data:m,isLoading:f}=(0,e3.Sy)(),h=(0,e6.N)("projects:create"),g=(null==o?void 0:o.parentRef)!==(null==o?void 0:o.ref),x=null==m?void 0:m.filter(e=>e.organization_id===(null==u?void 0:u.id)).sort((e,t)=>e.name.localeCompare(t.name)),b=g?null==x?void 0:x.find(e=>e.ref===(null==o?void 0:o.parentRef)):null==x?void 0:x.find(e=>e.ref===s),[v,j]=(0,l.useState)(!1);return f||!b?(0,a.jsx)(y.Z,{className:"w-[90px]"}):C.Qy?(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsxs)(i(),{href:"/project/".concat(null==p?void 0:p.ref),className:"flex items-center gap-2 flex-shrink-0 text-sm",children:[(0,a.jsx)(eN.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),(0,a.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:null==p?void 0:p.name})]}),(0,a.jsxs)(ew.J2,{open:v,onOpenChange:j,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:n?(0,a.jsx)(T.z,{type:"text",size:"tiny",className:(0,A.cn)("px-0.25 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,a.jsx)(eK.Z,{strokeWidth:1.5})}):(0,a.jsx)(T.z,{type:"text",className:"pr-2",iconRight:(0,a.jsx)(eK.Z,{}),children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("p",{className:t?"text-sm":"text-xs",children:null==b?void 0:b.name})})})}),(0,a.jsx)(ew.yk,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,a.jsxs)(eS.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,a.jsx)(eS.sZ,{placeholder:"Find project...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx"}),(0,a.jsxs)(eS.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:[(0,a.jsx)(eS.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:"No projects found"}),(0,a.jsx)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,a.jsx)(e4.xr,{className:(x||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"ProjectDropdown.tsx",children:null==x?void 0:x.map(e=>(0,a.jsx)(e7,{project:e,setOpen:j},e.ref))})}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.zz,{}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(eS.di,{className:"cursor-pointer w-full",onSelect:()=>{j(!1),r.push("/new/".concat(null==u?void 0:u.slug))},onClick:()=>j(!1),children:(0,a.jsxs)(i(),{href:"/new/".concat(null==u?void 0:u.slug),onClick:()=>{j(!1)},className:"w-full flex items-center gap-2",children:[(0,a.jsx)(e5.Z,{size:14,strokeWidth:1.5}),(0,a.jsx)("p",{children:"New project"})]})})})]})]})]})})]})]}):(0,a.jsx)(T.z,{type:"text","data-sentry-element":"Button","data-sentry-component":"ProjectDropdown","data-sentry-source-file":"ProjectDropdown.tsx",children:(0,a.jsx)("span",{className:t?"text-sm":"text-xs",children:null==b?void 0:b.name})})};let te=e=>{var t;let{branch:n,isSelected:r,setOpen:s}=e,o=(0,eB.useRouter)(),l=e9(o.route,o.query),c=null!==(t=null==l?void 0:l.replace("[ref]",n.project_ref))&&void 0!==t?t:"/project/".concat(n.project_ref);return(0,a.jsx)(i(),{passHref:!0,href:c,"data-sentry-element":"Link","data-sentry-component":"BranchLink","data-sentry-source-file":"BranchDropdown.tsx",children:(0,a.jsxs)(eS.di,{value:n.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{s(!1),o.push(c)},onClick:()=>{s(!1)},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"BranchDropdown.tsx",children:[(0,a.jsxs)("p",{className:"truncate w-60 flex items-center gap-1",title:n.name,children:[n.is_default&&(0,a.jsx)(eJ.Z,{size:14,className:"text-amber-900"}),n.name]}),r&&(0,a.jsx)(Q.Z,{size:14,strokeWidth:1.5})]})})};var tt=()=>{let e=(0,d.Qh)(),t=(0,eB.useRouter)(),{ref:n}=(0,c.UO)(),r=(0,ev.Vm)(),s=(null==r?void 0:r.parent_project_ref)!==void 0,o=void 0!==r?s?r.parent_project_ref:n:void 0,{data:u,isLoading:p,isError:m,isSuccess:f}=(0,e2.V)({projectRef:o}),[h,g]=(0,l.useState)(!1),x=null==u?void 0:u.find(e=>e.project_ref===n),b=null==u?void 0:u.find(e=>e.is_default),v=null==u?void 0:u.filter(e=>!e.is_default).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),j=b?[b].concat(null!=v?v:[]):null!=v?v:[],_="https://github.com/orgs/supabase/discussions/18937";return(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)(y.Z,{className:"w-[90px]"}),m&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-amber-900",children:[(0,a.jsx)(eX.Z,{size:16,strokeWidth:2}),(0,a.jsx)("p",{className:"text-sm",children:"Failed to load branches"})]}),f&&u.length>0&&(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsxs)(i(),{href:"/project/".concat(n),className:"flex items-center gap-2 flex-shrink-0 text-sm",children:[(0,a.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate",children:null==x?void 0:x.name}),(null==x?void 0:x.is_default)?(0,a.jsx)(D.C,{variant:"warning",children:"Production"}):(0,a.jsx)(D.C,{variant:"brand",children:"Preview Branch"})]}),(0,a.jsxs)(ew.J2,{open:h,onOpenChange:g,modal:!1,children:[(0,a.jsx)(ew.xo,{asChild:!0,children:e?(0,a.jsx)(T.z,{type:"text",className:(0,A.cn)("px-0.25 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,a.jsx)(eK.Z,{strokeWidth:1.5})}):(0,a.jsx)(T.z,{type:"text",className:"pr-2",iconRight:(0,a.jsx)(eK.Z,{}),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-xs",children:null==x?void 0:x.name}),(null==x?void 0:x.is_default)?(0,a.jsx)(D.C,{variant:"warning",children:"Production"}):(0,a.jsx)(D.C,{variant:"brand",children:"Preview Branch"})]})})}),(0,a.jsx)(ew.yk,{className:"p-0",side:"bottom",align:"start",children:(0,a.jsxs)(eS.mY,{children:[(0,a.jsx)(eS.sZ,{placeholder:"Find branch..."}),(0,a.jsxs)(eS.e8,{children:[(0,a.jsx)(eS.rb,{children:"No branches found"}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(e4.xr,{className:"max-h-[210px] overflow-y-auto",children:null==j?void 0:j.map(e=>(0,a.jsx)(te,{branch:e,isSelected:e.id===(null==x?void 0:x.id),setOpen:g},e.id))})}),(0,a.jsx)(eS.zz,{}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(eS.di,{className:"cursor-pointer w-full",onSelect:e=>{g(!1),t.push("/project/".concat(n,"/branches"))},onClick:()=>g(!1),children:(0,a.jsxs)(i(),{href:"/project/".concat(n,"/branches"),className:"w-full flex items-center gap-2",children:[(0,a.jsx)(e0.Z,{size:14,strokeWidth:1.5}),(0,a.jsx)("p",{children:"Manage branches"})]})})}),(0,a.jsx)(eS.zz,{}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(eS.di,{className:"cursor-pointer w-full",onSelect:()=>{var e,t;g(!1),null===(t=window)||void 0===t||null===(e=t.open(_,"_blank"))||void 0===e||e.focus()},onClick:()=>g(!1),children:(0,a.jsxs)(i(),{href:_,target:"_blank",onClick:()=>{g(!1)},className:"w-full flex gap-2",children:[(0,a.jsx)(e1.Z,{size:14,strokeWidth:1,className:"text-muted mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Branching feedback"}),(0,a.jsx)("p",{className:"text-lighter",children:"Join Github Discussion"})]})]})})})]})]})})]})]})]})},tn=n(20771),ta=e=>{let{isNewNav:t=!1}=e,n=(0,eM.WZ)(),r=(0,ev.Vm)(),s=(0,ey.Xo)(u.KA.CREATE,"preview_branches",{resource:{is_default:!0}}),o=!s||(null==r?void 0:r.status)!=="ACTIVE_HEALTHY";return(0,a.jsx)(eg.u,{disabled:o,type:"text",icon:(0,a.jsx)(tn.Z,{strokeWidth:1.5}),onClick:()=>n.setShowEnableBranchingModal(!0),className:"bg-none hover:bg-none text-foreground-light hover:text-foreground [&_span]:w-full [&_span]:text-left ",tooltip:{content:{side:"bottom",text:(null==r?void 0:r.status)!=="ACTIVE_HEALTHY"?"Unpause your project to enable branching":s?void 0:"You need additional permissions to enable branching"}},"data-sentry-element":"ButtonTooltip","data-sentry-component":"EnableBranchingButton","data-sentry-source-file":"EnableBranchingButton.tsx",children:"Enable branching"})},tr=()=>{let{closeAssistant:e}=(0,eG.oJ)(),{setEditorPanel:t,editorPanel:n}=(0,eM.WZ)();return(0,a.jsx)(T.z,{type:"text",size:"tiny",id:"editor-trigger",className:"w-[24px] h-[24px] flex items-center justify-center p-0",onClick:()=>{e(),t({open:!n.open})},"data-sentry-element":"Button","data-sentry-component":"InlineEditorButton","data-sentry-source-file":"InlineEditorButton.tsx",children:(0,a.jsx)(K.vu,{size:20,strokeWidth:1.5,"data-sentry-element":"SqlEditor","data-sentry-source-file":"InlineEditorButton.tsx"})})},ts=n(53097),to=n(77670),ti=n(49560),tl=()=>{let e=(0,d.Qh)(),t=(0,eB.useRouter)(),{slug:n}=(0,c.UO)(),r=(0,S.l)(),{data:s,isLoading:o}=(0,ti.tl)(),u=(0,e6.N)("organizations:create"),p=null==r?void 0:r.slug,m=null==r?void 0:r.name,[f,h]=(0,l.useState)(!1);return o?(0,a.jsx)(y.Z,{className:"w-[90px]"}):(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsxs)(i(),{href:"/org/".concat(p),className:"flex items-center gap-2 flex-shrink-0 text-sm",children:[(0,a.jsx)(ts.Z,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),(0,a.jsx)("span",{className:"text-foreground max-w-32 lg:max-w-none truncate hidden md:block",children:m}),(0,a.jsx)(D.C,{variant:"default",children:null==r?void 0:r.plan.name})]}),(0,a.jsxs)(ew.J2,{open:f,onOpenChange:h,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:e?(0,a.jsx)(T.z,{type:"text",className:(0,A.cn)("px-0.25 [&_svg]:w-5 [&_svg]:h-5 ml-1"),iconRight:(0,a.jsx)(eK.Z,{strokeWidth:1.5})}):(0,a.jsx)(T.z,{type:"text",className:"pr-2",iconRight:(0,a.jsx)(eK.Z,{}),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-xs",children:m}),(0,a.jsx)(D.C,{variant:"default",children:null==r?void 0:r.plan.name})]})})}),(0,a.jsx)(ew.yk,{className:"p-0",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,a.jsxs)(eS.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,a.jsx)(eS.sZ,{placeholder:"Find organization...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx"}),(0,a.jsxs)(eS.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:[(0,a.jsx)(eS.rb,{"data-sentry-element":"CommandEmpty_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:"No organizations found"}),(0,a.jsx)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"OrganizationDropdown.tsx",children:(0,a.jsx)(e4.xr,{className:(s||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"OrganizationDropdown.tsx",children:null==s?void 0:s.map(e=>{let r=n?t.pathname.replace("[slug]",e.slug):"/org/".concat(e.slug);return(0,a.jsx)(eS.di,{value:"".concat(e.name.replaceAll('"',"")," - ").concat(e.slug),className:"cursor-pointer w-full",onSelect:()=>{h(!1),t.push(r)},onClick:()=>h(!1),children:(0,a.jsxs)(i(),{href:r,className:"w-full flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)(to.Z,{organization:e})]}),e.slug===p&&(0,a.jsx)(Q.Z,{size:16})]})},e.slug)})})}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.zz,{}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(eS.di,{className:"cursor-pointer w-full",onSelect:e=>{h(!1),t.push("/organizations")},onClick:()=>h(!1),children:(0,a.jsx)(i(),{href:"/organizations",className:"flex items-center gap-2 w-full",children:(0,a.jsx)("p",{children:"All Organizations"})})})})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.zz,{}),(0,a.jsx)(eS.fu,{children:(0,a.jsx)(eS.di,{className:"cursor-pointer w-full",onSelect:e=>{h(!1),t.push("/new")},onClick:()=>h(!1),children:(0,a.jsxs)(i(),{href:"/new",className:"flex items-center gap-2 w-full",children:[(0,a.jsx)(e5.Z,{size:14,strokeWidth:1.5}),(0,a.jsx)("p",{children:"New organization"})]})})})]})]})]})})]})]})};let tc=e=>e.length?e.filter(e=>{if(!e.capped||!e.available_in_plan||e.unlimited||"DISK_IOPS_GP3"===e.metric)return!1;let t=e.pricing_free_units||0;return e.usage>t}).map(e=>e.metric):[];var td=n(64957),tu=n(9050),tp=e=>{let{defaultValue:t}=e;return(0,a.jsx)(a.Fragment,{children:(null==t?void 0:t.length)?t.map((e,t)=>(0,a.jsxs)(l.Fragment,{children:[t>0&&(0,a.jsx)("span",{className:"text-border-stronger dark:text-border-strong",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,a.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,a.jsx)("a",{onClick:e.onClick||(()=>{}),className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)):null})},tm=n(64305),tf=n(56460),th=n(29927),tg=n(40024),tx=n(75207),tb=n(56213),ty=n(66409),tv=n(28633);async function tj(e){let{message:t,pathname:n,projectRef:a,organizationSlug:r}=e,{data:s,error:o}=await (0,tv.v_)("/platform/feedback/send",{body:{message:t,category:"Feedback",tags:["dashboard-feedback"],projectRef:a,organizationSlug:r,pathname:n}});return o&&(0,tv.S3)(o),s}let t_=function(){let{onError:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,ty.D)(e=>tj(e),{async onError(t,n,a){void 0===e?tb.Am.error("Failed to submit feedback: ".concat(t.message)):e(t,n,a)},...t})};var tN=n(29558),tw=n(9602);let tS=e=>{let t="image/png",n=atob(e.substr("data:".concat(t,";base64,").length)),a=[];for(let e=0;e<n.length;e+=1024){let t=n.slice(e,e+1024),r=Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let s=new Uint8Array(r);a.push(s)}return new Blob(a,{type:t})},tC=async(e,t)=>{let n=(0,tw.eI)("https://obuldanrptloktxcffvn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9idWxkYW5ycHRsb2t0eGNmZnZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTg2MTQ2ODUsImV4cCI6MjAzNDE5MDY4NX0.NFt49g6DFkc1X5khCzN5p01iAVo2TMxlx88cY1V0E2M",{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:e=>void 0,setItem:(e,t)=>{},removeItem:e=>{}}}}),a=tS(t),r="".concat(e||"no-project","/").concat((0,E.k$)(),".png"),{data:s,error:o}=await n.storage.from("feedback-attachments").upload(r,a,{cacheControl:"3600"});if(o){console.error("Failed to upload:",o);return}if(s){let{data:e}=await n.storage.from("feedback-attachments").createSignedUrls([s.path],31536e4);return null==e?void 0:e[0].signedUrl}};var tE=e=>{let{feedback:t,screenshot:n,onClose:r,setFeedback:s,setScreenshot:o}=e,d="feedback_content",u="screenshot",p=(0,eB.useRouter)(),{ref:m,slug:f}=(0,c.UO)(),h=(0,S.l)(),g=(0,l.useRef)(null),[x,b]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),[j,_]=(0,l.useState)(!1),{mutate:N}=(0,w.a)(),{mutate:C}=t_({onSuccess:()=>{_(!0),s(""),o(void 0),localStorage.removeItem(d),localStorage.removeItem(u),b(!1)},onError:e=>{tb.Am.error("Failed to submit feedback: ".concat(e.message)),b(!1)}});(0,l.useEffect)(()=>{let e=localStorage.getItem(d);e&&s(e);let t=localStorage.getItem(u);t&&o(t)},[]),(0,l.useEffect)(()=>{localStorage.setItem(d,t)},[t]),(0,l.useEffect)(()=>{n&&localStorage.setItem(u,n)},[n]);let k=async()=>{v(!0),await (0,E.Vs)(100),(0,tm.YM)(document.body,{filter:function(e){var t;return!((null!==(t=null==e?void 0:e.children)&&void 0!==t?t:[]).length>0)||"feedback-widget"!==e.children[0].id}}).then(e=>{localStorage.setItem(u,e),o(e)}).catch(()=>tb.Am.error("Failed to capture screenshot")).finally(()=>{v(!1)})},A=async e=>{e.persist();let[t]=e.target.files||e.dataTransfer.items,n=new FileReader;n.onload=function(e){var t;let n=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof n&&(o(n),localStorage.setItem(u,n))},n.readAsDataURL(t),e.target.value=""},z=async()=>{let[e]=await navigator.clipboard.read();if(void 0===n&&"image/png"===e.types[0]){let t=await e.getType("image/png"),n=new FileReader;n.onload=function(e){var t;let n=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof n&&(o(n),localStorage.setItem(u,n))},n.readAsDataURL(t)}},I=async()=>{if(0===t.length&&void 0!==n)return tb.Am.error("Please include a message in your feedback.");if(t.length>0){b(!0);let e=n?await tC(m,n):void 0;C({projectRef:m,organizationSlug:f,message:void 0!==e?"".concat(t,"\n\nAttachments:\n").concat(e):t,pathname:p.asPath})}};return j?(0,a.jsx)(tk,{onClose:r,"data-sentry-element":"ThanksMessage","data-sentry-component":"FeedbackWidget","data-sentry-source-file":"FeedbackWidget.tsx"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)(tN.K,{placeholder:"It would be great if...",rows:5,value:t,onChange:e=>s(e.target.value),onPaste:z,className:"text-sm mt-4 mb-1","data-sentry-element":"TextArea_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"})}),(0,a.jsx)(ew.Fm,{"data-sentry-element":"PopoverSeparator","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsxs)("div",{className:"px-5 flex flex-row justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-foreground",children:"Have a technical issue?"}),(0,a.jsxs)("p",{className:"text-xs text-foreground-light",children:["Contact"," ",(0,a.jsx)(i(),{href:"/support/new","data-sentry-element":"Link","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"support"})})," ","or"," ",(0,a.jsx)("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"see docs"})}),"."]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-row",children:[void 0!==n?(0,a.jsx)("div",{style:{backgroundImage:'url("'.concat(n,'")')},onClick:()=>{let e=tS(n),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[30px] border border-control relative bg-cover bg-center bg-no-repeat",children:(0,a.jsx)("button",{className:"cursor-pointer rounded-full bg-red-900 h-3 w-3 flex items-center justify-center absolute -top-1 -right-1",onClick:e=>{e.stopPropagation(),o(void 0)},children:(0,a.jsx)(q.Z,{size:8,strokeWidth:3})})}):(0,a.jsxs)(eF.h_,{children:[(0,a.jsx)(eF.$F,{asChild:!0,children:(0,a.jsx)(T.z,{type:"default",disabled:y,loading:y,className:"px-2",children:(0,a.jsx)(tf.Z,{size:14})})}),(0,a.jsxs)(eF.AW,{side:"bottom",align:"end",className:"w-fit",children:[(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onSelect:()=>{g.current&&g.current.click()},children:[(0,a.jsx)(th.Z,{size:14}),"Upload screenshot"]},"upload-screenshot"),(0,a.jsx)(eF.VD,{}),(0,a.jsxs)(eF.Xi,{className:"flex gap-2",onSelect:()=>k(),children:[(0,a.jsx)(tg.Z,{size:14}),"Capture screenshot"]},"capture-screenshot")]})]}),(0,a.jsx)("input",{type:"file",ref:g,className:"hidden",accept:"image/png",onChange:A}),(0,a.jsx)(T.z,{disabled:0===t.length||x,loading:x,onClick:()=>{I(),N({action:"send_feedback_button_clicked",groups:{project:m,organization:null==h?void 0:h.slug}})},"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Send"})]})]})]})};let tk=e=>{let{onClose:t}=e;return(0,a.jsx)("div",{className:"px-0 pt-3 pb-0","data-sentry-component":"ThanksMessage","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{className:"px-6 grid gap-3 py-2 text-center text-foreground-light",children:[(0,a.jsx)(tx.Z,{className:"mx-auto text-brand-500",size:24,"data-sentry-element":"CircleCheck","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsx)("p",{className:"text-foreground text-base",children:"Your feedback has been sent. Thanks!"}),(0,a.jsx)("p",{className:"text-sm ",children:"We do not always respond to feedback. If you require assistance, please contact support instead."})]}),(0,a.jsx)(ew.Fm,{"data-sentry-element":"PopoverSeparator","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:(0,a.jsx)(i(),{href:"/support/new","data-sentry-element":"Link","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"Create a Support Ticket"})})}),(0,a.jsx)(T.z,{type:"default",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Close"})]})]})})};var tA=()=>{let[e,t]=(0,l.useState)(!1),[n,r]=(0,l.useState)(""),[s,o]=(0,l.useState)();return(0,a.jsxs)(ew.J2,{modal:!1,open:e,onOpenChange:e=>{t(e),e||o(void 0)},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"FeedbackDropdown","data-sentry-source-file":"FeedbackDropdown.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,a.jsx)(T.z,{asChild:!0,onClick:()=>t(e=>!e),type:"outline","data-sentry-element":"Button","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,a.jsx)("span",{className:"hidden md:flex",children:"Feedback"})})}),(0,a.jsx)(ew.yk,{side:"bottom",align:"end",className:"px-0 flex flex-col pt-1 pb-3 gap-3 w-96",id:"feedback-widget","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,a.jsx)(tE,{onClose:()=>t(!1),feedback:n,setFeedback:r,screenshot:s,setScreenshot:o,"data-sentry-element":"FeedbackWidget","data-sentry-source-file":"FeedbackDropdown.tsx"})})]})},tz=n(19106),tI=n(53943),tL=n(20560),tR=n(84049),tT=n(20866),tD=n(97034),tP=n.n(tD),tO=n(45890),tM=n(71807),tF=n(59928),tU=()=>{var e;let t=(0,eB.useRouter)(),{project:n}=(0,tF.d2)(),r=(0,S.l)(),{mutate:s}=(0,w.a)(),o=null!==(e=null==n?void 0:n.parent_project_ref)&&void 0!==e?e:t.query.ref;return(0,a.jsxs)(ew.J2,{"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"HelpPopover","data-sentry-source-file":"HelpPopover.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)(eg.u,{id:"help-popover-button",type:"text",className:"px-1",icon:(0,a.jsx)(tz.Z,{size:16,strokeWidth:1.5,className:"text-foreground-light"}),tooltip:{content:{side:"bottom",text:"Help"}},onClick:()=>{s({action:"help_button_clicked",groups:{project:null==n?void 0:n.ref,organization:null==r?void 0:r.slug}})},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"HelpPopover.tsx"})}),(0,a.jsxs)(ew.yk,{className:"w-[400px] space-y-4 p-0 py-5",align:"end",side:"bottom","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"HelpPopover.tsx",children:[(0,a.jsxs)("div",{className:"mb-5 space-y-4 px-5",children:[(0,a.jsx)("h5",{className:"text-foreground",children:"Need help with your project?"}),(0,a.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For issues with your project hosted on supabase.com, or other inquiries about our hosted services."}),(0,a.jsxs)("div",{className:"space-x-1",children:[(0,a.jsx)(T.z,{asChild:!0,type:"default",icon:(0,a.jsx)(tI.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/platform/troubleshooting",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"HelpPopover.tsx",children:"Troubleshooting"})}),(0,a.jsx)(T.z,{asChild:!0,type:"text",size:"tiny",icon:(0,a.jsx)(tL.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"HelpPopover.tsx",children:"Docs"})}),(0,a.jsx)(T.z,{asChild:!0,type:"text",size:"tiny",icon:(0,a.jsx)(tR.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)(i(),{href:"https://status.supabase.com/",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"HelpPopover.tsx",children:"Supabase Status"})})]}),(0,a.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Expected response time is based on your billing plan. Projects on paid plans are prioritized."}),(0,a.jsx)("div",{children:(0,a.jsx)(T.z,{asChild:!0,type:"default",icon:(0,a.jsx)(tT.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)(i(),{href:"/support/new".concat(o?"?ref=".concat(o):""),"data-sentry-element":"Link","data-sentry-source-file":"HelpPopover.tsx",children:"Contact Support"})})})]}),(0,a.jsx)(tM.Z.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"HelpPopover.tsx"}),(0,a.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,a.jsxs)("div",{className:"mb-4 px-5",children:[(0,a.jsx)("h5",{className:"mb-2",children:"Reach out to the community"}),(0,a.jsx)("p",{className:"text-sm text-foreground-lighter",children:"For other support, including questions on our client libraries, advice, or best practices."})]}),(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,a.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"dark block cursor-pointer",children:[(0,a.jsx)(tP(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"discord illustration header","data-sentry-element":"Image","data-sentry-source-file":"HelpPopover.tsx"}),(0,a.jsx)(T.z,{type:"secondary",icon:(0,a.jsx)(tO.Z,{src:"".concat(t.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:(0,a.jsx)("span",{style:{color:"#404EED"},children:"Join Discord server"})})]})})}),(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",children:(0,a.jsxs)("a",{href:"https://github.com/supabase/supabase/discussions",target:"_blank",rel:"noreferrer",className:"block cursor-pointer",children:[(0,a.jsx)(tP(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(t.basePath,"/img/support/github-bg.jpg?v-1"),layout:"fill",objectFit:"cover",alt:"discord illustration header","data-sentry-element":"Image","data-sentry-source-file":"HelpPopover.tsx"}),(0,a.jsx)(T.z,{type:"secondary",icon:(0,a.jsx)(e1.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"HelpPopover.tsx",children:"GitHub Discussions"})]})})})]})]})]})},tZ=n(86342);let tH=()=>{let e=(0,d.Qh)(),t=(0,tu.S)(),n=(0,S.l)(),{data:r}=(0,ti.tl)(),{project:s}=(0,tF.d2)(),o=(0,eB.useRouter)(),[l]=(0,tZ.l)(C.dA.LAST_VISITED_ORGANIZATION,"");if(!t&&!e)return null;let c=C.Qy?e?l?"/org/".concat(l):(null==n?void 0:n.slug)?"/org/".concat(n.slug):r&&r.length>0?"/org/".concat(r[0].slug):"/projects":"/projects":"/project/default";return(0,a.jsx)(i(),{href:c,className:"items-center justify-center flex-shrink-0 hidden md:flex","data-sentry-element":"Link","data-sentry-component":"HomeIcon","data-sentry-source-file":"HomeIcon.tsx",children:(0,a.jsx)(ek(),{alt:"Supabase",src:"".concat(o.basePath,"/img/supabase-logo.svg"),width:18,height:18,className:"w-[18px] h-[18px]","data-sentry-element":"Image","data-sentry-source-file":"HomeIcon.tsx"})})};var tW=n(28977),tB=n.n(tW),tV=n(51559),tq=n(43291),t$=n(58971),tG=n(76378);async function tY(){try{return await fetch("".concat(C.GW,"/api/cli-release-version")).then(e=>e.json())}catch(e){throw e}}let tQ=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t$.a)(tG.V.cliReleaseVersion(),()=>tY(),{enabled:e&&!C.Qy,...t})};var tJ=n(41928);let tX=e=>{if(!e)return;let[t,n,a]=e.slice(1).split(".");return{major:Number(t),minor:Number(n),patch:Number(a)}},tK=(e,t)=>!(e.major>t.major)&&(e.major!==t.major||!(e.minor>t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch>t.patch)),t0=(e,t)=>!(e.major<t.major)&&(e.major!==t.major||!(e.minor<t.minor))&&(e.major!==t.major||e.minor!==t.minor||!(e.patch<t.patch)),t1=()=>{let{data:e,isSuccess:t}=tQ(),n=null==e?void 0:e.current,r=t&&!!(null==e?void 0:e.latest),s=tX(null==e?void 0:e.current),o=tX(null==e?void 0:e.latest),i=!!s&&!!o&&(null==e?void 0:e.current)!==(null==e?void 0:e.latest)&&tK(s,o),l=!!s&&!!o&&(null==e?void 0:e.current)!==(null==e?void 0:e.latest)&&t0(s,o),c=(null==e?void 0:e.published_at)?tB()(null==e?void 0:e.published_at).utc().add(14,"day").format("DD MMM YYYY"):void 0;return t&&n?(0,a.jsxs)(ew.J2,{"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LocalVersionPopover","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,a.jsx)(ew.xo,{className:"flex items-center","data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,a.jsx)(D.C,{variant:l?"warning":i?"brand":"default","data-sentry-element":"Badge","data-sentry-source-file":"LocalVersionPopover.tsx",children:l?"Beta":i?"Update available":"Latest"})}),(0,a.jsxs)(ew.yk,{align:"end",className:"w-80 px-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx",children:[r?!l&&i?(0,a.jsxs)("div",{className:"px-4 mb-3",children:[(0,a.jsx)("p",{className:"text-sm mb-2",children:"A new version of Supabase CLI is available:"}),(0,a.jsxs)(ej.mQ,{defaultValue:"macos",children:[(0,a.jsxs)(ej.dr,{className:"mt-2",children:[(0,a.jsx)(ej.SP,{className:"px-2 text-xs",value:"macos",children:"macOS"}),(0,a.jsx)(ej.SP,{className:"px-2 text-xs",value:"windows",children:"Windows"}),(0,a.jsx)(ej.SP,{className:"px-2 text-xs",value:"linux",children:"Linux"}),(0,a.jsx)(ej.SP,{className:"px-2 text-xs",value:"npm",children:"npm / Bun"})]}),(0,a.jsx)(ej.nU,{className:"mt-2 text-xs",value:"macos",children:(0,a.jsx)(tJ.c,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,a.jsx)(ej.nU,{className:"mt-2 text-xs",value:"windows",children:(0,a.jsx)(tJ.c,{parentClassName:"bg-selection rounded !px-2",children:"scoop upgrade supabase"})}),(0,a.jsx)(ej.nU,{className:"mt-2 text-xs",value:"linux",children:(0,a.jsx)(tJ.c,{parentClassName:"bg-selection rounded !px-2",children:"brew upgrade supabase"})}),(0,a.jsx)(ej.nU,{className:"mt-2 text-xs",value:"npm",children:(0,a.jsx)(tJ.c,{parentClassName:"bg-selection rounded !px-2",children:"npm update supabase --save-dev"})})]})]}):(0,a.jsx)("div",{className:"px-4 mb-3",children:l?(0,a.jsx)("p",{className:"text-sm",children:"You're on the Beta version of Supabase CLI"}):(0,a.jsx)("p",{className:"text-sm",children:"You're on the latest version of Supabase CLI"})}):null,(0,a.jsx)("div",{className:"flex flex-col gap-y-2 px-4",children:(0,a.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["All available release versions of the CLI can be found on our"," ",(0,a.jsx)(tq.U,{href:"https://github.com/supabase/cli/releases","data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"GitHub repository"}),"."]})}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2 mt-3 px-4",children:[(0,a.jsxs)(z.Vq,{"data-sentry-element":"Dialog","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,a.jsx)(z.hg,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,a.jsx)(T.z,{type:"default","data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Release schedule"})}),(0,a.jsxs)(z.cZ,{"data-sentry-element":"DialogContent","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,a.jsx)(z.fK,{className:"border-b","data-sentry-element":"DialogHeader","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,a.jsx)(z.$N,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"LocalVersionPopover.tsx",children:"Stable release schedule"})}),(0,a.jsxs)(z.VO,{className:"flex flex-col gap-y-3","data-sentry-element":"DialogSection","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("p",{className:"text-foreground-lighter text-xs font-mono uppercase",children:["Approximate next release: ",c]}),(0,a.jsxs)("p",{className:"text-sm",children:["Supabase CLI releases follows a two-week schedule, with stable updates available through the"," ",(0,a.jsx)(tq.U,{href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#updating-the-supabase-cli","data-sentry-element":"InlineLink","data-sentry-source-file":"LocalVersionPopover.tsx",children:"CLI"}),"."]})]}),(0,a.jsxs)(O.J,{type:"default",title:"Beta Releases",description:"Beta releases are also available between stable releases through the Beta version of the CLI, which might be helpful if you are waiting for a specific fix.","data-sentry-element":"Admonition","data-sentry-source-file":"LocalVersionPopover.tsx",children:[(0,a.jsx)("p",{className:"!mt-2",children:"If you'd like to try, we recommend doing so via npm:"}),(0,a.jsx)("div",{className:"flex items-center bg-surface-200 py-1 px-2 rounded mt-2 mb-1",children:(0,a.jsx)(tJ.c,{parentClassName:"bg-surface-200","data-sentry-element":"SimpleCodeBlock","data-sentry-source-file":"LocalVersionPopover.tsx",children:"npm i supabase@beta --save-dev"})}),(0,a.jsxs)("p",{className:"text-sm text-foreground-lighter",children:["Latest Beta version: ",(0,a.jsx)("span",{children:e.beta})]}),(0,a.jsx)(tV.G,{href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux#using-beta-version",className:"!no-underline mt-2","data-sentry-element":"DocsButton","data-sentry-source-file":"LocalVersionPopover.tsx"})]})]})]})]}),(0,a.jsx)(T.z,{type:"default",asChild:!0,"data-sentry-element":"Button","data-sentry-source-file":"LocalVersionPopover.tsx",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://supabase.com/docs/guides/local-development/cli/getting-started?queryGroups=platform&platform=linux",children:"CLI Docs"})})]}),(0,a.jsx)(ew.Fm,{className:"my-4","data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"LocalVersionPopover.tsx"}),(0,a.jsxs)("div",{className:"flex items-center gap-x-4 px-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("p",{className:"text-xs",children:"Current version:"}),(0,a.jsx)("p",{className:"text-sm font-mono",children:n})]}),r&&i&&!l&&(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("p",{className:"text-xs",children:"Available version:"}),(0,a.jsx)("p",{className:"text-sm font-mono",children:e.latest})]})]})]})]}):null};var t2=n(25155),t4=n(89853),t5=n(27815),t3=n(87025);let t6=()=>["notifications"],t9=e=>["notifications",e],t7=()=>["notifications","summary"];async function t8(){let{data:e,error:t}=await (0,tv.r$)("/platform/notifications/archive-all",{headers:{Version:"2"}});return t&&(0,tv.S3)(t),e}let ne=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,t3.NL)();return(0,ty.D)(()=>t8(),{async onSuccess(t,n,r){await a.invalidateQueries(t6()),await (null==e?void 0:e(t,n,r))},async onError(e,n,a){void 0===t?tb.Am.error("Failed to archive all notifications: ".concat(e.message)):t(e,n,a)},...n})};var nt=n(45519);async function nn(e,t){let{status:n,filters:a,page:r=0,limit:s=10}=e,{data:o,error:i}=await (0,tv.U2)("/platform/notifications",{params:{query:{offset:String(r*s),limit:String(s),...void 0!==n?{status:n}:{status:"new,seen"},...a.priority.length>0?{priority:a.priority.join(",")}:{},...a.organizations.length>0?{org_slug:a.organizations.join(",")}:{},...a.projects.length>0?{project_ref:a.projects.join(",")}:{}}},headers:{Version:"2"},signal:t});return i&&(0,tv.S3)(i),o}let na=function(e){let{status:t,filters:n,limit:a=10}=e,{enabled:r=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,nt.N)(t9({status:t,filters:n,limit:a}),e=>{let{signal:r,pageParam:s}=e;return nn({status:t,filters:n,limit:a,page:s},r)},{enabled:r,getNextPageParam(e,t){let n=t.length;if(!((null!=e?e:[]).length<a))return n},...s})};async function nr(e){let{data:t,error:n}=await (0,tv.U2)("/platform/notifications/summary",{signal:e});return n&&(0,tv.S3)(n),t}let ns=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t$.a)(t7(),e=>{let{signal:t}=e;return nr(t)},e)};async function no(e){let{ids:t,status:n}=e,{data:a,error:r}=await (0,tv.r$)("/platform/notifications",{body:t.map(e=>({id:e,status:n})),headers:{Version:"2"}});return r&&(0,tv.S3)(r),a}let ni=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,t3.NL)();return(0,ty.D)(e=>no(e),{async onSuccess(t,n,r){await a.invalidateQueries(["notifications"]),await (null==e?void 0:e(t,n,r))},async onError(e,n,a){void 0===t?tb.Am.error("Failed to update notifications: ".concat(e.message)):t(e,n,a)},...n})};var nl=n(71307),nc=n(48002);let nd=(0,nl.sj)({filterStatuses:[],filterPriorities:[],filterOrganizations:[],filterProjects:[],get numFiltersApplied(){return[...this.filterStatuses,...this.filterPriorities,...this.filterOrganizations,...this.filterProjects].length},setFilters:(e,t)=>{switch(t){case"status":nd.filterStatuses.includes(e)?nd.filterStatuses=nd.filterStatuses.filter(t=>t!==e):nd.filterStatuses=nd.filterStatuses.concat([e]);break;case"priority":nd.filterPriorities.includes(e)?nd.filterPriorities=nd.filterPriorities.filter(t=>t!==e):nd.filterPriorities=nd.filterPriorities.concat([e]);break;case"organizations":nd.filterOrganizations.includes(e)?nd.filterOrganizations=nd.filterOrganizations.filter(t=>t!==e):nd.filterOrganizations=nd.filterOrganizations.concat([e]);break;case"projects":nd.filterProjects.includes(e)?nd.filterProjects=nd.filterProjects.filter(t=>t!==e):nd.filterProjects=nd.filterProjects.concat([e])}},resetFilters:()=>{nd.filterStatuses=[],nd.filterPriorities=[],nd.filterOrganizations=[],nd.filterProjects=[]}}),nu=e=>(0,nc.R)(nd,e);var np=n(7381),nm=n(78294),nf=n(36447),nh=e=>{var t;let{index:n,listRef:r,item:s,setRowHeight:o,getProject:c,getOrganizationById:d,getOrganizationBySlug:u,onUpdateNotificationStatus:p,queueMarkRead:f}=e,h=(0,l.useRef)(null),{ref:g,inView:x}=(0,nm.YD)(),{status:b,priority:y}=s,v=s.data,j=void 0!==v.project_ref?c(v.project_ref):void 0,_=void 0!==v.org_slug?u(v.org_slug):void 0!==j?d(j.organization_id):void 0,N=tB()().diff(tB()(s.inserted_at),"day"),w=tB()(s.inserted_at).fromNow(),S=tB()(s.inserted_at).format("MMM DD, YYYY"),C=e=>{console.log("Action",e)};return(0,l.useEffect)(()=>{if(h.current){var e;null==r||null===(e=r.current)||void 0===e||e.resetAfterIndex(0),o(n,h.current.clientHeight)}},[h]),(0,l.useEffect)(()=>{x&&"new"===s.status&&f(s.id)},[x]),(0,a.jsxs)("div",{ref:h,className:(0,A.cn)("p-4 flex justify-between gap-x-3 group",0!==n?"border-t border-overlay":"","new"===b?"bg-surface-100/50":"bg-background"),"data-sentry-component":"NotificationRow","data-sentry-source-file":"NotificationRow.tsx",children:[(0,a.jsxs)("div",{ref:g,className:"flex flex-col gap-y-2.5 w-full py-0.5",children:[(void 0!==j||void 0!==_)&&(0,a.jsxs)("div",{className:"flex items-center max-w-[350px]",children:[void 0!==_&&(0,a.jsx)(i(),{title:_.name,href:"/org/".concat(_.slug,"/general"),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:_.name}),void 0!==_&&void 0!==j&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,a.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),void 0!==j&&(0,a.jsx)(i(),{title:j.name,href:"/project/".concat(j.ref),className:"text-xs transition text-foreground-light hover:text-foreground underline truncate",children:j.name})]}),(0,a.jsx)("div",{className:"flex items-center gap-x-2",children:(0,a.jsxs)("p",{className:"text-sm break-word",children:[v.title," ",(0,a.jsx)("span",{className:"ml-1 text-xs text-foreground-light capitalize-sentence",children:N>1?S:w})]})}),void 0!==v.message&&(0,a.jsx)(nf.U,{className:"text-foreground-light text-xs",content:v.message}),(null!==(t=v.actions)&&void 0!==t?t:[]).length>0&&(0,a.jsx)("div",{className:"flex items-center gap-x-2",children:v.actions.map((e,t)=>{let n="".concat(s.id,"-action-").concat(t);if(void 0!==e.url){var r,o;let t=e.url.includes("[ref]")?e.url.replace("[ref]",null!==(r=null==j?void 0:j.ref)&&void 0!==r?r:"_"):e.url.includes("[slug]")?e.url.replace("[slug]",null!==(o=null==_?void 0:_.slug)&&void 0!==o?o:"_"):e.url;return(0,a.jsx)(T.z,{type:"default",icon:(0,a.jsx)(m.Z,{strokeWidth:1.5}),asChild:!0,children:(0,a.jsx)(i(),{href:t,target:"_blank",rel:"noreferrer",children:e.label})},n)}return void 0!==e.action_type?(0,a.jsx)(T.z,{type:"default",onClick:()=>C(e.action_type),children:e.label},n):null})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-y-2",children:["Warning"===y&&(0,a.jsx)(Y.aN,{className:"w-5 h-5"}),"Critical"===y&&(0,a.jsx)(Y.ku,{className:"w-5 h-5"}),"archived"===s.status?(0,a.jsx)(eg.u,{type:"outline",icon:(0,a.jsx)(np.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>p(s.id,"seen"),tooltip:{content:{text:"Unarchive",side:"bottom"}}}):(0,a.jsx)(eg.u,{type:"outline",icon:(0,a.jsx)(t4.Z,{size:13,strokeWidth:2,className:"text-foreground-light"}),className:"p-1.5 group-hover:opacity-100 opacity-0 transition rounded-full",onClick:()=>p(s.id,"archived"),tooltip:{content:{text:"Archive",side:"bottom"}}})]})]})},ng=n(87502),nx=n(27382),nb=n(30796),ny=n(67355);let nv=e=>{let{activeTab:t}=e,[n,r]=(0,l.useState)(!1),s=nu(),{data:o}=(0,ti.tl)(),{data:i}=(0,e3.Sy)();return(0,a.jsxs)(ew.J2,{modal:!0,open:n,onOpenChange:r,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsFilter","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsx)(T.z,{type:s.numFiltersApplied>0?"default":"text",icon:(0,a.jsx)(ng.Z,{strokeWidth:1}),className:"px-1 h-[26px]","data-sentry-element":"Button","data-sentry-source-file":"NotificationsFilter.tsx",children:s.numFiltersApplied>0&&"".concat(s.numFiltersApplied," filter").concat(s.numFiltersApplied>1?"s":""," applied")})}),(0,a.jsx)(ew.yk,{className:"p-0 w-64",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsxs)(eS.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(eS.sZ,{placeholder:"Find filter...","data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsxs)(eS.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsxs)(e4.xr,{className:"max-h-[240px] py-1 overflow-y-auto","data-sentry-element":"ScrollArea","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsxs)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Status"}),(0,a.jsx)(eS.di,{disabled:"archived"===t,onSelect:()=>{s.setFilters("unread","status")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsxs)(nb._,{htmlFor:"unread",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",s.filterStatuses.includes("unread")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(ny.X,{name:"unread",checked:s.filterStatuses.includes("unread"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),"Unread"]})})]}),(0,a.jsx)(eS.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsxs)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Priority"}),(0,a.jsx)(eS.di,{onSelect:()=>{s.setFilters("Warning","priority")},className:"flex items-center gap-x-2","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsxs)(nb._,{htmlFor:"warning",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",s.filterPriorities.includes("Warning")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(ny.X,{name:"warning",checked:s.filterPriorities.includes("Warning"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsx)(Y.aN,{className:"size-4","data-sentry-element":"WarningIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Warning"]})}),(0,a.jsx)(eS.di,{onSelect:()=>{s.setFilters("Critical","priority")},"data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsxs)(nb._,{htmlFor:"critical",className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",s.filterPriorities.includes("Critical")&&"text-foreground"),"data-sentry-element":"Label_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(ny.X,{name:"critical",checked:s.filterPriorities.includes("Critical"),"data-sentry-element":"Checkbox_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsx)(Y.ku,{className:"size-4","data-sentry-element":"CriticalIcon","data-sentry-source-file":"NotificationsFilter.tsx"}),"Critical"]})},"critical")]}),(0,a.jsx)(eS.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsxs)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Organizations"}),(null!=o?o:[]).map(e=>(0,a.jsx)(eS.di,{value:e.name.replaceAll('"',""),className:"flex items-center gap-x-2",onSelect:()=>{s.setFilters(e.slug,"organizations")},children:(0,a.jsxs)(nb._,{htmlFor:"".concat(e.slug),className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",s.filterOrganizations.includes(e.slug)&&"text-foreground"),children:[(0,a.jsx)(ny.X,{name:"".concat(e.slug),checked:s.filterOrganizations.includes(e.slug),className:""}),e.name]})},e.slug))]}),(0,a.jsx)(eS.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsxs)(eS.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(eF.Ju,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"NotificationsFilter.tsx",children:"Projects"}),(null!=i?i:[]).map(e=>(0,a.jsx)(eS.di,{className:"flex items-center gap-x-2",onSelect:t=>{s.setFilters(e.ref,"projects")},children:(0,a.jsxs)(nb._,{htmlFor:"".concat(e.ref),className:(0,A.cn)("flex items-center gap-x-2 text-xs text-foreground-light transition-colors",s.filterProjects.includes(e.ref)&&"text-foreground"),children:[(0,a.jsx)(ny.X,{name:"".concat(e.ref),checked:s.filterProjects.includes(e.ref),className:""}),e.name]})},e.ref))]})]}),(0,a.jsx)(eS.zz,{"data-sentry-element":"CommandSeparator_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx"}),(0,a.jsx)(eS.fu,{"data-sentry-element":"CommandGroup","data-sentry-source-file":"NotificationsFilter.tsx",children:(0,a.jsxs)(eS.di,{onSelect:()=>s.resetFilters(),className:"flex gap-x-2 items-center","data-sentry-element":"CommandItem_Shadcn_","data-sentry-source-file":"NotificationsFilter.tsx",children:[(0,a.jsx)(nx.Z,{className:"text-foreground-muted",size:12,strokeWidth:1,"data-sentry-element":"RotateCcw","data-sentry-source-file":"NotificationsFilter.tsx"}),"Reset filters"]})})]})]})})]})};var nj=()=>{var e,t,n;let[r,s]=(0,l.useState)(!1),[o,i]=(0,l.useState)("inbox"),c=nu(),d=(0,l.useRef)([]),u=(0,l.useRef)({}),{data:p}=(0,e3.Sy)({enabled:r}),{data:m}=(0,ti.tl)({enabled:r}),{data:f,error:h,isLoading:g,isError:b,isSuccess:v,hasNextPage:j,isFetchingNextPage:_,fetchNextPage:N}=na({status:"archived"===o?"archived":c.filterStatuses.includes("unread")?"new":void 0,filters:{priority:c.filterPriorities,organizations:c.filterOrganizations,projects:c.filterProjects}},{enabled:r}),{data:w}=ns(),{mutate:S}=ni(),{mutate:C,isLoading:E}=ne({onSuccess:()=>tb.Am.success("Successfully archived all notifications")}),k=(0,l.useMemo)(()=>{var e;return null!==(e=null==f?void 0:f.pages.flatMap(e=>e))&&void 0!==e?e:[]},[null==f?void 0:f.pages]),z=null!==(e=null==w?void 0:w.unread_count)&&void 0!==e&&e,I=null==w?void 0:w.has_warning,L=null==w?void 0:w.has_critical,R=()=>{d.current.length>0&&S({ids:d.current,status:"seen"})};return(0,a.jsxs)(ew.J2,{modal:!1,open:r,onOpenChange:e=>{s(e),e||R()},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"NotificationsPopoverV2","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,a.jsx)(ew.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,a.jsx)(T.z,{type:z?"outline":"text",className:(0,A.cn)("h-[26px]","group",z?"rounded-full px-1.5":"px-1",L?"border-destructive-500 hover:border-destructive-600 hover:bg-destructive-300":I?"border-warning-500 hover:border-warning-600 hover:bg-warning-300":""),icon:L?(0,a.jsx)(Y.ku,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):I?(0,a.jsx)(Y.aN,{className:"relative !w-3.5 !h-3.5 transition-all -mr-3.5 group-hover:-mr-1 z-10"}):z?(0,a.jsx)("div",{className:(0,A.cn)("transition-all -mr-3 group-hover:-mr-1","z-10 h-4 flex items-center justify-center rounded-full bg-black dark:bg-white",(null!==(t=null==w?void 0:w.unread_count)&&void 0!==t?t:0)>9?"px-0.5 w-auto":"w-4"),children:(0,a.jsx)("p",{className:"text-xs text-background-alternative",children:null==w?void 0:w.unread_count})}):null,iconRight:(0,a.jsx)(t2.Z,{size:18,strokeWidth:1.5,className:"transition group-hover:text-foreground text-foreground-light"}),"data-sentry-element":"Button","data-sentry-source-file":"NotificationsPopover.tsx"})}),(0,a.jsxs)(ew.yk,{className:"p-0 w-screen md:w-[450px] overflow-hidden",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,a.jsxs)("div",{className:"px-4",children:[(0,a.jsx)("p",{className:"pt-4 pb-1 text-sm",children:"Notifications"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(ej.mQ,{className:"w-full",onValueChange:e=>{i(e),"archived"===e&&c.filterStatuses.includes("unread")&&c.setFilters("unread","status")},value:o,"data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(ej.dr,{className:"flex gap-5 grow border-none","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:[(0,a.jsxs)(ej.SP,{id:"inbox",value:"inbox",className:"px-0 data-[state=active]:bg-transparent flex gap-2","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:["Inbox",(0,a.jsx)("div",{className:(0,A.cn)("flex items-center justify-center text-xs rounded-full bg-surface-300 h-4",(null!==(n=null==w?void 0:w.unread_count)&&void 0!==n?n:0)>9?"px-0.5 w-auto":"w-4"),children:null==w?void 0:w.unread_count})]}),(0,a.jsx)(ej.SP,{id:"archived",value:"archived",className:"px-0 data-[state=active]:bg-transparent","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"NotificationsPopover.tsx",children:"Archived"})]}),(0,a.jsx)(nv,{activeTab:o,"data-sentry-element":"NotificationsFilter","data-sentry-source-file":"NotificationsPopover.tsx"})]})})})]}),(0,a.jsxs)("div",{className:"border-t",children:[g&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(y.A,{})}),b&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(x.Z,{subject:"Failed to retrieve notifications",error:h})}),v&&(0,a.jsx)("div",{className:"flex flex-1 h-[400px] bg-background",children:k.length>0&&!("archived"===o&&c.filterStatuses.includes("unread"))?(0,a.jsx)(t5.Z,{items:k,ItemComponent:nh,LoaderComponent:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(y.Z,{})}),itemProps:{setRowHeight:(e,t)=>{u.current&&(u.current={...u.current,[e]:t})},getProject:e=>null==p?void 0:p.find(t=>t.ref===e),getOrganizationById:e=>null==m?void 0:m.find(t=>t.id===e),getOrganizationBySlug:e=>null==m?void 0:m.find(t=>t.slug===e),onUpdateNotificationStatus:(e,t)=>{S({ids:[e],status:t})},queueMarkRead:e=>{d.current&&!d.current.includes(e)&&d.current.push(e)}},getItemSize:e=>{var t,n;return null!==(n=null==u?void 0:null===(t=u.current)||void 0===t?void 0:t[e])&&void 0!==n?n:56},hasNextPage:j,isLoadingNextPage:_,onLoadNextPage:()=>N()}):(0,a.jsxs)("div",{className:"flex flex-col gap-y-4 items-center flex-grow justify-center",children:[(0,a.jsx)(t2.Z,{size:32,className:"text-foreground-light"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("p",{className:"text-foreground-light text-sm mx-auto text-center",children:"archived"===o?"No archived notifications".concat(c.numFiltersApplied>0?" based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):""):c.numFiltersApplied>0?"No notifications based on the ".concat(c.numFiltersApplied," filter").concat(c.numFiltersApplied>1?"s":""," applied"):"All caught up"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs w-60 mx-auto text-center",children:"archived"===o?"Notifications that you have previously archived will be shown here":"You will be notified here for any notices on your organizations and projects"})]})]})})]}),k.length>0&&"inbox"===o&&(0,a.jsx)("div",{className:"flex items-center justify-center p-1.5 border-t",children:(0,a.jsx)(T.z,{disabled:E,loading:E,type:"text",icon:(0,a.jsx)(t4.Z,{}),onClick:()=>C(),children:"Archive all"})})]})]})};let n_=e=>{let{className:t,...n}=e;return(0,a.jsx)("span",{className:(0,A.cn)("text-border-stronger pr-2",t),...n,"data-sentry-component":"LayoutHeaderDivider","data-sentry-source-file":"LayoutHeader.tsx",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision","data-sentry-element":"svg","data-sentry-source-file":"LayoutHeader.tsx",children:(0,a.jsx)("path",{d:"M16 3.549L7.12 20.600","data-sentry-element":"path","data-sentry-source-file":"LayoutHeader.tsx"})})})};var nN=e=>{let{customHeaderComponents:t,breadcrumbs:n=[],headerTitle:o,showProductMenu:u}=e,p=(0,d.Qh)(),m=(0,tu.S)(),{ref:f,slug:h}=(0,c.UO)(),g=(0,ev.Vm)(),x=(0,S.l)(),{setMobileMenuOpen:b}=(0,eM.WZ)(),y=(null==g?void 0:g.is_branch_enabled)===!0,{data:v}=(0,td.v)({orgSlug:null==x?void 0:x.slug},{enabled:(null==x?void 0:x.usage_billing_enabled)===!1}),j=(0,l.useMemo)(()=>!!v&&tc((null==v?void 0:v.usages)||[]).length>0,[v]),_=h||x&&f;return(0,a.jsxs)("header",{className:(0,A.cn)("flex h-12 items-center flex-shrink-0 border-b"),"data-sentry-component":"LayoutHeader","data-sentry-source-file":"LayoutHeader.tsx",children:[u&&(0,a.jsx)("div",{className:"flex items-center justify-center border-r flex-0 md:hidden h-full aspect-square",children:(0,a.jsxs)("button",{title:"Menu dropdown button",className:(0,A.cn)("group/view-toggle ml-4 flex justify-center flex-col border-none space-x-0 items-start gap-1 !bg-transparent rounded-md min-w-[30px] w-[30px] h-[30px]"),onClick:()=>b(!0),children:[(0,a.jsx)("div",{className:"h-px inline-block left-0 w-4 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"}),(0,a.jsx)("div",{className:"h-px inline-block left-0 w-3 transition-all ease-out bg-foreground-lighter group-hover/view-toggle:bg-foreground p-0 m-0"})]})}),(0,a.jsxs)("div",{className:(0,A.cn)("flex items-center justify-between h-full pr-3 flex-1 overflow-x-auto gap-x-8 pl-4"),children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(tH,{"data-sentry-element":"HomeIcon","data-sentry-source-file":"LayoutHeader.tsx"}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center md:pl-2",children:[_&&(p||m)&&C.Qy?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n_,{className:"hidden md:block"}),(0,a.jsx)(tl,{})]}):null,(0,a.jsx)(r.M,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:f&&(0,a.jsxs)(s.E.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,a.jsx)(n_,{}),(0,a.jsx)(e8,{}),j&&(0,a.jsx)("div",{className:"ml-2",children:(0,a.jsx)(i(),{href:"/org/".concat(null==x?void 0:x.slug,"/usage"),children:(0,a.jsx)(D.C,{variant:"destructive",className:"whitespace-nowrap",children:"Exceeding usage limits"})})}),g&&y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n_,{}),(0,a.jsx)(tt,{})]})]})}),(0,a.jsx)(r.M,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:o&&(0,a.jsxs)(s.E.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,a.jsx)(n_,{}),(0,a.jsx)("span",{className:"text-foreground",children:o})]})})]}),(0,a.jsx)(r.M,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:f&&(0,a.jsxs)(s.E.div,{className:"ml-3 items-center gap-x-3 flex",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},children:[(0,a.jsx)(eT,{}),!y&&C.Qy&&(0,a.jsx)(ta,{})]})})]}),(0,a.jsx)(tp,{defaultValue:n,"data-sentry-element":"BreadcrumbsView","data-sentry-source-file":"LayoutHeader.tsx"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[t&&t,C.Qy?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tA,{}),(0,a.jsx)(nj,{}),(0,a.jsx)(tU,{}),(0,a.jsx)(e$,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t1,{}),(0,a.jsx)(eH,{})]})]})]}),(0,a.jsx)(r.M,{initial:!1,"data-sentry-element":"AnimatePresence","data-sentry-source-file":"LayoutHeader.tsx",children:!!f&&(0,a.jsxs)(s.E.div,{className:"border-l h-full flex items-center justify-center flex-shrink-0",initial:{opacity:0,x:0,width:0},animate:{opacity:1,x:0,width:"auto"},exit:{opacity:0,x:0,width:0},transition:{duration:.15,ease:"easeOut"},children:[(0,a.jsx)("div",{className:"border-r h-full flex items-center justify-center px-2",children:(0,a.jsx)(tr,{})}),(0,a.jsx)("div",{className:"px-2",children:(0,a.jsx)(eQ,{})})]})})]})}},59928:function(e,t,n){"use strict";n.d(t,{Ml:function(){return m},d2:function(){return p},gY:function(){return f}});var a=n(31549),r=n(44194),s=n(99554),o=n(64603),i=n(51187),l=n(98645),c=n(52981),d=n(79405);let u=(0,r.createContext)({project:void 0,isLoading:!0}),p=()=>(0,r.useContext)(u),m=e=>{let{projectRef:t,children:n}=e,{data:o,isLoading:p}=(0,s.ix)({ref:t}),m=(0,r.useMemo)(()=>({project:o,isLoading:p}),[o,p]);return(0,a.jsx)(u.Provider,{value:m,"data-sentry-element":"unknown","data-sentry-component":"ProjectContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,a.jsx)(d.UU,{"data-sentry-element":"TableEditorStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,a.jsx)(i.z4,{projectRef:t,"data-sentry-element":"AiAssistantStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,a.jsx)(l.L,{"data-sentry-element":"DatabaseSelectorStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:(0,a.jsx)(c.a9,{"data-sentry-element":"RoleImpersonationStateContextProvider","data-sentry-source-file":"ProjectContext.tsx",children:n},"role-impersonation-state-".concat(t))},"database-selector-state-".concat(t))},"ai-assistant-state-".concat(t))},"table-editor-state-".concat(t))})},f=()=>{let{project:e}=p();return(null==e?void 0:e.status)===o.S.ACTIVE_HEALTHY}},76068:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var a=n(31549),r=n(79738),s=n(64603);let o=(e,t,n,o)=>{var i,l,c;let d=(null==t?void 0:t.status)===s.S.COMING_UP,u="/project/".concat(e),p=null===(i=null==o?void 0:o.auth)||void 0===i||i,m=null===(l=null==o?void 0:o.edgeFunctions)||void 0===l||l,f=null===(c=null==o?void 0:o.storage)||void 0===c||c;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},...s.Qy?[{name:"Compute and Disk",key:"compute-and-disk",url:"/project/".concat(e,"/settings/compute-and-disk"),items:[]}]:[],{name:"Infrastructure",key:"infrastructure",url:d?u:"/project/".concat(e,"/settings/infrastructure"),items:[]},...s.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]},...(null==o?void 0:o.newApiKeys)?[{name:"API Keys",key:"api-keys",url:"/project/".concat(e,"/settings/api-keys"),items:[],label:"NEW"}]:[]]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:d?u:"/project/".concat(e,"/integrations/vault/overview"),items:[],rightIcon:(0,a.jsx)(r.Z,{strokeWidth:1,className:"h-4 w-4"}),label:"Alpha"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:d?u:"/project/".concat(e,"/settings/database"),items:[]},{name:"Data API",key:"api",url:d?u:"/project/".concat(e,"/settings/api"),items:[]},...s.Qy&&p?[{name:"Authentication",key:"auth",url:d?u:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...s.Qy&&f?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...s.Qy&&m?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/functions/secrets"),items:[],rightIcon:(0,a.jsx)(r.Z,{strokeWidth:1,className:"h-4 w-4"})}]:[],...s.Qy?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==n?void 0:n.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==n?void 0:n.slug,"/usage?projectRef=").concat(e),items:[]}]}]}},99699:function(e,t,n){"use strict";var a=n(31549),r=n(57672),s=n.n(r),o=n(62848),i=n(43799),l=n(32081);t.Z=e=>{var t;let{projectRef:n,subject:r,error:c,className:d,showIcon:u=!0,children:p}=e,m=null==r?void 0:r.replace(/ /g,"%20"),f="/support/new?category=dashboard_bug";n&&(f+="&ref=".concat(n)),m&&(f+="&subject=".concat(m)),c&&(f+="&error=".concat(c.message));let h=(null==c?void 0:null===(t=c.message)||void 0===t?void 0:t.includes("503"))?"503 Service Temporarily Unavailable":null==c?void 0:c.message;return(0,a.jsxs)(o.bZ,{className:d,variant:"warning",title:r,"data-sentry-element":"Alert_Shadcn_","data-sentry-component":"AlertError","data-sentry-source-file":"AlertError.tsx",children:[u&&(0,a.jsx)(i.aN,{className:"h-4 w-4",strokeWidth:2}),(0,a.jsx)(o.Cd,{className:"text-foreground","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:r}),(0,a.jsxs)(o.X,{className:"flex flex-col gap-3 break-words","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:[(0,a.jsxs)("div",{children:[(null==c?void 0:c.message)&&(0,a.jsxs)("p",{className:"text-left",children:["Error: ",h]}),(0,a.jsx)("p",{className:"text-left",children:"Try refreshing your browser, but if the issue persists, please reach out to us via support."})]}),p,(0,a.jsx)(l.z,{asChild:!0,type:"warning",className:"w-min","data-sentry-element":"Button","data-sentry-source-file":"AlertError.tsx",children:(0,a.jsx)(s(),{href:f,"data-sentry-element":"Link","data-sentry-source-file":"AlertError.tsx",children:"Contact support"})})]})]})}},62620:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var a=n(31549),r=n(44194),s=n(35322),o=n(32081),i=n(16154);let l=(0,r.forwardRef)((e,t)=>{let{...n}=e;return(0,a.jsxs)(s.u,{children:[(0,a.jsx)(s.aJ,{asChild:!0,children:(0,a.jsx)(o.z,{ref:t,...n,className:(0,i.cn)(n.className,"pointer-events-auto"),children:n.children})}),void 0!==n.tooltip.content.text&&(0,a.jsx)(s._v,{...n.tooltip.content,children:n.tooltip.content.text})]})});l.displayName="ButtonTooltip"},77352:function(e,t,n){"use strict";var a=n(31549),r=n(71607),s=n.n(r),o=n(93262),i=n(20292),l=n(88267),c=n(73641),d=n(57672),u=n.n(d),p=n(50378),m=n(58156),f=n(44194),h=n(88042),g=n(36447),x=n(3194),b=n(55737),y=n(63351),v=n(64603),j=n(98645),_=n(38876),N=n(32081),w=n(16154),S=n(67032),C=n(10123),E=n(35322);t.Z=e=>{var t;let{selectedDatabaseId:n,variant:r="regular",additionalOptions:d=[],onSelectId:k=s(),buttonProps:A}=e,z=(0,p.useRouter)(),{ref:I}=(0,h.UO)(),[L,R]=(0,f.useState)(!1),[,T]=(0,m.v1)("showConnect",m.AE.withDefault(!1)),D=(0,j.TF)(),P=null!=n?n:D.selectedDatabaseId,{data:O,isLoading:M,isSuccess:F}=(0,b.bN)({projectRef:I}),U=null!=O?O:[],Z=U.sort((e,t)=>e.inserted_at>t.inserted_at?1:0).sort(e=>e.identifier===I?-1:0),H=U.find(e=>e.identifier===P),W=(0,y.f)(null!==(t=null==H?void 0:H.region)&&void 0!==t?t:""),B=(0,y.U)(null!=P?P:""),V=d.find(e=>e.id===P);return(0,f.useEffect)(()=>{n&&D.setSelectedDatabaseId(n)},[n]),(0,a.jsxs)(_.J2,{open:L,onOpenChange:R,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"DatabaseSelector","data-sentry-source-file":"DatabaseSelector.tsx",children:[(0,a.jsx)(_.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,a.jsxs)("div",{className:"flex cursor-pointer",children:[(0,a.jsx)("span",{className:"flex items-center text-foreground-lighter px-3 rounded-lg rounded-r-none text-xs border border-button border-r-0",children:"Source"}),(0,a.jsx)(N.z,{type:"default",icon:M&&(0,a.jsx)(o.Z,{className:"animate-spin"}),iconRight:(0,a.jsx)(i.Z,{strokeWidth:1.5,size:12}),...A,className:(0,w.cn)("pr-2 rounded-l-none","connected-on-right"===r&&"rounded-r-none","connected-on-left"===r&&"rounded-l-none border-l-0","connected-on-both"===r&&"rounded-none border-x-0",null==A?void 0:A.className),"data-sentry-element":"Button","data-sentry-source-file":"DatabaseSelector.tsx",children:V?(0,a.jsx)("span",{children:V.name}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"capitalize",children:M||(null==H?void 0:H.identifier)===I?"Primary database":"Read replica"})," ",F&&(null==H?void 0:H.identifier)!==I&&(0,a.jsxs)("span",{children:["(",W," - ",B,")"]})]})})]})}),(0,a.jsx)(_.yk,{className:"p-0 w-64",side:"bottom",align:"end","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,a.jsx)(S.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,a.jsxs)(S.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:[d.length>0&&(0,a.jsx)(S.fu,{className:"border-b",children:d.map(e=>(0,a.jsx)(S.di,{value:e.id,className:"cursor-pointer w-full",onSelect:()=>{D.setSelectedDatabaseId(e.id),R(!1),k(e.id)},onClick:()=>{D.setSelectedDatabaseId(e.id),R(!1),k(e.id)},children:(0,a.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,a.jsx)("p",{children:e.name}),e.id===P&&(0,a.jsx)(l.Z,{size:14})]})},e.id))}),(0,a.jsx)(S.fu,{"data-sentry-element":"CommandGroup_Shadcn_","data-sentry-source-file":"DatabaseSelector.tsx",children:(0,a.jsx)(C.xr,{className:(U||[]).length>7?"h-[210px]":"","data-sentry-element":"ScrollArea","data-sentry-source-file":"DatabaseSelector.tsx",children:null==Z?void 0:Z.map(e=>{let t=(0,y.f)(e.region),n=(0,y.U)(e.identifier);if("ACTIVE_HEALTHY"!==e.status){let r=[x.hk.INIT_READ_REPLICA,x.hk.COMING_UP].includes(e.status)?"coming up":"not healthy";return(0,a.jsxs)(E.u,{children:[(0,a.jsx)(E.aJ,{asChild:!0,children:(0,a.jsx)("div",{className:"px-2 py-1.5 w-full flex items-center justify-between",children:(0,a.jsxs)("p",{className:"text-xs text-foreground-lighter",children:["Read replica (",t," - ",n,")"]})})}),(0,a.jsx)(E._v,{side:"right",className:"w-80",children:(0,a.jsx)(g.U,{className:"text-xs text-foreground",content:"Replica unable to accept requests as its ".concat(r,". [View infrastructure settings](/project/").concat(I,"/settings/infrastructure) for more information.")})})]},e.identifier)}return(0,a.jsx)(S.di,{value:e.identifier,className:"cursor-pointer w-full",onSelect:()=>{D.setSelectedDatabaseId(e.identifier),R(!1),k(e.identifier)},onClick:()=>{D.setSelectedDatabaseId(e.identifier),R(!1),k(e.identifier)},children:(0,a.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,a.jsx)("p",{children:e.identifier===I?"Primary database":"Read replica (".concat(t," - ").concat(n,")")}),e.identifier===P&&(0,a.jsx)(l.Z,{size:16})]})},e.identifier)})})}),v.Qy&&(0,a.jsx)(S.fu,{className:"border-t",children:(0,a.jsx)(S.di,{className:"cursor-pointer w-full",onSelect:()=>{R(!1),z.push("/project/".concat(I,"/settings/infrastructure"))},onClick:()=>R(!1),children:(0,a.jsxs)(u(),{href:"/project/".concat(I,"/settings/infrastructure"),onClick:()=>{R(!1),T(null)},className:"w-full flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:14,strokeWidth:1.5}),(0,a.jsx)("p",{children:"Create a new read replica"})]})})})]})})})]})}},51559:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var a=n(31549),r=n(20560),s=n(32081);let o=e=>{let{href:t,abbrev:n=!0,className:o}=e;return(0,a.jsx)(s.z,{asChild:!0,type:"default",className:o,icon:(0,a.jsx)(r.Z,{}),onClick:e=>e.stopPropagation(),"data-sentry-element":"Button","data-sentry-component":"DocsButton","data-sentry-source-file":"DocsButton.tsx",children:(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:n?"Docs":"Documentation"})})}},27815:function(e,t,n){"use strict";var a=n(31549),r=n(19732),s=n(36117),o=n(44194),i=n(1365),l=n(32348),c=n(28972),d=n(64377);let u=(0,s.Z)((e,t)=>({items:e,...t})),p=(0,o.memo)(e=>{let{data:t,index:n,style:r}=e,{items:s,itemProps:o,ItemComponent:i,listRef:l,LoaderComponent:c}=t,u=n<s.length?s[n]:void 0;return u?(0,a.jsx)("div",{style:r,children:(0,a.jsx)(i,{index:n,item:u,listRef:l,...o})}):void 0!==c?(0,a.jsx)("div",{style:r,children:c}):(0,a.jsx)("div",{className:"space-y-1 my-1",style:r,children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,a.jsx)(d.O,{className:"h-4 w-5"}),(0,a.jsx)(d.O,{className:"w-40 h-4"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2",children:[(0,a.jsx)(d.O,{className:"h-4 w-5"}),(0,a.jsx)(d.O,{className:"w-32 h-4"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-75",children:[(0,a.jsx)(d.O,{className:"h-4 w-5"}),(0,a.jsx)(d.O,{className:"w-20 h-4"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-50",children:[(0,a.jsx)(d.O,{className:"h-4 w-5"}),(0,a.jsx)(d.O,{className:"w-40 h-4"})]}),(0,a.jsxs)("div",{className:"flex flex-row h-6 px-4 items-center gap-2 opacity-25",children:[(0,a.jsx)(d.O,{className:"h-4 w-5"}),(0,a.jsx)(d.O,{className:"w-20 h-4"})]})]})})},l.wy);p.displayName="Item",t.Z=(0,o.memo)(function(e){let{items:t=[],itemProps:n,hasNextPage:r=!1,isLoadingNextPage:s=!1,getItemSize:d=()=>40,onLoadNextPage:m=()=>{},ItemComponent:f=()=>null,LoaderComponent:h}=e,g=(0,o.useRef)(),x=s?()=>{}:m,b=e=>!r||e<t.length,y=r?t.length+1:t.length,v=u(t,{itemProps:n,ItemComponent:f,LoaderComponent:h,listRef:g});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(i.ZP,{"data-sentry-element":"AutoSizer","data-sentry-source-file":"InfiniteList.tsx",children:e=>{let{height:t,width:n}=e;return(0,a.jsx)(c.Z,{itemCount:y,isItemLoaded:b,loadMoreItems:x,children:e=>{let{onItemsRendered:r,ref:s}=e;return(0,a.jsx)(l.S_,{ref:e=>{s(e),g.current=e},height:null!=t?t:0,width:null!=n?n:0,itemCount:y,itemData:v,itemSize:d,onItemsRendered:r,children:p})}})}})}),(0,a.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})},r.t0)},94738:function(e,t,n){"use strict";var a=n(31549),r=n(81210),s=n(44194),o=n(16154),i=n(14322),l=n(82461),c=n(32081);function d(e){let t=(0,a.jsxs)("div",{className:(0,o.cn)("bg-surface-100","rounded-md border shadow-sm",e.noHideOverflow?"":"overflow-hidden",e.noMargin?"":"mb-4 md:mb-8",e.className),children:[e.title&&(0,a.jsx)("div",{className:(0,o.cn)("bg-surface-100 border-b border-default flex items-center px-4 md:px-6 py-4",e.titleClasses),children:e.title}),e.children,e.footer&&(0,a.jsx)(u,{children:e.footer})]});return!1===e.wrapWithLoading?t:(0,a.jsx)(i.Z,{active:!!e.loading,"data-sentry-element":"Loading","data-sentry-component":"Panel","data-sentry-source-file":"Panel.tsx",children:t})}function u(e){let{children:t}=e;return(0,a.jsx)("div",{className:"bg-surface-100 border-t border-default","data-sentry-component":"Footer","data-sentry-source-file":"Panel.tsx",children:(0,a.jsx)("div",{className:"flex h-12 items-center px-4 md:px-6",children:t})})}let p=(0,s.forwardRef)((e,t)=>{let{className:n,title:s,description:i,href:d,buttonText:u,layout:p="horizontal",badgeLabel:m,...f}=e;return(0,a.jsxs)("div",{ref:t,...f,className:(0,o.cn)("relative px-4 md:px-6 py-5 bg-studio flex flex-col lg:flex-row lg:justify-between gap-6 overflow-hidden lg:items-center","vertical"===p&&"!flex-col !items-start gap-y-2",n),children:[(0,a.jsx)("div",{className:"absolute inset-0 -mt-[5px]",style:{backgroundImage:"\n                linear-gradient(to right, hsl(var(--background-200)/1) 0%, hsl(var(--background-200)/1) 30%, hsl(var(--background-200)/0) 100%),\n                linear-gradient(to right, hsl(var(--border-default)/0.33) 1px, transparent 1px),\n                linear-gradient(to bottom, hsl(var(--border-default)/0.33) 1px, transparent 1px)\n              ",backgroundSize:"100% 100%, 15px 15px, 15px 15px",backgroundPosition:"0 0, 0 0, 0 0"}}),(0,a.jsxs)("div",{className:"relative flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center -space-x-px",children:[(0,a.jsxs)(l.C,{variant:"default",className:"rounded-r-none pr-2 flex-shrink-0 gap-1.5 border-dashed bg-opacity-0 bg-surface-400 text-foreground-lighter",children:[(0,a.jsx)(r.Z,{size:16,strokeWidth:1.2}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:null!=m?m:"Upcoming change"})]}),(0,a.jsx)(l.C,{variant:"default",className:"rounded-l-none flex-shrink-0 gap-1.5 bg-opacity-0 bg-surface-400 text-foreground-lighter border-l-0",children:(0,a.jsx)("span",{className:"text-foreground text-xs",children:s})})]}),i&&(0,a.jsx)("div",{className:"text-foreground-light text-sm flex flex-col gap-0",children:(0,a.jsx)("div",{className:"prose text-xs max-w-none [&_p]:mt-2 [&_p]:mb-0",children:i})})]}),d&&(0,a.jsx)(c.z,{size:"tiny",type:"default",className:"text-xs",asChild:!0,children:(0,a.jsx)("a",{href:d,target:"_blank",rel:"noreferrer noopener",children:null!=u?u:"Read the accouncement"})})]})});p.displayName="PanelNotice",d.Content=function(e){let{children:t,className:n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("px-4 md:px-6 py-4",n),"data-sentry-component":"Content","data-sentry-source-file":"Panel.tsx",children:t})},d.Footer=u,d.Notice=p,t.Z=d},77670:function(e,t,n){"use strict";var a=n(31549),r=n(16154),s=n(35322);t.Z=function(e){let{organization:t,showTooltip:n=!0,tooltipText:o="This organization is managed by Vercel Marketplace.",size:i="small"}=e;if("vercel-marketplace"===t.managed_by){let e=(0,a.jsx)("svg",{className:(0,r.cn)("small"===i&&"w-2.5 h-2.5","medium"===i&&"w-3.5 h-3.5","large"===i&&"w-5 h-5"),viewBox:"0 0 76 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M37.5274 0L75.0548 65H0L37.5274 0Z",fill:"hsl(var(--foreground-default) / 1)"})});return n?(0,a.jsxs)(s.u,{children:[(0,a.jsx)(s.aJ,{asChild:!0,children:(0,a.jsx)("div",{className:(0,r.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center hover:bg-surface-400 dark:hover:bg-surface-400 hover:border-stronger flex-shrink-0","small"===i&&"h-5 w-5","medium"===i&&"w-7 h-7","large"===i&&"w-10 h-10"),children:e})}),(0,a.jsx)(s._v,{children:o})]}):(0,a.jsx)("div",{className:(0,r.cn)("bg-surface-100 dark:bg-surface-200 border rounded flex items-center justify-center flex-shrink-0","small"===i&&"h-5 w-5","medium"===i&&"w-7 h-7","large"===i&&"w-10 h-10"),children:e})}return null}},61298:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var a=n(31549),r=n(17365),s=n.n(r),o=n(44194),i=n(25002),l=n(16154);let c=e=>{let{alt:t,src:n,placeholder:r,className:c}=e,[d,u]=(0,o.useState)(!1);return n&&!d?(0,a.jsx)(s(),{alt:null!=t?t:"",src:n,width:"24",height:"24",className:(0,l.cn)("aspect-square bg-foreground rounded-full object-cover",c),onError:()=>u(!0),"data-sentry-element":"Image","data-sentry-component":"ProfileImage","data-sentry-source-file":"ProfileImage.tsx"}):null!=r?r:(0,a.jsx)("figure",{className:(0,l.cn)("bg-foreground rounded-full flex items-center justify-center",c),children:(0,a.jsx)(i.n5,{size:18,strokeWidth:1.5,className:"text-background"})})}},97339:function(e,t,n){"use strict";n.d(t,{A:function(){return c},Z:function(){return d}});var a=n(31549),r=n(88042),s=n(44194);let o=null;var i=n(16154);let l=e=>{let{className:t,delayIndex:n=0,animationDelay:l=150}=e,c=function(e){let t=(0,s.useRef)(null);return(0,r.LI)(()=>{let e=document.getAnimations().filter(e=>e instanceof CSSAnimation&&"shimmer"===e.animationName),n=e.find(e=>e.effect instanceof KeyframeEffect&&e.effect.target===t.current);if(void 0===n)return;let a=e[0];return n===a&&o&&(n.currentTime=o),n!==a&&(n.currentTime=a.currentTime),()=>{n===a&&n.currentTime&&(o=Number(n.currentTime))}},[]),t}(0);return(0,a.jsx)("div",{ref:c,className:(0,i.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(n*l,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})},c=()=>(0,a.jsxs)("div",{className:"space-y-2","data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"ShimmeringLoader.tsx",children:[(0,a.jsx)(l,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,a.jsx)(l,{className:"w-3/4",delayIndex:1,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,a.jsx)(l,{className:"w-1/2",delayIndex:2,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})]});var d=l},28979:function(e,t,n){"use strict";var a=n(31549),r=n(57672),s=n.n(r),o=n(44194);let i=(0,o.forwardRef)(function(e,t){let{prefetcher:n,children:r,...i}=e,l=(0,o.useRef)(null),c=(0,o.useRef)(null);function d(){let e=Date.now();l.current&&e-l.current>=75&&n()}return(0,a.jsx)(s(),{ref:t,...i,onMouseEnter:function(){l.current=Date.now(),c.current=window.setTimeout(d,75)},onMouseLeave:function(){l.current=null,c.current&&(clearTimeout(c.current),c.current=null)},children:r})});t.Z=i},34932:function(e,t,n){"use strict";n.d(t,{Y:function(){return m}});var a=n(31549),r=n(87025),s=n(50378),o=n(44194),i=n(59928),l=n(90975),c=n(44442),d=n(72022),u=n(86342),p=n(28979);function m(e){let{href:t,projectRef:n,children:m,...f}=e,h=function(){let e=(0,s.useRouter)(),t=(0,r.NL)(),{project:n}=(0,i.d2)(),[a]=(0,u._)("table-editor-sort","alphabetical");return(0,o.useCallback)(()=>{n&&(e.prefetch("/project/".concat(n.ref,"/editor")),(0,l.jc)(t,{projectRef:n.ref,connectionString:n.connectionString}).catch(()=>{}),(0,d.rE)(t,{projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString,sort:a,filterTypes:Object.values(c.l)}).catch(()=>{}))},[a,n,t,e])}();return(0,a.jsx)(p.Z,{href:t||"/project/".concat(n,"/editor"),prefetcher:h,...f,"data-sentry-element":"PrefetchableLink","data-sentry-component":"EditorIndexPageLink","data-sentry-source-file":"project.$ref.editor.tsx",children:m})}},53137:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var a=n(31549),r=n(87025),s=n(50378),o=n(44194),i=n(99554),l=n(28979);function c(e){let{href:t,projectRef:n,children:c,...d}=e,u=function(){let e=(0,s.useRouter)(),t=(0,r.NL)();return(0,o.useCallback)(n=>{let{projectRef:a}=n;e.prefetch("/project/".concat(a)),(0,i.ft)(t,{ref:a}).catch(()=>{})},[t,e])}();return(0,a.jsx)(l.Z,{href:t||"/project/".concat(n),prefetcher:()=>u({projectRef:n}),...d,"data-sentry-element":"PrefetchableLink","data-sentry-component":"ProjectIndexPageLink","data-sentry-source-file":"project.$ref.tsx",children:c})}},51187:function(e,t,n){"use strict";n.d(t,{oJ:function(){return j},z4:function(){return v}});var a=n(31549),r=n(13777),s=n(44194),o=n(71307),i=n(48002),l=n(77837),c=n.n(l),d=n(64603);let u={open:!1,initialInput:"",sqlSnippets:void 0,suggestions:void 0,tables:[],chats:{},activeChatId:void 0},p="assistantState";async function m(){return(0,r.X3)("ai-assistant-db",1,{upgrade(e){e.objectStoreNames.contains(p)||e.createObjectStore(p,{keyPath:"projectRef"})}})}async function f(e){if(e)try{let t=await m();return await t.get(p,e)}catch(e){console.error("Failed to get AI state from IndexedDB:",e);return}}async function h(e){if(e.projectRef)try{let t=await m();await t.put(p,e)}catch(e){console.error("Failed to save AI state to IndexedDB:",e)}}async function g(e){try{let t=await f(e);if(t)return Object.values(t.chats).forEach(e=>{e&&"object"==typeof e&&(e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt))}),t}catch(e){console.error("Error loading AI state from IndexedDB:",e)}return null}async function x(e){let t=localStorage.getItem(d.dA.AI_ASSISTANT_STATE(e));if(!t)return null;let n=null;try{let r=JSON.parse(t,(e,t)=>("createdAt"===e||"updatedAt"===e)&&t?new Date(t):t);if(r&&"object"==typeof r.chats){var a;n={projectRef:e,open:null!==(a=r.open)&&void 0!==a&&a,activeChatId:r.activeChatId,chats:r.chats}}else console.warn("Data in localStorage is not in the expected format, ignoring."),localStorage.removeItem(d.dA.AI_ASSISTANT_STATE(e))}catch(t){console.error("Failed to parse state from localStorage:",t),localStorage.removeItem(d.dA.AI_ASSISTANT_STATE(e))}if(n)try{return await h(n),localStorage.removeItem(d.dA.AI_ASSISTANT_STATE(e)),n}catch(e){console.error("Failed to save migrated state to IndexedDB:",e)}return null}let b=()=>{let e={...u};{let t=new URLSearchParams(window.location.search).get("aiAssistantPanelOpen");null!==t&&(e.open="true"===t)}let t=(0,o.sj)({...e,resetAiAssistantPanel:()=>{Object.assign(t,u)},openAssistant:()=>{t.open=!0},closeAssistant:()=>{t.open=!1},toggleAssistant:()=>{t.open=!t.open},get activeChat(){return t.activeChatId?t.chats[t.activeChatId]:void 0},newChat:e=>{var n,a,r,s,o,i;let l=crypto.randomUUID(),c={id:l,name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"Untitled",messages:[],createdAt:new Date,updatedAt:new Date};return t.chats={...t.chats,[l]:c},t.activeChatId=l,t.open=null!==(a=null==e?void 0:e.open)&&void 0!==a?a:t.open,t.initialInput=null!==(r=null==e?void 0:e.initialInput)&&void 0!==r?r:u.initialInput,t.sqlSnippets=null!==(s=null==e?void 0:e.sqlSnippets)&&void 0!==s?s:u.sqlSnippets,t.suggestions=null!==(o=null==e?void 0:e.suggestions)&&void 0!==o?o:u.suggestions,t.tables=null!==(i=null==e?void 0:e.tables)&&void 0!==i?i:u.tables,l},selectChat:e=>{e!==t.activeChatId&&(t.activeChatId=e)},deleteChat:e=>{let{[e]:n,...a}=t.chats;if(t.chats=a,e===t.activeChatId){let e=Object.keys(a);t.activeChatId=e.length>0?e[0]:void 0}},renameChat:(e,n)=>{let a=t.chats[e];a&&a.name!==n&&(a.name=n,a.updatedAt=new Date)},clearMessages:()=>{let e=t.activeChat;e&&(e.messages=[],e.updatedAt=new Date,t.sqlSnippets=[],t.initialInput="")},saveMessage:e=>{let n=t.activeChat;if(!n)return;let a=n.messages,r=Array.isArray(e)?e.filter(e=>!a.some(t=>t.id===e.id)):a.some(t=>t.id===e.id)?[]:[e];r.length>0&&(n.messages.push(...r),n.updatedAt=new Date)},updateMessage:e=>{let{id:n,resultId:a,results:r}=e,s=t.activeChat;if(!s||!a)return;let o=s.messages.findIndex(e=>e.id===n);if(-1!==o){let e=s.messages[o];e.results||(e.results={}),e.results[a]=r}},setSqlSnippets:e=>{t.sqlSnippets=e},clearSqlSnippets:()=>{t.sqlSnippets=void 0,t.suggestions=void 0},getCachedSQLResults:e=>{var n;let{messageId:a,snippetId:r}=e,s=t.activeChat;if(!s||!r)return;let o=s.messages.find(e=>e.id===a);return(null!==(n=null==o?void 0:o.results)&&void 0!==n?n:{})[r]},loadPersistedState:e=>{t.open=e.open,t.chats=e.chats,t.activeChatId=e.activeChatId;{let e=new URLSearchParams(window.location.search).get("aiAssistantPanelOpen");null!==e&&(t.open="true"===e)}if(!t.activeChat){let e=Object.keys(t.chats);e.length>0?t.activeChatId=e.sort((e,n)=>{var a,r;return((null===(a=t.chats[n].updatedAt)||void 0===a?void 0:a.getTime())||0)-((null===(r=t.chats[e].updatedAt)||void 0===r?void 0:r.getTime())||0)})[0]:t.newChat()}}});return t},y=(0,s.createContext)(b()),v=e=>{let{projectRef:t,children:n}=e,[r]=(0,s.useState)(()=>b());return(0,s.useEffect)(()=>{let e=!0;return async function(){if(!t){void 0===t&&r.resetAiAssistantPanel();return}let n=null;(n=await g(t))||(n=await x(t)),e&&(n&&r.loadPersistedState(n),function(e){{let t=new URLSearchParams(window.location.search).get("aiAssistantPanelOpen");null!==t&&(e.open="true"===t)}if(!e.activeChatId||!e.chats[e.activeChatId]){let t=Object.keys(e.chats);t.length>0?e.activeChatId=t.sort((t,n)=>{var a,r;return((null===(a=e.chats[n].updatedAt)||void 0===a?void 0:a.getTime())||0)-((null===(r=e.chats[t].updatedAt)||void 0===r?void 0:r.getTime())||0)})[0]:e.newChat()}}(r))}(),()=>{e=!1}},[t,r]),(0,s.useEffect)(()=>{if(t){let e=c()(h,500),n=(0,o.Ld)(r,()=>{let n=(0,o.CO)(r);e({projectRef:t,open:n.open,activeChatId:n.activeChatId,chats:n.chats?Object.entries(n.chats).reduce((e,t)=>{var n;let[a,r]=t;return{...e,[a]:{...r,messages:(null===(n=r.messages)||void 0===n?void 0:n.slice(-20))||[]}}},{}):{}})});return()=>{e.cancel(),n()}}},[r,t]),(0,a.jsx)(y.Provider,{value:r,"data-sentry-element":"unknown","data-sentry-component":"AiAssistantStateContextProvider","data-sentry-source-file":"ai-assistant-state.tsx",children:n})},j=e=>{let t=(0,s.useContext)(y);return(0,i.R)(t,e)}},98645:function(e,t,n){"use strict";n.d(t,{L:function(){return d},TF:function(){return u}});var a=n(31549),r=n(44194),s=n(71307),o=n(48002),i=n(88042);function l(){let e=(0,s.sj)({selectedDatabaseId:void 0,setSelectedDatabaseId:t=>{e.selectedDatabaseId=t}});return e}let c=(0,r.createContext)(l()),d=e=>{let{children:t}=e,n=(0,i.hS)(l);return(0,a.jsx)(c.Provider,{value:n,"data-sentry-element":"unknown","data-sentry-component":"DatabaseSelectorStateContextProvider","data-sentry-source-file":"database-selector.tsx",children:t})};function u(e){let t=(0,r.useContext)(c);return(0,o.R)(t,e)}},52981:function(e,t,n){"use strict";n.d(t,{Gm:function(){return b},MG:function(){return g},a9:function(){return f},fN:function(){return h},gv:function(){return x}});var a=n(31549),r=n(44194),s=n(71307),o=n(48002),i=n(88042),l=n(59928),c=n(73571),d=n(28162),u=n(53957);function p(e,t){let n=(0,s.sj)({projectRef:e,role:void 0,claims:void 0,setRole:async(a,r)=>{let s=(null==a?void 0:a.type)==="postgrest"?(0,u.gl)(e,a):void 0;if((null==r?void 0:r.type)==="postgres"&&void 0!==s){let{schema:e,functionName:n}=r,a=await t.current({schema:e,functionName:n,claims:s});a&&(s=a)}n.role=a,s&&(n.claims=s)}});return n}let m=(0,r.createContext)(p("",{current:async()=>{}})),f=e=>{let{children:t}=e,{project:n}=(0,l.d2)();async function r(e){var t,a,r;let{schema:s,functionName:o,claims:i}=e,l={user_id:i.sub,claims:i,authentication_method:"password"},d=await (0,c.R)({projectRef:null==n?void 0:n.ref,connectionString:null==n?void 0:n.connectionString,sql:"select ".concat(s,".").concat(o,"('").concat(JSON.stringify(l),"'::jsonb) as event;"),queryKey:["customize-access-token",null==n?void 0:n.ref]});return null==d?void 0:null===(r=d.result)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:null===(t=a.event)||void 0===t?void 0:t.claims}let s=(0,d.Z)(r),o=(0,i.hS)(()=>{var e;return p(null!==(e=null==n?void 0:n.ref)&&void 0!==e?e:"",s)});return(0,a.jsx)(m.Provider,{value:o,"data-sentry-element":"unknown","data-sentry-component":"RoleImpersonationStateContextProvider","data-sentry-source-file":"role-impersonation-state.tsx",children:t})};function h(e){let t=(0,r.useContext)(m);return(0,o.R)(t,e)}function g(){let e=(0,r.useContext)(m);return(0,r.useCallback)(()=>(0,s.CO)(e),[e])}function x(e){let t=(0,r.useContext)(m),n=(0,d.Z)(e);(0,r.useEffect)(()=>(0,s.Ld)(t,()=>{n.current((0,s.CO)(t).role)}),[t])}function b(e){return(null==e?void 0:e.type)==="postgrest"}},79405:function(e,t,n){"use strict";n.d(t,{Re:function(){return i},UU:function(){return d},_2:function(){return u}});var a=n(31549),r=n(44194),s=n(71307),o=n(48002);let i=100,l=()=>{let e=(0,s.sj)({rowsPerPage:i,setRowsPerPage:t=>{e.rowsPerPage=t},ui:{open:"none"},get sidePanel(){return"side-panel"===e.ui.open?e.ui.sidePanel:void 0},get confirmationDialog(){return"confirmation-dialog"===e.ui.open?e.ui.confirmationDialog:void 0},closeSidePanel:()=>{e.ui={open:"none"}},closeConfirmationDialog:()=>{e.ui={open:"none"}},onAddSchema:()=>{e.ui={open:"side-panel",sidePanel:{type:"schema",mode:"new"}}},onAddTable:()=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"new"}}},onEditTable:()=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"edit"}}},onDuplicateTable:()=>{e.ui={open:"side-panel",sidePanel:{type:"table",mode:"duplicate"}}},onDeleteTable:()=>{e.ui={open:"confirmation-dialog",confirmationDialog:{type:"table",isDeleteWithCascade:!1}}},onAddColumn:()=>{e.ui={open:"side-panel",sidePanel:{type:"column"}}},onEditColumn:t=>{e.ui={open:"side-panel",sidePanel:{type:"column",column:t}}},onDeleteColumn:t=>{e.ui={open:"confirmation-dialog",confirmationDialog:{type:"column",column:t,isDeleteWithCascade:!1}}},onAddRow:()=>{e.ui={open:"side-panel",sidePanel:{type:"row"}}},onEditRow:t=>{e.ui={open:"side-panel",sidePanel:{type:"row",row:t}}},onDeleteRows:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{numRows:0,allRowsSelected:!1,callback:()=>{}},{numRows:a,allRowsSelected:r,callback:s}=n;e.ui={open:"confirmation-dialog",confirmationDialog:{type:"row",rows:t,numRows:a,allRowsSelected:r,callback:s}}},onExpandJSONEditor:t=>{e.ui={open:"side-panel",sidePanel:{type:"json",jsonValue:t}}},onExpandTextEditor:(t,n)=>{e.ui={open:"side-panel",sidePanel:{type:"cell",value:{column:t,row:n}}}},onEditForeignKeyColumnValue:t=>{e.ui={open:"side-panel",sidePanel:{type:"foreign-row-selector",foreignKey:t}}},onImportData:()=>{e.ui={open:"side-panel",sidePanel:{type:"csv-import"}}},toggleConfirmationIsWithCascade:t=>{"confirmation-dialog"===e.ui.open&&("column"===e.ui.confirmationDialog.type||"table"===e.ui.confirmationDialog.type)&&(e.ui.confirmationDialog.isDeleteWithCascade=null!=t?t:!e.ui.confirmationDialog.isDeleteWithCascade)}});return e},c=(0,r.createContext)(l()),d=e=>{let{children:t}=e,n=(0,r.useRef)(l()).current;return(0,a.jsx)(c.Provider,{value:n,"data-sentry-element":"unknown","data-sentry-component":"TableEditorStateContextProvider","data-sentry-source-file":"table-editor.tsx",children:t})},u=e=>{let t=(0,r.useContext)(c);return(0,o.R)(t,e)}},73503:function(e,t,n){"use strict";var a=n(31549),r=n(50378),s=n(44194),o=n(35393),i=n(85349),l=n(80222),c=n(67032),d=n(16154);t.Z=e=>{let{children:t,open:n=!1,onOpenChange:u}=e,p=(0,r.useRouter)(),{width:m}=(0,i.Z)();return(0,s.useEffect)(()=>{u(!1)},[null==p?void 0:p.asPath]),(0,s.useEffect)(()=>{u(!1)},[m]),(0,a.jsx)(l.yo,{open:n,onOpenChange:u,"data-sentry-element":"Sheet","data-sentry-component":"MobileSheetNav","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,a.jsx)(l.ue,{id:"mobile-sheet-content",showClose:!1,size:"full",side:"bottom",className:(0,d.cn)("rounded-t-lg overflow-hidden overflow-y-scroll","h-[85dvh] md:max-h-[500px] py-2"),"data-sentry-element":"SheetContent","data-sentry-source-file":"MobileSheetNav.tsx",children:(0,a.jsx)(o.SV,{FallbackComponent:()=>(0,a.jsx)(c.rb,{}),"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"MobileSheetNav.tsx",children:t})})})}},83617:function(e,t,n){"use strict";n.d(t,{J:function(){return m}});var a=n(31549),r=n(31706),s=n(44194),o=n(62848),i=n(16154);let l={note:"default",tip:"default",caution:"warning",danger:"destructive",deprecation:"warning",default:"default",warning:"warning",destructive:"destructive"},c=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 20",className:"w-6 h-6",fill:"currentColor","data-sentry-element":"svg","data-sentry-component":"InfoIcon","data-sentry-source-file":"admonition.tsx",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.625 9.8252C0.625 4.44043 4.99023 0.0751953 10.375 0.0751953C15.7598 0.0751953 20.125 4.44043 20.125 9.8252C20.125 15.21 15.7598 19.5752 10.375 19.5752C4.99023 19.5752 0.625 15.21 0.625 9.8252ZM9.3584 4.38135C9.45117 4.28857 9.55518 4.20996 9.66699 4.14648C9.88086 4.02539 10.1245 3.96045 10.375 3.96045C10.5845 3.96045 10.7896 4.00586 10.9766 4.09229C11.1294 4.1626 11.2705 4.26025 11.3916 4.38135C11.6611 4.65088 11.8125 5.0166 11.8125 5.39795C11.8125 5.5249 11.7959 5.6499 11.7637 5.77002C11.6987 6.01172 11.5718 6.23438 11.3916 6.41455C11.1221 6.68408 10.7563 6.83545 10.375 6.83545C9.99365 6.83545 9.62793 6.68408 9.3584 6.41455C9.08887 6.14502 8.9375 5.7793 8.9375 5.39795C8.9375 5.29492 8.94873 5.19287 8.97021 5.09375C9.02783 4.82568 9.16162 4.57812 9.3584 4.38135ZM10.375 15.6899C10.0933 15.6899 9.82275 15.5781 9.62354 15.3789C9.42432 15.1797 9.3125 14.9092 9.3125 14.6274V9.31494C9.3125 9.0332 9.42432 8.7627 9.62354 8.56348C9.82275 8.36426 10.0933 8.25244 10.375 8.25244C10.6567 8.25244 10.9272 8.36426 11.1265 8.56348C11.3257 8.7627 11.4375 9.0332 11.4375 9.31494V14.6274C11.4375 14.7944 11.3979 14.9575 11.3242 15.104C11.2739 15.2046 11.2075 15.2979 11.1265 15.3789C10.9272 15.5781 10.6567 15.6899 10.375 15.6899Z","data-sentry-element":"path","data-sentry-source-file":"admonition.tsx"})}),d=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 20",className:"w-6 h-6",fill:"currentColor","data-sentry-element":"svg","data-sentry-component":"WarningIcon","data-sentry-source-file":"admonition.tsx",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.15137 1.95117C9.30615 -0.0488281 12.1943 -0.0488281 13.3481 1.95117L20.7031 14.6992C21.8574 16.6992 20.4131 19.1992 18.104 19.1992H3.39502C1.08594 19.1992 -0.356933 16.6992 0.797364 14.6992L8.15137 1.95117ZM11.7666 16.0083C11.4971 16.2778 11.1313 16.4292 10.75 16.4292C10.3687 16.4292 10.0029 16.2778 9.7334 16.0083C9.46387 15.7388 9.3125 15.373 9.3125 14.9917C9.3125 14.9307 9.31641 14.8706 9.32373 14.811C9.33545 14.7197 9.35547 14.6304 9.38379 14.5439L9.41406 14.4609C9.48584 14.2803 9.59375 14.1147 9.7334 13.9751C10.0029 13.7056 10.3687 13.5542 10.75 13.5542C11.1313 13.5542 11.4971 13.7056 11.7666 13.9751C12.0361 14.2446 12.1875 14.6104 12.1875 14.9917C12.1875 15.373 12.0361 15.7388 11.7666 16.0083ZM10.75 4.69971C11.0317 4.69971 11.3022 4.81152 11.5015 5.01074C11.7007 5.20996 11.8125 5.48047 11.8125 5.76221V11.0747C11.8125 11.3564 11.7007 11.627 11.5015 11.8262C11.3022 12.0254 11.0317 12.1372 10.75 12.1372C10.4683 12.1372 10.1978 12.0254 9.99854 11.8262C9.79932 11.627 9.6875 11.3564 9.6875 11.0747V5.76221C9.6875 5.48047 9.79932 5.20996 9.99854 5.01074C10.1978 4.81152 10.4683 4.69971 10.75 4.69971Z","data-sentry-element":"path","data-sentry-source-file":"admonition.tsx"})}),u=(0,r.j)("",{variants:{type:{default:"[&>svg]:bg-foreground-muted",warning:"",destructive:""}}}),p=(0,r.j)("",{variants:{type:{default:"bg-surface-200/25 border border-default",warning:"bg-alternative border border-default",destructive:"bg-alternative border border-default"}}}),m=(0,s.forwardRef)((e,t)=>{var n,r,s,m,f,h,g,x;let{type:b="note",variant:y,showIcon:v=!0,label:j,title:_,description:N,children:w,...S}=e,C=y?l[y]:l[b];return(0,a.jsxs)(o.bZ,{ref:t,variant:C,...S,className:(0,i.cn)("mb-2","[&_a]:underline",u({type:C}),p({type:C}),S.className),children:[v&&"warning"===C||"destructive"===C?(0,a.jsx)(d,{}):v?(0,a.jsx)(c,{}):null,j||_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Cd,{...null===(n=S.childProps)||void 0===n?void 0:n.title,className:(0,i.cn)("text mt-0.5 flex gap-3 text-sm [&_p]:mb-1.5 [&_p]:mt-0",!j&&"flex-col",null===(s=S.childProps)||void 0===s?void 0:null===(r=s.title)||void 0===r?void 0:r.className),children:j||_}),N&&(0,a.jsx)(o.X,{className:null===(f=S.childProps)||void 0===f?void 0:null===(m=f.description)||void 0===m?void 0:m.className,children:N}),w&&(0,a.jsx)(o.X,{...null===(h=S.childProps)||void 0===h?void 0:h.description,className:(0,i.cn)("[&_p]:mb-1.5 [&_p]:mt-0",null===(x=S.childProps)||void 0===x?void 0:null===(g=x.description)||void 0===g?void 0:g.className),children:w})]}):(0,a.jsx)("div",{className:"text mt [&_p]:mb-1.5 [&_p]:mt-0 mt-0.5 [&_p:last-child]:mb-0",children:w})]})})},14322:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(31549);n(44194);var r=n(51038),s=n(35396);function o(e){let{children:t,active:n}=e,o=(0,s.Z)("loading"),i=[o.base],l=[o.content.base];n&&l.push(o.content.active);let c=[o.spinner];return(0,a.jsxs)("div",{className:i.join(" "),"data-sentry-component":"Loading","data-sentry-source-file":"Loading.tsx",children:[(0,a.jsx)("div",{className:l.join(" "),children:t}),n&&(0,a.jsx)(r.Z,{size:24,className:c.join(" ")})]})}},71807:function(e,t,n){"use strict";var a=n(31549),r=n(50633);n(44194);var s=n(97095),o=n(35396);function i(e){let{align:t="center",ariaLabel:n,arrow:s=!1,children:i,className:l,defaultOpen:c=!1,modal:d,onOpenChange:u,open:p,overlay:m,side:f="bottom",sideOffset:h=6,style:g,header:x,footer:b,size:y="content",disabled:v,"data-testid":j}=e,_=(0,o.Z)("popover"),N=[_.content,_.size[y]];return l&&N.push(l),(0,a.jsxs)(r.fC,{defaultOpen:c,modal:d,onOpenChange:u,open:p,"data-sentry-element":"unknown","data-sentry-component":"Popover","data-sentry-source-file":"Popover.tsx",children:[(0,a.jsx)(r.xz,{disabled:v,className:_.trigger,"aria-label":n,"data-testid":j,"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:i}),(0,a.jsx)(r.h_,{"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:(0,a.jsxs)(r.VY,{sideOffset:h,side:f,align:t,className:N.join(" "),style:g,"data-sentry-element":"unknown","data-sentry-source-file":"Popover.tsx",children:[s&&(0,a.jsx)(r.Eh,{offset:10}),x&&(0,a.jsx)("div",{className:_.header,children:x}),m,b&&(0,a.jsx)("div",{className:_.footer,children:b})]})})]})}i.Separator=function(){let e=(0,o.Z)("popover");return(0,a.jsx)("div",{className:e.separator,"data-sentry-component":"Separator","data-sentry-source-file":"Popover.tsx"})},i.Close=function(){let e=(0,o.Z)("popover");return(0,a.jsx)(r.x8,{className:e.close,"data-sentry-element":"unknown","data-sentry-component":"Close","data-sentry-source-file":"Popover.tsx",children:(0,a.jsx)(s.Z,{size:14,strokeWidth:2,"data-sentry-element":"X","data-sentry-source-file":"Popover.tsx"})})},t.Z=i},41928:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var a=n(31549),r=n(70706),s=n(74129),o=n(44194),i=n(32081),l=n(16154),c=n(24344);!function(e){let t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[a,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(s.p1);let d={defaultLanguage:"js"},u=e=>{var t;let{children:n,parentClassName:u,className:p,showCopy:m=!0}=e,{resolvedTheme:f}=(0,r.F)(),[h,g]=(0,o.useState)(!1),x=(0,o.useRef)(null),b=[];(0,o.useEffect)(()=>{if(!h)return;let e=setTimeout(()=>g(!1),2e3);return()=>clearTimeout(e)},[h]);let y=p&&p.replace(/language-/,"");!y&&d.defaultLanguage&&(y=d.defaultLanguage);let v=e=>{(0,c.v)(e,()=>g(!0))};return(0,a.jsx)(s.y$,{theme:"dark"===f?s.np.nightOwl:s.np.nightOwlLight,code:null!==(t=null==n?void 0:n.trim())&&void 0!==t?t:"",language:y,"data-sentry-element":"Highlight","data-sentry-component":"SimpleCodeBlock","data-sentry-source-file":"SimpleCodeBlock.tsx",children:e=>{let{className:t,tokens:r,getLineProps:s,getTokenProps:o}=e;return(0,a.jsxs)("div",{className:"Code codeBlockWrapper group",children:[(0,a.jsx)("pre",{ref:x,className:(0,l.cn)("codeBlock",t,u),children:r.map((e,t)=>{let n=s({line:e,key:t});return b.includes(t+1)&&(n.className="".concat(n.className," docusaurus-highlight-code-line")),(0,a.jsx)("div",{...n,children:e.map((e,t)=>(0,a.jsx)("span",{...o({token:e,key:t})},t))},t)})}),m&&(0,a.jsx)("div",{className:"invisible absolute right-0 top-0 opacity-0 transition-opacity group-hover:visible group-hover:opacity-100",children:(0,a.jsx)(i.z,{size:"tiny",type:"default",onClick:()=>v(n),children:h?"Copied":"Copy"})})]})}})}},66007:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var a=n(31549),r=n(24346),s=n(31706),o=n(44194),i=n(16154);let l=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground-muted focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-300 text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-control bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:n,variant:s,size:o,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:n})),ref:t,...d})});c.displayName="Button"},67355:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var a=n(31549),r=n(18916),s=n(88267),o=n(44194),i=n(16154);let l=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,a.jsx)(r.fC,{ref:t,className:(0,i.cn)("peer flex items-center justify-center h-4 w-4 shrink-0 rounded border border-control bg-control/25 ring-offset-background","transition-colors duration-150 ease-in-out","hover:border-strong","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-foreground data-[state=checked]:text-background",n),...o,children:(0,a.jsx)(r.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(s.Z,{className:"h-3 w-3",strokeWidth:4})})})});l.displayName=r.fC.displayName},99125:function(e,t,n){"use strict";n.d(t,{Fw:function(){return o},wy:function(){return s},zF:function(){return r}});var a=n(39760);let r=a.fC,s=a.wy,o=a.Fw},97706:function(e,t,n){"use strict";n.d(t,{$F:function(){return u},AW:function(){return b},Ju:function(){return _},Ph:function(){return f},Qk:function(){return p},TG:function(){return x},VD:function(){return N},Xi:function(){return y},_x:function(){return h},bO:function(){return v},cq:function(){return m},h_:function(){return d},kt:function(){return g},qB:function(){return j}});var a=n(31549),r=n(73221),s=n(84110),o=n(88267),i=n(35409),l=n(44194),c=n(16154);let d=e=>{let{modal:t=!1,...n}=e;return(0,a.jsx)(r.fC,{modal:t,...n,"data-sentry-element":"unknown","data-sentry-component":"DropdownMenu","data-sentry-source-file":"dropdown-menu.tsx"})},u=r.xz,p=r.ZA,m=r.Uv,f=r.Tr,h=r.Ee,g=l.forwardRef((e,t)=>{let{className:n,inset:o,children:i,...l}=e;return(0,a.jsxs)(r.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-xs outline-none focus:bg-overlay-hover data-[state=open]:bg-overlay-hover data-[state=open]:text-strong",o&&"pl-8",n),...l,children:[i,(0,a.jsx)(s.Z,{className:"h-4 w-4 !ml-auto"})]})});g.displayName=r.fF.displayName;let x=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-overlay bg-overlay p-1 text-foreground-light shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})});x.displayName=r.tu.displayName;let b=l.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...o}=e;return(0,a.jsx)(r.Uv,{children:(0,a.jsx)(r.VY,{ref:t,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-overlay bg-overlay p-1 text-foreground-light shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 w-64",n),...o})})});b.displayName=r.VY.displayName;let y=l.forwardRef((e,t)=>{let{className:n,inset:s,...o}=e;return(0,a.jsx)(r.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-xs outline-none transition-colors focus:bg-overlay-hover focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n),...o})});y.displayName=r.ck.displayName;let v=l.forwardRef((e,t)=>{let{className:n,children:s,checked:i,...l}=e;return(0,a.jsxs)(r.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-xs outline-none transition-colors focus:bg-overlay-hover focus:text-strong data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:i,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),s]})});v.displayName=r.oC.displayName;let j=l.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,a.jsxs)(r.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-xs outline-none transition-colors focus:bg-overlay-hover focus:text-strong data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),s]})});j.displayName=r.Rk.displayName;let _=l.forwardRef((e,t)=>{let{className:n,inset:s,...o}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-xs text-foreground-lighter",s&&"pl-8",n),...o})});_.displayName=r.__.displayName;let N=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-border-overlay",n),...s})});N.displayName=r.Z0.displayName},13793:function(e,t,n){"use strict";n.d(t,{I:function(){return c},h:function(){return l}});var a=n(31549),r=n(31706),s=n(44194),o=n(10),i=n(16154);let l=(0,r.j)((0,i.cn)("flex h-10 w-full rounded-md border border-control bg-foreground/[.026] px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-foreground-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-control focus-visible:ring-offset-2 focus-visible:ring-offset-foreground-muted disabled:cursor-not-allowed disabled:opacity-50","aria-[] aria-[invalid=true]:bg-destructive-200 aria-[invalid=true]:border-destructive-400 aria-[invalid=true]:focus:border-destructive aria-[invalid=true]:focus-visible:border-destructive"),{variants:{size:{...o.Ld}},defaultVariants:{size:o.Rc}}),c=s.forwardRef((e,t)=>{let{className:n,type:r,size:s="small",...o}=e;return(0,a.jsx)("input",{type:r,ref:t,...o,className:(0,i.cn)(l({size:s}),n)})});c.displayName="Input"},30796:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var a=n(31549),r=n(31847),s=n(31706),o=n(44194),i=n(16154);let l=(0,s.j)("text-sm text leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(l(),n),...s})});c.displayName=r.f.displayName},38876:function(e,t,n){"use strict";n.d(t,{Fm:function(){return p},J2:function(){return c},xo:function(){return d},yk:function(){return u}});var a=n(31549),r=n(50633),s=n(44194),o=n(16154),i=n(5963),l=n.n(i);let c=r.fC,d=r.xz;r.ee;let u=s.forwardRef((e,t)=>{let{className:n,align:i="center",sideOffset:c=4,portal:d=!1,sameWidthAsTrigger:u=!1,...p}=e,m=d?r.h_:s.Fragment;return(0,a.jsx)(m,{children:(0,a.jsx)(r.VY,{ref:t,align:i,sideOffset:c,className:(0,o.cn)(u?l()["popover-trigger-width"]:"","z-50 w-72 rounded-md border border-overlay bg-overlay p-4 text-popover-foreground shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...p})})});u.displayName="PopoverContent";let p=s.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsx)("div",{ref:t,...s,className:(0,o.cn)("w-full h-px bg-border-overlay",n)})});p.displayName="PopoverSeparator"},66953:function(e,t,n){"use strict";n.d(t,{Bw:function(){return y},DI:function(){return m},Ph:function(){return p},Ql:function(){return j},U$:function(){return _},i4:function(){return g},ki:function(){return f},n5:function(){return v}});var a=n(31549),r=n(35704),s=n(20292),o=n(47628),i=n(88267),l=n(44194),c=n(31706),d=n(10),u=n(16154);let p=r.fC,m=r.ZA,f=l.forwardRef((e,t)=>{let{placeholder:n,...s}=e;return(0,a.jsx)(r.B4,{placeholder:"string"==typeof n?(0,a.jsx)("span",{children:n}):n,...s,ref:t})});f.displayName=r.B4.displayName;let h=(0,c.j)("",{variants:{size:{...d.Ld}},defaultVariants:{size:d.Rc}}),g=l.forwardRef((e,t)=>{let{className:n,children:o,size:i,...l}=e;return(0,a.jsxs)(r.xz,{ref:t,className:(0,u.cn)("flex w-full items-center justify-between rounded-md border border-strong hover:border-stronger bg-alternative dark:bg-muted hover:bg-selection text-xs ring-offset-background-control data-[placeholder]:text-foreground-lighter focus:outline-none ring-border-control focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200","data-[state=open]:bg-selection data-[state=open]:border-stronger","gap-2",h({size:i}),n),...l,children:[o,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(s.Z,{className:"h-4 w-4 text-foreground-lighter",strokeWidth:1.5})})]})});g.displayName=r.xz.displayName;let x=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.u_,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1 text-foreground-muted",n),...s,children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})});x.displayName=r.u_.displayName;let b=l.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,a.jsx)(r.$G,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1 text-foreground-muted",n),...o,children:(0,a.jsx)(s.Z,{className:"h-4 w-4"})})});b.displayName=r.$G.displayName;let y=l.forwardRef((e,t)=>{let{className:n,children:s,position:o="popper",...i}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-overlay text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.l_,{className:(0,u.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(b,{})]})})});y.displayName=r.VY.displayName;let v=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-xs text-foreground-lighter/75 uppercase tracking-wider font-mono",n),...s})});v.displayName=r.__.displayName;let j=l.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,a.jsxs)(r.ck,{ref:t,className:(0,u.cn)("group","relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-overlay-hover text-foreground-light focus:text-foreground data-[state=checked]:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{className:"h-3.5 w-3.5 bg-foreground rounded-full flex justify-center items-center",children:(0,a.jsx)(i.Z,{className:"h-2 w-2 text-background-overlay",strokeWidth:6})})}),(0,a.jsx)(r.eT,{children:"string"==typeof s?(0,a.jsx)("span",{children:s}):s})]})});j.displayName=r.ck.displayName;let _=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-border-overlay",n),...s})});_.displayName=r.Z0.displayName},54045:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(31549),r=n(95610),s=n(44194),o=n(16154);let i=s.forwardRef((e,t)=>{let{className:n,orientation:s="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(r.f,{ref:t,decorative:i,orientation:s,className:(0,o.cn)("shrink-0 bg-border-muted","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",n),...l})});i.displayName=r.f.displayName},80222:function(e,t,n){"use strict";n.d(t,{DN:function(){return b},Ei:function(){return j},FF:function(){return y},Tu:function(){return x},aM:function(){return d},bC:function(){return v},sw:function(){return u},ue:function(){return g},yo:function(){return c}});var a=n(31549),r=n(40047),s=n(31706),o=n(44194),i=n(97095),l=n(16154);let c=r.fC,d=r.xz,u=r.x8;(0,s.j)("fixed inset-0 z-50 flex",{variants:{side:{top:"items-start",bottom:"items-end",left:"justify-start",right:"justify-end"}},defaultVariants:{side:"right"}});let p=e=>{let{side:t,children:n,...s}=e;return(0,a.jsx)(r.h_,{...s,"data-sentry-element":"unknown","data-sentry-component":"SheetPortal","data-sentry-source-file":"sheet.tsx",children:n})};p.displayName=r.h_.displayName;let m=o.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,a.jsx)(r.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-alternative/90 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",n),...o,ref:t})});m.displayName=r.aV.displayName;let f=(0,l.cn)(["fixed z-50 scale-100 gap-4 bg-studio opacity-100 shadow-lg","data-[state=open]:animate-in data-[state=open]:duration-300 data-[state=closed]:animate-out data-[state=closed]:duration-300"]),h=(0,s.j)(f,{variants:{side:{top:"data-[state=open]:slide-in-from-top data-[state=closed]:slide-out-to-top w-full border-b inset-x-0 top-0",bottom:"data-[state=open]:slide-in-from-bottom data-[state=closed]:slide-out-to-bottom w-full border-t inset-x-0 bottom-0",left:"data-[state=open]:slide-in-from-left data-[state=closed]:slide-out-to-left h-full border-r inset-y-0 left-0",right:"data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right h-full border-l inset-y-0 right-0"},size:{content:"",default:"",sm:"",lg:"",xl:"",xxl:"",full:""}},compoundVariants:[{side:["top","bottom"],size:"content",class:"max-h-screen"},{side:["top","bottom"],size:"default",class:"h-1/3"},{side:["top","bottom"],size:"sm",class:"h-1/4"},{side:["top","bottom"],size:"lg",class:"h-1/2"},{side:["top","bottom"],size:"xl",class:"h-5/6"},{side:["top","bottom"],size:"full",class:"h-screen"},{side:["right","left"],size:"content",class:"max-w-screen"},{side:["right","left"],size:"default",class:"lg:w-1/3"},{side:["right","left"],size:"sm",class:"lg:w-1/4"},{side:["right","left"],size:"lg",class:"lg:w-1/2"},{side:["right","left"],size:"xl",class:"lg:w-4/6"},{side:["right","left"],size:"xxl",class:"w-5/6"},{side:["right","left"],size:"full",class:"w-screen"}],defaultVariants:{side:"right",size:"default"}}),g=o.forwardRef((e,t)=>{let{side:n,size:s,className:o,children:c,showClose:d=!0,...u}=e;return(0,a.jsxs)(p,{side:n,children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,l.cn)(h({side:n,size:s}),o),...u,children:[c,d?(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}):null]})]})});g.displayName=r.VY.displayName;let x=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("px-5 py-4 text-center sm:text-left border-b bg-dash-sidebar",t),...n,"data-sentry-component":"SheetHeader","data-sentry-source-file":"sheet.tsx"})};x.displayName="SheetHeader";let b=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("px-5 py-4",t),...n,"data-sentry-component":"SheetSection","data-sentry-source-file":"sheet.tsx"})};b.displayName="SheetSection";let y=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("px-5 py-3 border-t w-full","flex flex-col-reverse sm:flex-row sm:justify-end gap-2",t),...n,"data-sentry-component":"SheetFooter","data-sentry-source-file":"sheet.tsx"})};y.displayName="SheetFooter";let v=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg text-foreground",n),...s})});v.displayName=r.Dx.displayName;let j=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-foreground-light",n),...s})});j.displayName=r.dk.displayName},75026:function(e,t,n){"use strict";n.d(t,{DD:function(){return b},TZ:function(){return j},ZW:function(){return y},Hz:function(){return _},nO:function(){return N},w3:function(){return w},bb:function(){return E},LO:function(){return S},Hn:function(){return x},tm:function(){return v},Ap:function(){return g}});var a=n(31549),r=n(24346),s=n(31706),o=n(60685),i=n(44194),l=n(16154),c=n(66007),d=n(13793),u=n(54045),p=n(80222),m=n(64377),f=n(35322);let h=i.createContext(null);function g(){let e=i.useContext(h);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let x=i.forwardRef((e,t)=>{let{defaultOpen:n=!0,open:r,onOpenChange:s,className:o,style:c,children:d,...u}=e,p=function(){let[e,t]=i.useState(void 0);return i.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}(),[m,g]=i.useState(!1),[x,b]=i.useState(n),y=null!=r?r:x,v=i.useCallback(e=>{let t="function"==typeof e?e(y):e;s?s(t):b(t),document.cookie="".concat("sidebar:state","=").concat(t,"; path=/; max-age=").concat(604800)},[s,y]),j=i.useCallback(()=>p?g(e=>!e):v(e=>!e),[p,v,g]),_=y?"expanded":"collapsed",N=i.useMemo(()=>({state:_,open:y,setOpen:v,isMobile:p,openMobile:m,setOpenMobile:g,toggleSidebar:j}),[_,y,v,p,m,g,j]);return(0,a.jsx)(h.Provider,{value:N,children:(0,a.jsx)(f.pn,{delayDuration:0,children:(0,a.jsx)("div",{style:{"--sidebar-width":"13rem","--sidebar-width-icon":"3rem",...c},className:(0,l.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",o),ref:t,...u,children:d})})})});x.displayName="SidebarProvider";let b=i.forwardRef((e,t)=>{let{overflowing:n=!1,side:r="left",variant:s="sidebar",collapsible:o="offcanvas",className:i,children:c,...d}=e,{isMobile:u,state:m,openMobile:f,setOpenMobile:h}=g();return"none"===o?(0,a.jsx)("div",{className:(0,l.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:t,...d,children:c}):u?(0,a.jsx)(p.yo,{open:f,onOpenChange:h,...d,children:(0,a.jsx)(p.ue,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:r,children:(0,a.jsx)("div",{className:"flex h-full w-full flex-col",children:c})})}):(0,a.jsxs)("div",{ref:t,className:(0,l.cn)(n?"w-12":"","relative group peer hidden md:block text-sidebar-foreground","flex-shrink-0"),"data-state":m,"data-collapsible":"collapsed"===m?o:"","data-variant":s,"data-side":r,children:[(0,a.jsx)("div",{className:(0,l.cn)(n?"absolute top-0":"relative","duration-100 h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,a.jsx)("div",{className:(0,l.cn)("absolute top-0 h-full","duration-100 inset-y-0 z-10 hidden w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===r?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...d,children:(0,a.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:c})})]})});b.displayName="Sidebar",i.forwardRef((e,t)=>{let{className:n,onClick:r,...s}=e,{toggleSidebar:i}=g();return(0,a.jsxs)(c.z,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,l.cn)("h-7 w-7",n),onClick:e=>{null==r||r(e),i()},...s,children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}).displayName="SidebarTrigger",i.forwardRef((e,t)=>{let{className:n,...r}=e,{toggleSidebar:s}=g();return(0,a.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:(0,l.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...r})}).displayName="SidebarRail",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("main",{ref:t,className:(0,l.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...r})}).displayName="SidebarInset",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(d.I,{ref:t,"data-sidebar":"input",className:(0,l.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...r})}).displayName="SidebarInput",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,l.cn)("flex flex-col gap-2 p-2",n),...r})}).displayName="SidebarHeader";let y=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,l.cn)("flex flex-col gap-2 p-2",n),...r})});y.displayName="SidebarFooter";let v=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(u.Z,{ref:t,"data-sidebar":"separator",className:(0,l.cn)("mx-2 w-auto bg-sidebar-border",n),...r})});v.displayName="SidebarSeparator";let j=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,l.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...r})});j.displayName="SidebarContent";let _=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,l.cn)("relative flex w-full min-w-0 flex-col p-2",n),...r})});_.displayName="SidebarGroup";let N=i.forwardRef((e,t)=>{let{className:n,asChild:s=!1,...o}=e,i=s?r.g7:"div";return(0,a.jsx)(i,{ref:t,"data-sidebar":"group-label",className:(0,l.cn)("duration-100 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...o})});N.displayName="SidebarGroupLabel",i.forwardRef((e,t)=>{let{className:n,asChild:s=!1,...o}=e,i=s?r.g7:"button";return(0,a.jsx)(i,{ref:t,"data-sidebar":"group-action",className:(0,l.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...o})}).displayName="SidebarGroupAction",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,l.cn)("w-full text-sm",n),...r})}).displayName="SidebarGroupContent";let w=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,l.cn)("flex w-full min-w-0 flex-col gap-1",n),...r})});w.displayName="SidebarMenu";let S=i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,l.cn)("group/menu-item relative",n),...r})});S.displayName="SidebarMenuItem";let C=(0,s.j)((0,l.cn)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md py-2 px-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 text-foreground-lighter data-[active=true]:text-foreground"),{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"},hasIcon:{true:"group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!pl-1.5 group-data-[collapsible=icon]:!pr-2",false:""}},defaultVariants:{variant:"default",size:"default",hasIcon:!0}}),E=i.forwardRef((e,t)=>{let{asChild:n=!1,isActive:s=!1,variant:o="default",size:i="default",hasIcon:c=!0,tooltip:d,className:u,...p}=e,m=n?r.g7:"button",{isMobile:h,state:x}=g(),b=(0,a.jsx)(m,{ref:t,"data-sidebar":"menu-button","data-size":i,"data-active":s,"data-has-icon":c,className:(0,l.cn)(C({variant:o,size:i,hasIcon:c}),u),...p});return d?("string"==typeof d&&(d={children:d}),(0,a.jsxs)(f.u,{children:[(0,a.jsx)(f.aJ,{asChild:!0,children:b}),(0,a.jsx)(f._v,{side:"right",align:"center",hidden:"collapsed"!==x||h,...d})]})):b});E.displayName="SidebarMenuButton",i.forwardRef((e,t)=>{let{className:n,asChild:s=!1,showOnHover:o=!1,...i}=e,c=s?r.g7:"button";return(0,a.jsx)(c,{ref:t,"data-sidebar":"menu-action",className:(0,l.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-5 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...i})}).displayName="SidebarMenuAction",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,l.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...r})}).displayName="SidebarMenuBadge",i.forwardRef((e,t)=>{let{className:n,showIcon:r=!1,...s}=e,o=i.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,a.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,l.cn)("rounded-md h-8 flex gap-2 px-2 items-center",n),...s,children:[r&&(0,a.jsx)(m.O,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,a.jsx)(m.O,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})}).displayName="SidebarMenuSkeleton",i.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,l.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...r})}).displayName="SidebarMenuSub",i.forwardRef((e,t)=>{let{...n}=e;return(0,a.jsx)("li",{ref:t,...n})}).displayName="SidebarMenuSubItem",i.forwardRef((e,t)=>{let{asChild:n=!1,size:s="md",isActive:o,className:i,...c}=e,d=n?r.g7:"a";return(0,a.jsx)(d,{ref:t,"data-sidebar":"menu-sub-button","data-size":s,"data-active":o,className:(0,l.cn)("flex h-6 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===s&&"text-xs","md"===s&&"text-sm","group-data-[collapsible=icon]:hidden",i),...c})}).displayName="SidebarMenuSubButton"},64377:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var a=n(31549),r=n(16154);function s(e){let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...n,"data-sentry-component":"Skeleton","data-sentry-source-file":"skeleton.tsx"})}},25972:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return i},nU:function(){return d}});var a=n(31549),r=n(2643),s=n(44194),o=n(16154);let i=r.fC,l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,o.cn)("flex items-center border-b",n),...s})});l.displayName=r.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.xz,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap py-1.5 text-sm  ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:shadow-sm text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent","group",n),...s})});c.displayName=r.xz.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,o.cn)("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s})});d.displayName=r.VY.displayName},29558:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var a=n(31549),r=n(44194),s=n(16154);let o=["bg-control"],i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-10 w-full rounded-md border border-control bg-control px-3 py-2 text-base md:text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-foreground-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-control focus-visible:ring-offset-2 focus-visible:ring-offset-foreground-muted disabled:cursor-not-allowed disabled:opacity-50",...o,n),ref:t,...r})});i.displayName="TextArea"},25002:function(e,t,n){"use strict";n.d(t,{gx:function(){return l},vo:function(){return c},og:function(){return d},hL:function(){return u},gg:function(){return p},SK:function(){return m},M4:function(){return i},Z7:function(){return f},Aq:function(){return h},vu:function(){return g},Ke:function(){return x},dD:function(){return b},n5:function(){return y}});var a=n(44194),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim();var o=(e,t)=>{let n=(0,a.forwardRef)((n,o)=>{let{color:i="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:p,...m}=n;return(0,a.createElement)("svg",{ref:o,...r,width:l,height:l,stroke:i,strokeWidth:d?24*Number(c)/Number(l):c,className:["lucide","lucide-".concat(s(e)),u].join(" "),...m},[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(p)?p:[p]])});return n.displayName="".concat(e),n},i=o("RESTApi",[["path",{d:"M3.20947 12.1052C3.20947 13.4403 3.50715 14.706 4.03977 15.8394M11.9997 3.31494C10.6391 3.31494 9.35066 3.62408 8.20085 4.17594M20.7899 12.1052C20.7899 10.7566 20.4862 9.47898 19.9435 8.33694M11.9997 20.8954C13.3576 20.8954 14.6436 20.5875 15.7917 20.0377M15.7917 20.0377C16.3334 20.818 17.236 21.3289 18.2578 21.3289C19.9147 21.3289 21.2578 19.9857 21.2578 18.3289C21.2578 16.672 19.9147 15.3289 18.2578 15.3289C16.601 15.3289 15.2578 16.672 15.2578 18.3289C15.2578 18.9639 15.4551 19.5528 15.7917 20.0377ZM4.03977 15.8394C3.24022 16.3782 2.71436 17.2921 2.71436 18.3289C2.71436 19.9857 4.0575 21.3289 5.71436 21.3289C7.37121 21.3289 8.71436 19.9857 8.71436 18.3289C8.71436 16.672 7.37121 15.3289 5.71436 15.3289C5.09422 15.3289 4.51803 15.517 4.03977 15.8394ZM8.20085 4.17594C7.66158 3.3789 6.74915 2.85498 5.71436 2.85498C4.0575 2.85498 2.71436 4.19813 2.71436 5.85498C2.71436 7.51183 4.0575 8.85498 5.71436 8.85498C7.37121 8.85498 8.71436 7.51183 8.71436 5.85498C8.71436 5.23292 8.52503 4.65508 8.20085 4.17594ZM19.9435 8.33694C20.7368 7.79709 21.2578 6.88688 21.2578 5.85498C21.2578 4.19813 19.9147 2.85498 18.2578 2.85498C16.601 2.85498 15.2578 4.19813 15.2578 5.85498C15.2578 7.51183 16.601 8.85498 18.2578 8.85498C18.8828 8.85498 19.4631 8.66388 19.9435 8.33694Z",key:"xusdjk"}]]);o("ExampleTemplate",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]),o("ApiDocs",[["path",{d:"M7.44434 14.3347H16.4443M7.44434 11.3347H16.4443M7.44434 17.3347H13.4443M19.4994 8.50714V19.1052C19.4994 20.2097 18.6039 21.1052 17.4994 21.1052H6.5C5.39543 21.1052 4.5 20.2097 4.5 19.1052V5.10596C4.5 4.00139 5.39543 3.10596 6.5 3.10596H14.0723L19.4994 8.50714ZM19.4465 8.48193L14.0704 3.10596L14.0701 7.48186C14.0701 8.03418 14.5178 8.48193 15.0701 8.48193L19.4465 8.48193Z",key:"2ysat9"}]]);var l=o("Auth",[["path",{d:"M5.24121 15.0674H12.7412M5.24121 15.0674V18.0674H12.7412V15.0674M5.24121 15.0674V12.0674H12.7412V15.0674M15 7.60547V4.60547C15 2.94861 13.6569 1.60547 12 1.60547C10.3431 1.60547 9 2.94861 9 4.60547V7.60547M5.20898 9.60547L5.20898 19.1055C5.20898 20.21 6.10441 21.1055 7.20898 21.1055H16.709C17.8136 21.1055 18.709 20.21 18.709 19.1055V9.60547C18.709 8.5009 17.8136 7.60547 16.709 7.60547L7.20899 7.60547C6.10442 7.60547 5.20898 8.5009 5.20898 9.60547Z",key:"h65u22"}]]),c=o("Database",[["path",{d:" M5.56774 9.70642H18.4547V15.7064H5.56774V9.70642Z",key:"g5hndz"}],["path",{d:" M4.5 16.7094C4.5 16.1571 4.94772 15.7094 5.5 15.7094H18.5C19.0523 15.7094 19.5 16.1571 19.5\n        16.7094V20.7094C19.5 21.2616 19.0523 21.7094 18.5 21.7094H5.5C4.94772 21.7094 4.5 21.2616 4.5\n        20.7094V16.7094Z",key:"1m5ehm"}],["path",{d:"M4.5 4.70679C4.5 4.1545 4.94772 3.70679 5.5 3.70679H18.5C19.0523 3.70679 19.5 4.1545 19.5 4.70679V8.70679C19.5 9.25907 19.0523 9.70679 18.5 9.70679H5.5C4.94772 9.70679 4.5 9.25907 4.5 8.70679V4.70679Z",key:"1w4kbe"}]]),d=o("Datadog",[["path",{d:"M19.57 17.04l-1.997-1.316-1.665 2.782-1.937-.567-1.706 2.604.087.82 9.274-1.71-.538-5.794zm-8.649-2.498l1.488-.204c.241.108.409.15.697.223.45.117.97.23 1.741-.16.18-.088.553-.43.704-.625l6.096-1.106.622 7.527-10.444 1.882zm11.325-2.712l-.602.115L20.488 0 .789 2.285l2.427 19.693 2.306-.334c-.184-.263-.471-.581-.96-.989-.68-.564-.44-1.522-.039-2.127.53-1.022 3.26-2.322 3.106-3.956-.056-.594-.15-1.368-.702-1.898-.02.22.017.432.017.432s-.227-.289-.34-.683c-.112-.15-.2-.199-.319-.4-.085.233-.073.503-.073.503s-.186-.437-.216-.807c-.11.166-.137.48-.137.48s-.241-.69-.186-1.062c-.11-.323-.436-.965-.343-2.424.6.421 1.924.321 2.44-.439.171-.251.288-.939-.086-2.293-.24-.868-.835-2.16-1.066-2.651l-.028.02c.122.395.374 1.223.47 1.625.293 1.218.372 1.642.234 2.204-.116.488-.397.808-1.107 1.165-.71.358-1.653-.514-1.713-.562-.69-.55-1.224-1.447-1.284-1.883-.062-.477.275-.763.445-1.153-.243.07-.514.192-.514.192s.323-.334.722-.624c.165-.109.262-.178.436-.323a9.762 9.762 0 0 0-.456.003s.42-.227.855-.392c-.318-.014-.623-.003-.623-.003s.937-.419 1.678-.727c.509-.208 1.006-.147 1.286.257.367.53.752.817 1.569.996.501-.223.653-.337 1.284-.509.554-.61.99-.688.99-.688s-.216.198-.274.51c.314-.249.66-.455.66-.455s-.134.164-.259.426l.03.043c.366-.22.797-.394.797-.394s-.123.156-.268.358c.277-.002.838.012 1.056.037 1.285.028 1.552-1.374 2.045-1.55.618-.22.894-.353 1.947.68.903.888 1.609 2.477 1.259 2.833-.294.295-.874-.115-1.516-.916a3.466 3.466 0 0 1-.716-1.562 1.533 1.533 0 0 0-.497-.85s.23.51.23.96c0 .246.03 1.165.424 1.68-.039.076-.057.374-.1.43-.458-.554-1.443-.95-1.604-1.067.544.445 1.793 1.468 2.273 2.449.453.927.186 1.777.416 1.997.065.063.976 1.197 1.15 1.767.306.994.019 2.038-.381 2.685l-1.117.174c-.163-.045-.273-.068-.42-.153.08-.143.241-.5.243-.572l-.063-.111c-.348.492-.93.97-1.414 1.245-.633.359-1.363.304-1.838.156-1.348-.415-2.623-1.327-2.93-1.566 0 0-.01.191.048.234.34.383 1.119 1.077 1.872 1.56l-1.605.177.759 5.908c-.337.048-.39.071-.757.124-.325-1.147-.946-1.895-1.624-2.332-.599-.384-1.424-.47-2.214-.314l-.05.059a2.851 2.851 0 0 1 1.863.444c.654.413 1.181 1.481 1.375 2.124.248.822.42 1.7-.248 2.632-.476.662-1.864 1.028-2.986.237.3.481.705.876 1.25.95.809.11 1.577-.03 2.106-.574.452-.464.69-1.434.628-2.456l.714-.104.258 1.834 11.827-1.424zM15.05 6.848c-.034.075-.085.125-.007.37l.004.014.013.032.032.073c.14.287.295.558.552.696.067-.011.136-.019.207-.023.242-.01.395.028.492.08.009-.048.01-.119.005-.222-.018-.364.072-.982-.626-1.308-.264-.122-.634-.084-.757.068a.302.302 0 0 1 .058.013c.186.066.06.13.027.207m1.958 3.392c-.092-.05-.52-.03-.821.005-.574.068-1.193.267-1.328.372-.247.191-.135.523.047.66.511.382.96.638 1.432.575.29-.038.546-.497.728-.914.124-.288.124-.598-.058-.698m-5.077-2.942c.162-.154-.805-.355-1.556.156-.554.378-.571 1.187-.041 1.646.053.046.096.078.137.104a4.77 4.77 0 0 1 1.396-.412c.113-.125.243-.345.21-.745-.044-.542-.455-.456-.146-.749",key:"13qbml"}]]),u=o("EdgeFunctions",[["path",{d:"M18 12.1055C18 15.4192 15.3137 18.1055 12 18.1055C8.6863 18.1055 6.00001 15.4192 6.00001 12.1055C6.00001 8.79176 8.6863 6.10547 12 6.10547C15.3137 6.10547 18 8.79176 18 12.1055Z",key:"1vv84o"}],["path",{d:"M21.3999 5.70154C21.3999 7.35839 20.0568 8.70154 18.3999 8.70154C16.7431 8.70154 15.3999 7.35839 15.3999 5.70154C15.3999 4.04468 16.7431 2.70154 18.3999 2.70154C20.0568 2.70154 21.3999 4.04468 21.3999 5.70154Z",key:"1vzce8"}],["path",{d:"M8.62216 18.4363C8.62216 20.0932 7.27902 21.4363 5.62216 21.4363C3.96531 21.4363 2.62216 20.0932 2.62216 18.4363C2.62216 16.7795 3.96531 15.4363 5.62216 15.4363C7.27902 15.4363 8.62216 16.7795 8.62216 18.4363Z",key:"s8poqq"}],["path",{d:"M3.18121 16.2691C2.58401 15.0065 2.25 13.595 2.25 12.1055C2.25 6.72069 6.61522 2.35547 12 2.35547C13.4893 2.35547 14.9005 2.68937 16.163 3.28638M7.68679 20.852C8.98715 21.4944 10.4514 21.8555 12 21.8555C17.3848 21.8555 21.75 17.4902 21.75 12.1055C21.75 10.6162 21.4161 9.20493 20.8191 7.94242",key:"xs92pm"}]]),p=o("Grafana",[["path",{d:"M23.02 10.59a8.578 8.578 0 0 0-.862-3.034 8.911 8.911 0 0 0-1.789-2.445c.337-1.342-.413-2.505-.413-2.505-1.292-.08-2.113.4-2.416.62-.052-.02-.102-.044-.154-.064-.22-.089-.446-.172-.677-.247-.231-.073-.47-.14-.711-.197a9.867 9.867 0 0 0-.875-.161C14.557.753 12.94 0 12.94 0c-1.804 1.145-2.147 2.744-2.147 2.744l-.018.093c-.098.029-.2.057-.298.088-.138.042-.275.094-.413.143-.138.055-.275.107-.41.166a8.869 8.869 0 0 0-1.557.87l-.063-.029c-2.497-.955-4.716.195-4.716.195-.203 2.658.996 4.33 1.235 4.636a11.608 11.608 0 0 0-.607 2.635C1.636 12.677.953 15.014.953 15.014c1.926 2.214 4.171 2.351 4.171 2.351.003-.002.006-.002.006-.005.285.509.615.994.986 1.446.156.19.32.371.488.548-.704 2.009.099 3.68.099 3.68 2.144.08 3.553-.937 3.849-1.173a9.784 9.784 0 0 0 3.164.501h.08l.055-.003.107-.002.103-.005.003.002c1.01 1.44 2.788 1.646 2.788 1.646 1.264-1.332 1.337-2.653 1.337-2.94v-.058c0-.02-.003-.039-.003-.06.265-.187.52-.387.758-.6a7.875 7.875 0 0 0 1.415-1.7c1.43.083 2.437-.885 2.437-.885-.236-1.49-1.085-2.216-1.264-2.354l-.018-.013-.016-.013a.217.217 0 0 1-.031-.02c.008-.092.016-.18.02-.27.011-.162.016-.323.016-.48v-.253l-.005-.098-.008-.135a1.891 1.891 0 0 0-.01-.13c-.003-.042-.008-.083-.013-.125l-.016-.124-.018-.122a6.215 6.215 0 0 0-2.032-3.73 6.015 6.015 0 0 0-3.222-1.46 6.292 6.292 0 0 0-.85-.048l-.107.002h-.063l-.044.003-.104.008a4.777 4.777 0 0 0-3.335 1.695c-.332.4-.592.84-.768 1.297a4.594 4.594 0 0 0-.312 1.817l.003.091c.005.055.007.11.013.164a3.615 3.615 0 0 0 .698 1.82 3.53 3.53 0 0 0 1.827 1.282c.33.098.66.14.971.137.039 0 .078 0 .114-.002l.063-.003c.02 0 .041-.003.062-.003.034-.002.065-.007.099-.01.007 0 .018-.003.028-.003l.031-.005.06-.008a1.18 1.18 0 0 0 .112-.02c.036-.008.072-.013.109-.024a2.634 2.634 0 0 0 .914-.415c.028-.02.056-.041.085-.065a.248.248 0 0 0 .039-.35.244.244 0 0 0-.309-.06l-.078.042c-.09.044-.184.083-.283.116a2.476 2.476 0 0 1-.475.096c-.028.003-.054.006-.083.006l-.083.002c-.026 0-.054 0-.08-.002l-.102-.006h-.012l-.024.006c-.016-.003-.031-.003-.044-.006-.031-.002-.06-.007-.091-.01a2.59 2.59 0 0 1-.724-.213 2.557 2.557 0 0 1-.667-.438 2.52 2.52 0 0 1-.805-1.475 2.306 2.306 0 0 1-.029-.444l.006-.122v-.023l.002-.031c.003-.021.003-.04.005-.06a3.163 3.163 0 0 1 1.352-2.29 3.12 3.12 0 0 1 .937-.43 2.946 2.946 0 0 1 .776-.101h.06l.07.002.045.003h.026l.07.005a4.041 4.041 0 0 1 1.635.49 3.94 3.94 0 0 1 1.602 1.662 3.77 3.77 0 0 1 .397 1.414l.005.076.003.075c.002.026.002.05.002.075 0 .024.003.052 0 .07v.065l-.002.073-.008.174a6.195 6.195 0 0 1-.08.639 5.1 5.1 0 0 1-.267.927 5.31 5.31 0 0 1-.624 1.13 5.052 5.052 0 0 1-3.237 2.014 4.82 4.82 0 0 1-.649.066l-.039.003h-.287a6.607 6.607 0 0 1-1.716-.265 6.776 6.776 0 0 1-3.4-2.274 6.75 6.75 0 0 1-.746-1.15 6.616 6.616 0 0 1-.714-2.596l-.005-.083-.002-.02v-.056l-.003-.073v-.096l-.003-.104v-.07l.003-.163c.008-.22.026-.45.054-.678a8.707 8.707 0 0 1 .28-1.355c.128-.444.286-.872.473-1.277a7.04 7.04 0 0 1 1.456-2.1 5.925 5.925 0 0 1 .953-.763c.169-.111.343-.213.524-.306.089-.05.182-.091.273-.135.047-.02.093-.042.138-.062a7.177 7.177 0 0 1 .714-.267l.145-.045c.049-.015.098-.026.148-.041.098-.029.197-.052.296-.076.049-.013.1-.02.15-.033l.15-.032.151-.028.076-.013.075-.01.153-.024c.057-.01.114-.013.171-.023l.169-.021c.036-.003.073-.008.106-.01l.073-.008.036-.003.042-.002c.057-.003.114-.008.171-.01l.086-.006h.023l.037-.003.145-.007a7.999 7.999 0 0 1 1.708.125 7.917 7.917 0 0 1 2.048.68 8.253 8.253 0 0 1 1.672 1.09l.09.077.089.078c.06.052.114.107.171.159.057.052.112.106.166.16.052.055.107.107.159.164a8.671 8.671 0 0 1 1.41 1.978c.012.026.028.052.04.078l.04.078.075.156c.023.051.05.1.07.153l.065.15a8.848 8.848 0 0 1 .45 1.34.19.19 0 0 0 .201.142.186.186 0 0 0 .172-.184c.01-.246.002-.532-.024-.856z",key:"hopart"}]]),m=o("Home",[["path",{d:"M9.43414 20.803V13.0557C9.43414 12.5034 9.88186 12.0557 10.4341 12.0557H14.7679C15.3202 12.0557 15.7679 12.5034 15.7679 13.0557V20.803M12.0181 3.48798L5.53031 7.9984C5.26145 8.18532 5.10114 8.49202 5.10114 8.81948L5.10117 18.803C5.10117 19.9075 5.9966 20.803 7.10117 20.803H18.1012C19.2057 20.803 20.1012 19.9075 20.1012 18.803L20.1011 8.88554C20.1011 8.55988 19.9426 8.25462 19.6761 8.06737L13.1639 3.49088C12.8204 3.24951 12.3627 3.24836 12.0181 3.48798Z",key:"1bkqgr"}]]);o("InsertCode",[["path",{d:"M-20437 -11142H12131V-11144H-20437V-11142ZM12132 -11141V7113H12134V-11141H12132ZM12131 7114H-20437V7116H12131V7114ZM-20438 7113V-11141H-20440V7113H-20438ZM-20437 7114C-20437.6 7114 -20438 7113.55 -20438 7113H-20440C-20440 7114.66 -20438.7 7116 -20437 7116V7114ZM12132 7113C12132 7113.55 12131.6 7114 12131 7114V7116C12132.7 7116 12134 7114.66 12134 7113H12132ZM12131 -11142C12131.6 -11142 12132 -11141.6 12132 -11141H12134C12134 -11142.7 12132.7 -11144 12131 -11144V-11142ZM-20437 -11144C-20438.7 -11144 -20440 -11142.7 -20440 -11141H-20438C-20438 -11141.6 -20437.6 -11142 -20437 -11142V-11144Z",fill:"white","fill-opacity":"0.1",key:"iaqtc1"}],["path",{d:"M22.8437 8.69499L19.5369 12.0018L22.8438 15.3086","stroke-linecap":"round","stroke-linejoin":"round",key:"1gnkuu"}],["rect",{x:"0.5",y:"14.0625",width:"16",height:"8",rx:"1","stroke-linejoin":"round",key:"t6herz"}],["rect",{x:"0.5",y:"1.9375",width:"16",height:"8",rx:"1","stroke-linejoin":"round",key:"718qtu"}]]),o("Integrations",[["path",{d:"M17.2661 3.23254V10.7325M13.5161 6.98291L21.0161 6.98291M11.0391 16.9508C11.0391 19.1752 9.23585 20.9784 7.01147 20.9784C4.7871 20.9784 2.98389 19.1752 2.98389 16.9508C2.98389 14.7264 4.7871 12.9232 7.01147 12.9232C9.23585 12.9232 11.0391 14.7264 11.0391 16.9508ZM21.0161 19.8568V14.3568C21.0161 13.8045 20.5684 13.3568 20.0161 13.3568H14.5161C13.9638 13.3568 13.5161 13.8045 13.5161 14.3568V19.8568C13.5161 20.4091 13.9638 20.8568 14.5161 20.8568H20.0161C20.5684 20.8568 21.0161 20.4091 21.0161 19.8568ZM4.26221 10.7325H9.76221C10.3145 10.7325 10.7622 10.2848 10.7622 9.73254V4.23254C10.7622 3.68026 10.3145 3.23254 9.76221 3.23254H4.26221C3.70992 3.23254 3.26221 3.68026 3.26221 4.23254V9.73254C3.26221 10.2848 3.70992 10.7325 4.26221 10.7325Z",key:"3dnck7"}]]),o("Logs",[["path",{d:"M4.5 5.20679H4.53713M7.46241 5.21707H19.5M4.5 9.65839H4.53713M7.46241 9.66868H19.5M4.52692 14.164H4.53713M7.46241 14.1742H19.5M4.52692 18.7068L4.53713 18.6965M7.46241 18.7068H19.5",key:"2ab8w8"}]]),o("Postgres",[["path",{d:"M11.5466 3.23108C11.2704 3.23108 11.0466 3.45494 11.0466 3.73108C11.0466 4.00722 11.2704 4.23108 11.5466 4.23108V3.23108ZM20.6569 19.5046C20.6569 19.2285 20.433 19.0046 20.1569 19.0046C19.8808 19.0046 19.6569 19.2285 19.6569 19.5046H20.6569ZM19.6569 15.9656C19.6569 16.2417 19.8808 16.4656 20.1569 16.4656C20.433 16.4656 20.6569 16.2417 20.6569 15.9656H19.6569ZM13.0119 19.5536C12.959 19.2826 12.6964 19.1058 12.4254 19.1586C12.1544 19.2115 11.9775 19.4741 12.0304 19.7452L13.0119 19.5536ZM9.87381 18.8565L9.37381 18.8565V18.8565H9.87381ZM4.20721 5.29932L3.73784 5.12699L3.73784 5.127L4.20721 5.29932ZM2.52527 9.88046L2.0559 9.70814L2.0559 9.70814L2.52527 9.88046ZM3.24922 12.6873L2.92176 13.0651L2.92176 13.0651L3.24922 12.6873ZM4.40334 13.6875L4.07588 14.0653L4.07588 14.0653L4.40334 13.6875ZM5.00971 15.0154L4.50971 15.0154L4.50971 15.0154L5.00971 15.0154ZM5.00969 16.8536L5.50969 16.8536L5.50969 16.8536L5.00969 16.8536ZM9.87385 10.6661L9.37385 10.6661L9.37385 10.6661L9.87385 10.6661ZM11.9399 6.90783C12.136 6.71339 12.1373 6.39681 11.9429 6.20073C11.7484 6.00464 11.4319 6.00331 11.2358 6.19774L11.9399 6.90783ZM17.841 18.7506L17.8409 18.2506L17.8409 18.2506L17.841 18.7506ZM23.0676 19.2506C23.3437 19.2506 23.5676 19.0267 23.5675 18.7506C23.5675 18.4744 23.3437 18.2506 23.0675 18.2506L23.0676 19.2506ZM13.0171 15.2446C12.8955 14.9967 12.5959 14.8943 12.348 15.016C12.1001 15.1376 11.9978 15.4372 12.1194 15.6851L13.0171 15.2446ZM11.5466 4.23108H12.608V3.23108H11.5466V4.23108ZM19.6569 19.5046C19.6569 21.0264 18.2467 22.2606 16.3033 22.2606V23.2606C18.6165 23.2606 20.6569 21.7449 20.6569 19.5046H19.6569ZM12.608 4.23108C16.501 4.23108 19.6569 7.38698 19.6569 11.28H20.6569C20.6569 6.8347 17.0533 3.23108 12.608 3.23108V4.23108ZM19.6569 11.28V15.9656H20.6569V11.28H19.6569ZM16.3033 22.2606C14.6727 22.2606 13.313 21.0964 13.0119 19.5536L12.0304 19.7452C12.4214 21.7485 14.1852 23.2606 16.3033 23.2606V22.2606ZM11.6552 3.22339H6.46459V4.22339H11.6552V3.22339ZM3.73784 5.127L2.0559 9.70814L2.99464 10.0528L4.67658 5.47164L3.73784 5.127ZM2.92176 13.0651L4.07588 14.0653L4.7308 13.3096L3.57668 12.3094L2.92176 13.0651ZM4.50971 15.0154L4.50969 16.8536L5.50969 16.8536L5.50971 15.0154L4.50971 15.0154ZM10.3739 10.6661C10.3739 9.25463 10.9376 7.90166 11.9399 6.90783L11.2358 6.19774C10.0442 7.37934 9.37387 8.98795 9.37385 10.6661L10.3739 10.6661ZM2.0559 9.70814C1.61893 10.8983 1.96363 12.2348 2.92176 13.0651L3.57668 12.3094C2.9326 11.7512 2.70089 10.8529 2.99464 10.0528L2.0559 9.70814ZM8.44319 20.7872C9.50944 20.7872 10.3738 19.9228 10.3738 18.8565H9.37381C9.37381 19.3705 8.95716 19.7872 8.44319 19.7872V20.7872ZM8.44319 19.7872C6.82305 19.7872 5.50967 18.4738 5.50969 16.8536L4.50969 16.8536C4.50966 19.026 6.27075 20.7872 8.44319 20.7872V19.7872ZM4.07588 14.0653C4.35142 14.3041 4.50972 14.6508 4.50971 15.0154L5.50971 15.0154C5.50972 14.3608 5.22552 13.7384 4.7308 13.3096L4.07588 14.0653ZM6.46459 3.22339C5.24643 3.22339 4.15768 3.98347 3.73784 5.12699L4.67658 5.47164C4.95188 4.7218 5.66581 4.22339 6.46459 4.22339V3.22339ZM17.841 19.2506L23.0676 19.2506L23.0675 18.2506L17.8409 18.2506L17.841 19.2506ZM12.1194 15.6851C13.1905 17.8676 15.4098 19.2507 17.841 19.2506L17.8409 18.2506C15.7913 18.2507 13.9201 17.0846 13.0171 15.2446L12.1194 15.6851ZM10.3738 18.8565L10.3739 10.6661L9.37385 10.6661L9.37381 18.8565L10.3738 18.8565Z",key:"1mbkmc"}],["path",{d:"M15.7151 11.2056C15.7151 11.6257 16.0556 11.9663 16.4758 11.9663C16.8959 11.9663 17.2365 11.6257 17.2365 11.2056C17.2365 10.7854 16.8959 10.4448 16.4758 10.4448C16.0556 10.4448 15.7151 10.7854 15.7151 11.2056Z",key:"1vir92"}]]);var f=o("Realtime",[["path",{d:"M8.04273 1.58203V5.32205M5.24354 5.32205L2.04712 2.02791M5.24354 7.90979H1.57764M15.3776 15.5507L21.079 14.1316C21.5417 14.0164 21.5959 13.3806 21.1595 13.1887L8.00828 7.40586C7.59137 7.22254 7.16643 7.64661 7.3489 8.06389L13.0321 21.0607C13.2224 21.496 13.8556 21.4454 13.9743 20.9854L15.3776 15.5507Z",key:"1w2oqg"}]]);o("ReplaceCode",[["path",{d:"M-20403 -11142H12165V-11144H-20403V-11142ZM12166 -11141V7113H12168V-11141H12166ZM12165 7114H-20403V7116H12165V7114ZM-20404 7113V-11141H-20406V7113H-20404ZM-20403 7114C-20403.6 7114 -20404 7113.55 -20404 7113H-20406C-20406 7114.66 -20404.7 7116 -20403 7116V7114ZM12166 7113C12166 7113.55 12165.6 7114 12165 7114V7116C12166.7 7116 12168 7114.66 12168 7113H12166ZM12165 -11142C12165.6 -11142 12166 -11141.6 12166 -11141H12168C12168 -11142.7 12166.7 -11144 12165 -11144V-11142ZM-20403 -11144C-20404.7 -11144 -20406 -11142.7 -20406 -11141H-20404C-20404 -11141.6 -20403.6 -11142 -20403 -11142V-11144Z","fill-opacity":"0.1",key:"g9kgmq"}],["rect",{x:"6.44531",y:"14.1133",width:"15.8455",height:"7.91818",rx:"3.95909",key:"1evqnx"}],["path",{d:"M10.5896 10.0195L18.2148 10.0195C19.0433 10.0195 19.7148 9.34796 19.7148 8.51953L19.7148 3.59225C19.7148 2.76383 19.0433 2.09226 18.2148 2.09226L5.99609 2.09226","stroke-linecap":"round",key:"18tp5x"}],["path",{d:"M5.98902 10.4656V5.78906H1.3125","stroke-linecap":"round","stroke-linejoin":"round",key:"sfubon"}],["path",{d:"M3.27111 13.6133V13.6133C1.61515 12.3914 1.47948 9.96446 2.98894 8.56564L5.99609 5.77891","stroke-linecap":"round",key:"1w6ie7"}]]);var h=o("Reports",[["path",{d:"M3.03479 9.0849L8.07241 4.0575C8.46296 3.66774 9.0954 3.66796 9.48568 4.05799L14.0295 8.59881C14.42 8.98912 15.053 8.98901 15.4435 8.59857L20.5877 3.45418M16.4996 3.01526H19.9996C20.5519 3.01526 20.9996 3.46297 20.9996 4.01526V7.51526M2.99963 12.0153L2.99963 20.1958C2.99963 20.7481 3.44735 21.1958 3.99963 21.1958L20.0004 21.1958C20.5527 21.1958 21.0004 20.7481 21.0004 20.1958V9.88574M8.82532 9.87183L8.82531 21.1958M15.1754 15.0746V21.1949",key:"1g8azg"}]]);o("Settings",[["path",{d:"M19.0222 9.24778C18.7686 8.63209 18.9226 7.90445 19.0085 7.24413C19.0745 6.73688 18.9158 6.20546 18.5306 5.8112C18.1561 5.42795 17.6471 5.25574 17.1517 5.29628C16.465 5.35248 15.6993 5.49169 15.0673 5.2171C15.0337 5.20249 15 5.18812 14.9661 5.17399C14.3637 4.92272 13.9467 4.33388 13.548 3.81707C13.211 3.38025 12.6823 3.09888 12.088 3.09888C11.4954 3.09888 10.9681 3.37859 10.631 3.81318C10.2309 4.32895 9.81229 4.91673 9.20918 5.1664C9.17044 5.18244 9.13187 5.19879 9.09347 5.21545C8.46538 5.48794 7.70569 5.35157 7.02328 5.29619C6.5283 5.25601 6.01978 5.42825 5.64558 5.8112C5.26693 6.19871 5.10715 6.71872 5.16447 7.21806C5.24116 7.88619 5.39313 8.62174 5.13657 9.2434C4.89276 9.83417 4.31732 10.2511 3.8084 10.6377C3.36536 10.9743 3.07928 11.5068 3.07928 12.1061C3.07928 12.706 3.36595 13.239 3.80978 13.5755C4.31844 13.9612 4.8932 14.3775 5.13676 14.9675C5.39353 15.5896 5.24077 16.3258 5.16315 16.9943C5.1051 17.4943 5.26479 18.0153 5.64401 18.4034C6.01864 18.7868 6.5279 18.959 7.02343 18.9183C7.70705 18.8621 8.46835 18.7243 9.09777 18.9969C9.13378 19.0125 9.16993 19.0278 9.20622 19.0429C9.81052 19.2933 10.2294 19.8832 10.6298 20.4005C10.9669 20.8359 11.4947 21.1163 12.088 21.1163C12.683 21.1163 13.2122 20.8343 13.5491 20.3966C13.9481 19.8783 14.3654 19.2873 14.969 19.0353C15.0005 19.0221 15.0318 19.0088 15.0631 18.9952C15.6963 18.7205 16.4636 18.8612 17.1516 18.9182C17.6475 18.9592 18.1572 18.7871 18.5321 18.4034C18.9179 18.0085 19.0765 17.4761 19.0098 16.9682C18.9229 16.3076 18.7682 15.5793 19.022 14.9632C19.2634 14.3774 19.836 13.9664 20.346 13.5906C20.8013 13.255 21.0967 12.715 21.0967 12.1061C21.0967 11.4977 20.8019 10.9582 20.3474 10.6226C19.8372 10.2458 19.2638 9.83426 19.0222 9.24778Z",key:"102x66"}],["path",{d:"M12.0002 15.1051C13.657 15.1051 15.0002 13.762 15.0002 12.1051C15.0002 10.4482 13.657 9.1051 12.0002 9.1051C10.3433 9.1051 9.00018 10.4482 9.00018 12.1051C9.00018 13.762 10.3433 15.1051 12.0002 15.1051Z",key:"153c57"}]]);var g=o("SqlEditor",[["path",{d:"M7.89844 8.4342L11.5004 12.0356L7.89844 15.6375M12 15.3292H16.5M5 21.1055H19C20.1046 21.1055 21 20.21 21 19.1055V5.10547C21 4.0009 20.1046 3.10547 19 3.10547H5C3.89543 3.10547 3 4.0009 3 5.10547V19.1055C3 20.21 3.89543 21.1055 5 21.1055Z",key:"orzc99"}]]),x=o("Storage",[["path",{d:"M19.4995 11.3685V8.50725L14.0723 3.10584H5.49951C4.94722 3.10584 4.49951 3.55355 4.49951 4.10584V9.1051M19.4468 8.48218L14.0701 3.10547L14.0701 7.48218C14.0701 8.03446 14.5178 8.48218 15.0701 8.48218L19.4468 8.48218ZM6.86675 9.1051H3.96045C3.40816 9.1051 2.96045 9.55282 2.96045 10.1051V19.1051C2.96045 20.2097 3.85588 21.1051 4.96045 21.1051H18.9604C20.065 21.1051 20.9604 20.2097 20.9604 19.1051V12.3685C20.9604 11.8162 20.5127 11.3685 19.9605 11.3685H9.98622C9.72382 11.3685 9.47194 11.2654 9.28489 11.0813L7.56808 9.39226C7.38103 9.20824 7.12915 9.1051 6.86675 9.1051Z",key:"1liyj6"}]]),b=o("TableEditor",[["path",{d:"M2.9707 15.3494L20.9707 15.355M20.9405 9.61588H2.99699M8.77661 9.61588V21.1367M20.9405 5.85547V19.1367C20.9405 20.2413 20.0451 21.1367 18.9405 21.1367H4.99699C3.89242 21.1367 2.99699 20.2413 2.99699 19.1367V5.85547C2.99699 4.7509 3.89242 3.85547 4.99699 3.85547H18.9405C20.0451 3.85547 20.9405 4.7509 20.9405 5.85547Z",key:"1qrasg"}]]),y=o("User",[["path",{d:"M7.06473 19.6328C4.61648 18.0244 3 15.2537 3 12.1055C3 7.13491 7.02944 3.10547 12 3.10547C16.9706 3.10547 21 7.13491 21 12.1055C21 15.2537 19.4273 18.0094 16.979 19.6178M16.9799 22.2844V19.7136C16.9799 17.0258 14.8011 14.8469 12.1133 14.8469C9.42547 14.8469 7.24658 17.0258 7.24658 19.7136V22.2844M15 11.8469C15 13.5038 13.6569 14.8469 12 14.8469C10.3431 14.8469 9 13.5038 9 11.8469C9 10.1901 10.3431 8.84692 12 8.84692C13.6569 8.84692 15 10.1901 15 11.8469Z",key:"173y10"}]])},52823:function(e,t,n){"use strict";n.d(t,{Z:function(){return eW}});var a={};n.r(a),n.d(a,{create:function(){return T},list:function(){return z},remove:function(){return L},retrieve:function(){return I},update:function(){return D}});var r={};n.r(r),n.d(r,{create:function(){return B},list:function(){return U},pgFunctionArrayZod:function(){return M},pgFunctionCreateZod:function(){return H},pgFunctionDeleteZod:function(){return $},pgFunctionOptionalZod:function(){return F},pgFunctionUpdateZod:function(){return V},pgFunctionZod:function(){return O},remove:function(){return G},retrieve:function(){return Z},update:function(){return q}});var s=n(65905);let o='\n-- Can\'t use pg_authid here since some managed Postgres providers don\'t expose it\n-- https://github.com/supabase/postgres-meta/issues/212\n\nselect\n  r.oid as id,\n  rolname as name,\n  rolsuper as "isSuperuser",\n  rolcreatedb as "canCreateDb",\n  rolcreaterole as "canCreateRole",\n  rolinherit as "inheritRole",\n  rolcanlogin as "canLogin",\n  rolreplication as "isReplicationRole",\n  rolbypassrls as "canBypassRls",\n  (\n    select\n      count(*)\n    from\n      pg_stat_activity\n    where\n      r.rolname = pg_stat_activity.usename\n  ) as "activeConnections",\n  case when rolconnlimit = -1 then current_setting(\'max_connections\') :: int8\n       else rolconnlimit\n  end as "connectionLimit",\n  rolvaliduntil as "validUntil",\n  coalesce(r_config.role_configs, \'{}\') as config\nfrom\n  pg_roles r\n  left join (\n    select\n      oid,\n      jsonb_object_agg(param, value) filter (where param is not null) as role_configs\n    from\n      (\n        select\n          oid,\n          (string_to_array(unnest(rolconfig), \'=\'))[1] as param,\n          (string_to_array(unnest(rolconfig), \'=\'))[2] as value\n        from\n          pg_roles\n      ) as _\n    group by\n      oid\n  ) r_config on r_config.oid = r.oid\n';var i=n(5394);let l=i.z.object({id:i.z.number(),name:i.z.string(),isSuperuser:i.z.boolean(),canCreateDb:i.z.boolean(),canCreateRole:i.z.boolean(),inheritRole:i.z.boolean(),canLogin:i.z.boolean(),isReplicationRole:i.z.boolean(),canBypassRls:i.z.boolean(),activeConnections:i.z.number(),connectionLimit:i.z.number(),validUntil:i.z.union([i.z.string(),i.z.null()]),config:i.z.record(i.z.string(),i.z.string())}),c=i.z.array(l),d=i.z.optional(l);function u(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name));throw Error("Must provide either id or name")}let p=["information_schema","pg_catalog","pg_toast"],m=(e,t)=>"\nCOALESCE(\n  (\n    SELECT\n      array_agg(row_to_json(".concat(e,")) FILTER (WHERE ").concat(t,")\n    FROM\n      ").concat(e,"\n  ),\n  '{}'\n) AS ").concat(e);function f(e,t,n){return(n&&(t=n.concat(null!=t?t:[])),null==e?void 0:e.length)?"IN (".concat(e.map(s.i0).join(","),")"):(null==t?void 0:t.length)?"NOT IN (".concat(t.map(s.i0).join(","),")"):""}function h(e,t){return"raise exception 'Cannot find ".concat(e," with: %', ").concat((0,s.i0)(t),";")}let g="\n-- Adapted from information_schema.columns\n\nSELECT\n  c.oid :: int8 AS table_id,\n  nc.nspname AS schema,\n  c.relname AS table,\n  (c.oid || '.' || a.attnum) AS id,\n  a.attnum AS ordinal_position,\n  a.attname AS name,\n  CASE\n    WHEN a.atthasdef THEN pg_get_expr(ad.adbin, ad.adrelid)\n    ELSE NULL\n  END AS default_value,\n  CASE\n    WHEN t.typtype = 'd' THEN CASE\n      WHEN bt.typelem <> 0 :: oid\n      AND bt.typlen = -1 THEN 'ARRAY'\n      WHEN nbt.nspname = 'pg_catalog' THEN format_type(t.typbasetype, NULL)\n      ELSE 'USER-DEFINED'\n    END\n    ELSE CASE\n      WHEN t.typelem <> 0 :: oid\n      AND t.typlen = -1 THEN 'ARRAY'\n      WHEN nt.nspname = 'pg_catalog' THEN format_type(a.atttypid, NULL)\n      ELSE 'USER-DEFINED'\n    END\n  END AS data_type,\n  COALESCE(bt.typname, t.typname) AS format,\n  a.attidentity IN ('a', 'd') AS is_identity,\n  CASE\n    a.attidentity\n    WHEN 'a' THEN 'ALWAYS'\n    WHEN 'd' THEN 'BY DEFAULT'\n    ELSE NULL\n  END AS identity_generation,\n  a.attgenerated IN ('s') AS is_generated,\n  NOT (\n    a.attnotnull\n    OR t.typtype = 'd' AND t.typnotnull\n  ) AS is_nullable,\n  (\n    c.relkind IN ('r', 'p')\n    OR c.relkind IN ('v', 'f') AND pg_column_is_updatable(c.oid, a.attnum, FALSE)\n  ) AS is_updatable,\n  uniques.table_id IS NOT NULL AS is_unique,\n  check_constraints.definition AS \"check\",\n  array_to_json(\n    array(\n      SELECT\n        enumlabel\n      FROM\n        pg_catalog.pg_enum enums\n      WHERE\n        enums.enumtypid = coalesce(bt.oid, t.oid)\n        OR enums.enumtypid = coalesce(bt.typelem, t.typelem)\n      ORDER BY\n        enums.enumsortorder\n    )\n  ) AS enums,\n  col_description(c.oid, a.attnum) AS comment\nFROM\n  pg_attribute a\n  LEFT JOIN pg_attrdef ad ON a.attrelid = ad.adrelid\n  AND a.attnum = ad.adnum\n  JOIN (\n    pg_class c\n    JOIN pg_namespace nc ON c.relnamespace = nc.oid\n  ) ON a.attrelid = c.oid\n  JOIN (\n    pg_type t\n    JOIN pg_namespace nt ON t.typnamespace = nt.oid\n  ) ON a.atttypid = t.oid\n  LEFT JOIN (\n    pg_type bt\n    JOIN pg_namespace nbt ON bt.typnamespace = nbt.oid\n  ) ON t.typtype = 'd'\n  AND t.typbasetype = bt.oid\n  LEFT JOIN (\n    SELECT DISTINCT ON (table_id, ordinal_position)\n      conrelid AS table_id,\n      conkey[1] AS ordinal_position\n    FROM pg_catalog.pg_constraint\n    WHERE contype = 'u' AND cardinality(conkey) = 1\n  ) AS uniques ON uniques.table_id = c.oid AND uniques.ordinal_position = a.attnum\n  LEFT JOIN (\n    -- We only select the first column check\n    SELECT DISTINCT ON (table_id, ordinal_position)\n      conrelid AS table_id,\n      conkey[1] AS ordinal_position,\n      substring(\n        pg_get_constraintdef(pg_constraint.oid, true),\n        8,\n        length(pg_get_constraintdef(pg_constraint.oid, true)) - 8\n      ) AS \"definition\"\n    FROM pg_constraint\n    WHERE contype = 'c' AND cardinality(conkey) = 1\n    ORDER BY table_id, ordinal_position, oid asc\n  ) AS check_constraints ON check_constraints.table_id = c.oid AND check_constraints.ordinal_position = a.attnum\nWHERE\n  NOT pg_is_other_temp_schema(nc.oid)\n  AND a.attnum > 0\n  AND NOT a.attisdropped\n  AND (c.relkind IN ('r', 'v', 'm', 'f', 'p'))\n  AND (\n    pg_has_role(c.relowner, 'USAGE')\n    OR has_column_privilege(\n      c.oid,\n      a.attnum,\n      'SELECT, INSERT, UPDATE, REFERENCES'\n    )\n  )\n",x=i.z.object({id:i.z.string(),table_id:i.z.number(),schema:i.z.string(),table:i.z.string(),name:i.z.string(),ordinal_position:i.z.number(),data_type:i.z.string(),format:i.z.string(),is_identity:i.z.boolean(),identity_generation:i.z.string().nullable(),is_generated:i.z.boolean(),is_nullable:i.z.boolean(),is_updatable:i.z.boolean(),is_unique:i.z.boolean(),check:i.z.string().nullable(),default_value:i.z.any().nullable(),enums:i.z.array(i.z.string()),comment:i.z.string().nullable()}),b=i.z.array(x),y=i.z.optional(x);function v(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema&&e.table)return"schema = ".concat((0,s.i0)(e.schema)," AND ").concat((0,s.yR)("table")," = ").concat((0,s.i0)(e.table)," AND name = ").concat((0,s.i0)(e.name));throw Error("Must provide either id or schema, name and table")}let j="\n-- Adapted from information_schema.schemata\n\nselect\n  n.oid as id,\n  n.nspname as name,\n  u.rolname as owner\nfrom\n  pg_namespace n,\n  pg_roles u\nwhere\n  n.nspowner = u.oid\n  and (\n    pg_has_role(n.nspowner, 'USAGE')\n    or has_schema_privilege(n.oid, 'CREATE, USAGE')\n  )\n  and not pg_catalog.starts_with(n.nspname, 'pg_temp_')\n  and not pg_catalog.starts_with(n.nspname, 'pg_toast_temp_')\n",_=i.z.object({id:i.z.number(),name:i.z.string(),owner:i.z.string()}),N=i.z.array(_),w=i.z.optional(_),S=i.z.object({table_id:i.z.number(),name:i.z.string(),schema:i.z.string(),table_name:i.z.string()}),C=i.z.object({id:i.z.number(),constraint_name:i.z.string(),source_schema:i.z.string(),source_table_name:i.z.string(),source_column_name:i.z.string(),target_table_schema:i.z.string(),target_table_name:i.z.string(),target_column_name:i.z.string()}),E=i.z.object({id:i.z.number(),schema:i.z.string(),name:i.z.string(),rls_enabled:i.z.boolean(),rls_forced:i.z.boolean(),replica_identity:i.z.enum(["DEFAULT","INDEX","FULL","NOTHING"]),bytes:i.z.number(),size:i.z.string(),live_rows_estimate:i.z.number(),dead_rows_estimate:i.z.number(),comment:i.z.string().nullable(),primary_keys:i.z.array(S),relationships:i.z.array(C),columns:b.optional()}),k=i.z.array(E);function A(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name)," and ").concat((0,s.yR)("schema")," = ").concat((0,s.i0)(e.schema));throw Error("Must provide either id or name and schema")}function z(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r,includeColumns:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=R({includeColumns:s}),i=f(t,n,e?void 0:p);return i&&(o+=" where schema ".concat(i)),a&&(o+=" limit ".concat(a)),r&&(o+=" offset ".concat(r)),{sql:o,zod:k}}function I(e){let t=A(e);return{sql:"".concat(R({includeColumns:!0})," where ").concat(t,";"),zod:E.optional()}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cascade:!1},n=A(e);return{sql:"\n    do $$\n    declare\n        old record;\n    begin\n        with tables as (".concat(R({includeColumns:!1}),")\n        select * into old from tables where ").concat(n,";\n        if old is null then\n           ").concat(h("table",n),"\n        end if;\n        execute format('drop table %I.%I ").concat(t.cascade?"cascade":"restrict","', old.schema, old.name);\n    end\n    $$;\n    ")}}let R=e=>{let{includeColumns:t}=e;return"\n  with tables as (".concat("\nSELECT\n  c.oid :: int8 AS id,\n  nc.nspname AS schema,\n  c.relname AS name,\n  c.relrowsecurity AS rls_enabled,\n  c.relforcerowsecurity AS rls_forced,\n  CASE\n    WHEN c.relreplident = 'd' THEN 'DEFAULT'\n    WHEN c.relreplident = 'i' THEN 'INDEX'\n    WHEN c.relreplident = 'f' THEN 'FULL'\n    ELSE 'NOTHING'\n  END AS replica_identity,\n  pg_total_relation_size(format('%I.%I', nc.nspname, c.relname)) :: int8 AS bytes,\n  pg_size_pretty(\n    pg_total_relation_size(format('%I.%I', nc.nspname, c.relname))\n  ) AS size,\n  pg_stat_get_live_tuples(c.oid) AS live_rows_estimate,\n  pg_stat_get_dead_tuples(c.oid) AS dead_rows_estimate,\n  obj_description(c.oid) AS comment,\n  coalesce(pk.primary_keys, '[]') as primary_keys,\n  coalesce(\n    jsonb_agg(relationships) filter (where relationships is not null),\n    '[]'\n  ) as relationships\nFROM\n  pg_namespace nc\n  JOIN pg_class c ON nc.oid = c.relnamespace\n  left join (\n    select\n      table_id,\n      jsonb_agg(_pk.*) as primary_keys\n    from (\n      select\n        n.nspname as schema,\n        c.relname as table_name,\n        a.attname as name,\n        c.oid :: int8 as table_id\n      from\n        pg_index i,\n        pg_class c,\n        pg_attribute a,\n        pg_namespace n\n      where\n        i.indrelid = c.oid\n        and c.relnamespace = n.oid\n        and a.attrelid = c.oid\n        and a.attnum = any (i.indkey)\n        and i.indisprimary\n    ) as _pk\n    group by table_id\n  ) as pk\n  on pk.table_id = c.oid\n  left join (\n    select\n      c.oid :: int8 as id,\n      c.conname as constraint_name,\n      nsa.nspname as source_schema,\n      csa.relname as source_table_name,\n      sa.attname as source_column_name,\n      nta.nspname as target_table_schema,\n      cta.relname as target_table_name,\n      ta.attname as target_column_name\n    from\n      pg_constraint c\n    join (\n      pg_attribute sa\n      join pg_class csa on sa.attrelid = csa.oid\n      join pg_namespace nsa on csa.relnamespace = nsa.oid\n    ) on sa.attrelid = c.conrelid and sa.attnum = any (c.conkey)\n    join (\n      pg_attribute ta\n      join pg_class cta on ta.attrelid = cta.oid\n      join pg_namespace nta on cta.relnamespace = nta.oid\n    ) on ta.attrelid = c.confrelid and ta.attnum = any (c.confkey)\n    where\n      c.contype = 'f'\n  ) as relationships\n  on (relationships.source_schema = nc.nspname and relationships.source_table_name = c.relname)\n  or (relationships.target_table_schema = nc.nspname and relationships.target_table_name = c.relname)\nWHERE\n  c.relkind IN ('r', 'p')\n  AND NOT pg_is_other_temp_schema(nc.oid)\n  AND (\n    pg_has_role(c.relowner, 'USAGE')\n    OR has_table_privilege(\n      c.oid,\n      'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n    )\n    OR has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n  )\ngroup by\n  c.oid,\n  c.relname,\n  c.relrowsecurity,\n  c.relforcerowsecurity,\n  c.relreplident,\n  nc.nspname,\n  pk.primary_keys\n",")\n  ").concat(t?", columns as (".concat(g,")"):"","\n  select\n    *\n    ").concat(t?", ".concat(m("columns","columns.table_id = tables.id")):"","\n  from tables")};function T(e){let{name:t,schema:n="public",comment:a}=e;return{sql:"\ndo $$\nbegin\n  execute format('create table %I.%I ()', ".concat((0,s.i0)(n),", ").concat((0,s.i0)(t),");\n  ").concat(void 0===a?"":"\n  execute format('comment on table %I.%I is %L', ".concat((0,s.i0)(n),", ").concat((0,s.i0)(t),", ").concat((0,s.i0)(a),");"),"\nend\n$$;")}}function D(e,t){let{name:n,schema:a,rls_enabled:r,rls_forced:o,replica_identity:i,replica_identity_index:l,primary_keys:c,comment:d}=t;return{sql:"\nDO $$\nDECLARE\n  v_table record;\n  r record;\nBEGIN\n  WITH tables AS (\n    ".concat(R({includeColumns:!1}),"\n  )\n  SELECT *\n  INTO v_table\n  FROM tables\n  WHERE ").concat(A(e),";\n\n  IF v_table IS NULL THEN\n    ").concat(h("table",A(e)),"\n  END IF;\n\n  ").concat(void 0!==r?"execute format('ALTER TABLE %I.%I %s ROW LEVEL SECURITY',\n          v_table.schema, v_table.name,\n          CASE WHEN ".concat((0,s.i0)(r)," THEN 'ENABLE' ELSE 'DISABLE' END);"):"","\n\n  ").concat(void 0!==o?"execute format('ALTER TABLE %I.%I %s FORCE ROW LEVEL SECURITY',\n          v_table.schema, v_table.name,\n          CASE WHEN ".concat((0,s.i0)(o)," THEN '' ELSE 'NO' END);"):"","\n\n  ").concat(void 0!==i?"execute format('ALTER TABLE %I.%I REPLICA IDENTITY %s%s',\n          v_table.schema, v_table.name,\n          ".concat((0,s.i0)(i),",\n          CASE WHEN ").concat((0,s.i0)(i)," = 'INDEX' \n            THEN format(' USING INDEX %I', ").concat((0,s.i0)(l),")\n            ELSE '' END);"):"","\n\n  ").concat(void 0!==c?"\n    -- Drop existing primary key if any\n    FOR r IN (\n      SELECT conname\n      FROM pg_constraint\n      WHERE conrelid = format('%I.%I', v_table.schema, v_table.name)::regclass\n      AND contype = 'p'\n    ) LOOP\n      execute format('ALTER TABLE %I.%I DROP CONSTRAINT %I',\n        v_table.schema, v_table.name, r.conname);\n    END LOOP;\n\n    ".concat(c.length>0?"execute format('ALTER TABLE %I.%I ADD PRIMARY KEY (%s)',\n            v_table.schema, v_table.name,\n            ".concat((0,s.i0)(c.map(e=>e.name).join(", ")),");"):""):"","\n\n  ").concat(void 0!==d?"execute format('COMMENT ON TABLE %I.%I IS %L',\n          v_table.schema, v_table.name,\n          ".concat((0,s.i0)(d),");"):"","\n\n  ").concat(void 0!==a?"execute format('ALTER TABLE %I.%I SET SCHEMA %I',\n          v_table.schema, v_table.name,\n          ".concat((0,s.i0)(a),");"):"","\n\n  ").concat(void 0!==n?"\n      if ".concat((0,s.i0)(n)," != v_table.name then\n        execute format('ALTER TABLE %I.%I RENAME TO %I',\n            ").concat(void 0!==a?(0,s.i0)(a):"v_table.schema",",\n            v_table.name,\n            ").concat((0,s.i0)(n),");\n      end if;"):"","\nEND $$;")}}let P="\n-- CTE with sane arg_modes, arg_names, and arg_types.\n-- All three are always of the same length.\n-- All three include all args, including OUT and TABLE args.\nwith functions as (\n  select\n    *,\n    -- proargmodes is null when all arg modes are IN\n    coalesce(\n      p.proargmodes,\n      array_fill('i'::text, array[cardinality(coalesce(p.proallargtypes, p.proargtypes))])\n    ) as arg_modes,\n    -- proargnames is null when all args are unnamed\n    coalesce(\n      p.proargnames,\n      array_fill(''::text, array[cardinality(coalesce(p.proallargtypes, p.proargtypes))])\n    ) as arg_names,\n    -- proallargtypes is null when all arg modes are IN\n    coalesce(p.proallargtypes, p.proargtypes) as arg_types,\n    array_cat(\n      array_fill(false, array[pronargs - pronargdefaults]),\n      array_fill(true, array[pronargdefaults])) as arg_has_defaults\n  from\n    pg_proc as p\n  where\n    p.prokind = 'f'\n)\nselect\n  f.oid as id,\n  n.nspname as schema,\n  f.proname as name,\n  l.lanname as language,\n  case\n    when l.lanname = 'internal' then ''\n    else f.prosrc\n  end as definition,\n  case\n    when l.lanname = 'internal' then f.prosrc\n    else pg_get_functiondef(f.oid)\n  end as complete_statement,\n  coalesce(f_args.args, '[]') as args,\n  pg_get_function_arguments(f.oid) as argument_types,\n  pg_get_function_identity_arguments(f.oid) as identity_argument_types,\n  f.prorettype as return_type_id,\n  pg_get_function_result(f.oid) as return_type,\n  nullif(rt.typrelid, 0) as return_type_relation_id,\n  f.proretset as is_set_returning_function,\n  case\n    when f.provolatile = 'i' then 'IMMUTABLE'\n    when f.provolatile = 's' then 'STABLE'\n    when f.provolatile = 'v' then 'VOLATILE'\n  end as behavior,\n  f.prosecdef as security_definer,\n  f_config.config_params as config_params\nfrom\n  functions f\n  left join pg_namespace n on f.pronamespace = n.oid\n  left join pg_language l on f.prolang = l.oid\n  left join pg_type rt on rt.oid = f.prorettype\n  left join (\n    select\n      oid,\n      jsonb_object_agg(param, value) filter (where param is not null) as config_params\n    from\n      (\n        select\n          oid,\n          (string_to_array(unnest(proconfig), '='))[1] as param,\n          (string_to_array(unnest(proconfig), '='))[2] as value\n        from\n          functions\n      ) as t\n    group by\n      oid\n  ) f_config on f_config.oid = f.oid\n  left join (\n    select\n      oid,\n      jsonb_agg(jsonb_build_object(\n        'mode', t2.mode,\n        'name', name,\n        'type_id', type_id,\n        -- Cast null into false boolean\n        'has_default', COALESCE(has_default, false)\n      )) as args\n    from\n      (\n        select\n          oid,\n          unnest(arg_modes) as mode,\n          unnest(arg_names) as name,\n          -- Coming from: coalesce(p.proallargtypes, p.proargtypes) postgres won't automatically assume\n          -- integer, we need to cast it to be properly parsed\n          unnest(arg_types)::int8 as type_id,\n          unnest(arg_has_defaults) as has_default\n        from\n          functions\n      ) as t1,\n      lateral (\n        select\n          case\n            when t1.mode = 'i' then 'in'\n            when t1.mode = 'o' then 'out'\n            when t1.mode = 'b' then 'inout'\n            when t1.mode = 'v' then 'variadic'\n            else 'table'\n          end as mode\n      ) as t2\n    group by\n      t1.oid\n  ) f_args on f_args.oid = f.oid\n",O=i.z.object({id:i.z.number(),schema:i.z.string(),name:i.z.string(),language:i.z.string(),definition:i.z.string(),complete_statement:i.z.string(),args:i.z.array(i.z.object({mode:i.z.union([i.z.literal("in"),i.z.literal("out"),i.z.literal("inout"),i.z.literal("variadic"),i.z.literal("table")]),name:i.z.string(),type_id:i.z.number(),has_default:i.z.boolean()})),argument_types:i.z.string(),identity_argument_types:i.z.string(),return_type_id:i.z.number(),return_type:i.z.string(),return_type_relation_id:i.z.union([i.z.number(),i.z.null()]),is_set_returning_function:i.z.boolean(),behavior:i.z.union([i.z.literal("IMMUTABLE"),i.z.literal("STABLE"),i.z.literal("VOLATILE")]),security_definer:i.z.boolean(),config_params:i.z.union([i.z.record(i.z.string(),i.z.string()),i.z.null()])}),M=i.z.array(O),F=i.z.optional(O);function U(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="\n    with f as (\n      ".concat(P,"\n    )\n    select\n      f.*\n    from f\n  "),o=f(t,n,e?void 0:p);return o&&(s+=" where schema ".concat(o)),a&&(s="".concat(s," limit ").concat(a)),r&&(s="".concat(s," offset ").concat(r)),{sql:s,zod:M}}function Z(e){let{id:t,name:n,schema:a="public",args:r=[]}=e;if(t)return{sql:"\n      with f as (\n        ".concat(P,"\n      )\n      select\n        f.*\n      from f where id = ").concat((0,s.i0)(t),";"),zod:F};if(n&&a&&r)return{sql:"with f as (\n      ".concat(P,"\n    )\n    select\n      f.*\n    from f join pg_proc as p on id = p.oid where schema = ").concat((0,s.i0)(a)," and name = ").concat((0,s.i0)(n)," and p.proargtypes::text = ").concat(r.length?"(\n          select string_agg(type_oid::text, ' ') from (\n            select (\n              split_args.arr[\n                array_length(\n                  split_args.arr,\n                  1\n                )\n              ]::regtype::oid\n            ) as type_oid from (\n              select string_to_array(\n                unnest(\n                  array[".concat(r.map(s.i0),"]\n                ),\n                ' '\n              ) as arr\n            ) as split_args\n          ) args\n        )"):(0,s.i0)("")),zod:F};throw Error("Must provide either id or name and schema")}let H=i.z.object({name:i.z.string(),definition:i.z.string(),args:i.z.array(i.z.string()).optional(),behavior:i.z.enum(["IMMUTABLE","STABLE","VOLATILE"]).optional(),config_params:i.z.record(i.z.string(),i.z.string()).optional(),schema:i.z.string().optional(),language:i.z.string().optional(),return_type:i.z.string().optional(),security_definer:i.z.boolean().optional()});function W(e){let{name:t,schema:n,args:a,definition:r,return_type:o,language:i,behavior:l,security_definer:c,config_params:d}=e,{replace:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"\n    CREATE ".concat(u?"OR REPLACE":""," FUNCTION ").concat((0,s.yR)(n),".").concat((0,s.yR)(t),"(").concat((null==a?void 0:a.join(", "))||"",")\n    RETURNS ").concat(o,"\n    AS ").concat((0,s.i0)(r),"\n    LANGUAGE ").concat(i,"\n    ").concat(l,"\n    CALLED ON NULL INPUT\n    ").concat(c?"SECURITY DEFINER":"SECURITY INVOKER","\n    ").concat(d?Object.entries(d).map(e=>{let[t,n]=e;return"SET ".concat(t," ").concat("FROM CURRENT"===n?"FROM CURRENT":"TO "+('""'===n?"''":n))}).join("\n"):"",";\n  ")}function B(e){let{name:t,schema:n="public",args:a=[],definition:r,return_type:s="void",language:o="sql",behavior:l="VOLATILE",security_definer:c=!1,config_params:d={}}=e;return{sql:W({name:t,schema:n,args:a,definition:r,return_type:s,language:o,behavior:l,security_definer:c,config_params:d}),zod:i.z.void()}}let V=i.z.object({name:i.z.string().optional(),schema:i.z.string().optional(),definition:i.z.string().optional()});function q(e,t){var n;let{name:a,schema:r,definition:o}=t,l=e.argument_types.split(", "),c=e.identity_argument_types,d="string"==typeof o?W({...e,definition:o,args:l,config_params:null!==(n=e.config_params)&&void 0!==n?n:{}},{replace:!0}):"",u=a&&a!==e.name?"ALTER FUNCTION ".concat((0,s.yR)(e.schema),".").concat((0,s.yR)(e.name),"(").concat(c,") RENAME TO ").concat((0,s.yR)(a),";"):"",p=r&&r!==e.schema?"ALTER FUNCTION ".concat((0,s.yR)(e.schema),".").concat((0,s.yR)(a||e.name),"(").concat(c,")  SET SCHEMA ").concat((0,s.yR)(r),";"):"";return{sql:"\n    DO LANGUAGE plpgsql $$\n    BEGIN\n      IF ".concat("string"==typeof o?"TRUE":"FALSE"," THEN\n        ").concat(d,"\n\n        IF (\n          SELECT id\n          FROM (").concat(P,") AS f\n          WHERE f.schema = ").concat((0,s.i0)(e.schema),"\n          AND f.name = ").concat((0,s.i0)(e.name),"\n          AND f.identity_argument_types = ").concat((0,s.i0)(c),"\n        ) != ").concat(e.id," THEN\n          RAISE EXCEPTION 'Cannot find function \"").concat(e.schema,'"."').concat(e.name,'"(').concat(c,")';\n        END IF;\n      END IF;\n\n      ").concat(u,"\n\n      ").concat(p,"\n    END;\n    $$;\n  "),zod:i.z.void()}}let $=i.z.object({cascade:i.z.boolean().default(!1).optional()});function G(e){let{cascade:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{sql:"DROP FUNCTION ".concat((0,s.yR)(e.schema),".").concat((0,s.yR)(e.name),"\n  (").concat(e.identity_argument_types,")\n  ").concat(t?"CASCADE":"RESTRICT",";"),zod:i.z.void()}}let Y="\n-- Despite the name `table_privileges`, this includes other kinds of relations:\n-- views, matviews, etc. \"Relation privileges\" just doesn't roll off the tongue.\n--\n-- For each relation, get its relacl in a jsonb format,\n-- e.g.\n--\n-- '{postgres=arwdDxt/postgres}'\n--\n-- becomes\n--\n-- [\n--   {\n--     \"grantee\": \"postgres\",\n--     \"grantor\": \"postgres\",\n--     \"is_grantable\": false,\n--     \"privilege_type\": \"INSERT\"\n--   },\n--   ...\n-- ]\nselect\n  c.oid as relation_id,\n  nc.nspname as schema,\n  c.relname as name,\n  case\n    when c.relkind = 'r' then 'table'\n    when c.relkind = 'v' then 'view'\n    when c.relkind = 'm' then 'materialized_view'\n    when c.relkind = 'f' then 'foreign_table'\n    when c.relkind = 'p' then 'partitioned_table'\n  end as kind,\n  coalesce(\n    jsonb_agg(\n      jsonb_build_object(\n        'grantor', grantor.rolname,\n        'grantee', grantee.rolname,\n        'privilege_type', _priv.privilege_type,\n        'is_grantable', _priv.is_grantable\n      )\n    ) filter (where _priv is not null),\n    '[]'\n  ) as privileges\nfrom pg_class c\njoin pg_namespace as nc\n  on nc.oid = c.relnamespace\nleft join lateral (\n  select grantor, grantee, privilege_type, is_grantable\n  from aclexplode(coalesce(c.relacl, acldefault('r', c.relowner)))\n) as _priv on true\nleft join pg_roles as grantor\n  on grantor.oid = _priv.grantor\nleft join (\n  select\n    pg_roles.oid,\n    pg_roles.rolname\n  from pg_roles\n  union all\n  select\n    (0)::oid as oid, 'PUBLIC'\n) as grantee (oid, rolname)\n  on grantee.oid = _priv.grantee\nwhere c.relkind in ('r', 'v', 'm', 'f', 'p')\n  and not pg_is_other_temp_schema(c.relnamespace)\n  and (\n    pg_has_role(c.relowner, 'USAGE')\n    or has_table_privilege(\n      c.oid,\n      'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n      || case when current_setting('server_version_num')::int4 >= 170000 then ', MAINTAIN' else '' end\n    )\n    or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n  )\ngroup by\n  c.oid,\n  nc.nspname,\n  c.relname,\n  c.relkind\n",Q=i.z.object({relation_id:i.z.number(),schema:i.z.string(),name:i.z.string(),kind:i.z.union([i.z.literal("table"),i.z.literal("view"),i.z.literal("materialized_view"),i.z.literal("foreign_table"),i.z.literal("partitioned_table")]),privileges:i.z.array(i.z.object({grantor:i.z.string(),grantee:i.z.string(),privilege_type:i.z.union([i.z.literal("SELECT"),i.z.literal("INSERT"),i.z.literal("UPDATE"),i.z.literal("DELETE"),i.z.literal("TRUNCATE"),i.z.literal("REFERENCES"),i.z.literal("TRIGGER"),i.z.literal("MAINTAIN")]),is_grantable:i.z.boolean()}))}),J=i.z.array(Q),X=i.z.optional(Q),K="\nSELECT\n  p.oid :: int8 AS id,\n  p.pubname AS name,\n  p.pubowner::regrole::text AS owner,\n  p.pubinsert AS publish_insert,\n  p.pubupdate AS publish_update,\n  p.pubdelete AS publish_delete,\n  p.pubtruncate AS publish_truncate,\n  CASE\n    WHEN p.puballtables THEN NULL\n    ELSE pr.tables\n  END AS tables\nFROM\n  pg_catalog.pg_publication AS p\n  LEFT JOIN LATERAL (\n    SELECT\n      COALESCE(\n        array_agg(\n          json_build_object(\n            'id',\n            c.oid :: int8,\n            'name',\n            c.relname,\n            'schema',\n            nc.nspname\n          )\n        ),\n        '{}'\n      ) AS tables\n    FROM\n      pg_catalog.pg_publication_rel AS pr\n      JOIN pg_class AS c ON pr.prrelid = c.oid\n      join pg_namespace as nc on c.relnamespace = nc.oid\n    WHERE\n      pr.prpubid = p.oid\n  ) AS pr ON 1 = 1\n",ee=i.z.object({id:i.z.number().optional(),name:i.z.string(),schema:i.z.string()}),et=i.z.object({id:i.z.number(),name:i.z.string(),owner:i.z.string(),publish_insert:i.z.boolean(),publish_update:i.z.boolean(),publish_delete:i.z.boolean(),publish_truncate:i.z.boolean(),tables:i.z.array(ee).nullable()}),en=i.z.array(et),ea=i.z.optional(et);function er(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name));throw Error("Must provide either id or name")}let es="\nSELECT\n  e.name,\n  n.nspname AS schema,\n  e.default_version,\n  x.extversion AS installed_version,\n  e.comment\nFROM\n  pg_available_extensions() e(name, default_version, comment)\n  LEFT JOIN pg_extension x ON e.name = x.extname\n  LEFT JOIN pg_namespace n ON x.extnamespace = n.oid\n",eo=i.z.object({name:i.z.string(),schema:i.z.string().nullable(),default_version:i.z.string(),installed_version:i.z.string().nullable(),comment:i.z.string()}),ei=i.z.array(eo),el=i.z.optional(eo),ec=i.z.object({name:i.z.string(),setting:i.z.string(),category:i.z.string(),group:i.z.string(),subgroup:i.z.string(),unit:i.z.string().nullable(),short_desc:i.z.string(),extra_desc:i.z.string().nullable(),context:i.z.string(),vartype:i.z.string(),source:i.z.string(),min_val:i.z.string().nullable(),max_val:i.z.string().nullable(),enumvals:i.z.array(i.z.string()).nullable(),boot_val:i.z.string().nullable(),reset_val:i.z.string().nullable(),sourcefile:i.z.string().nullable(),sourceline:i.z.number().nullable(),pending_restart:i.z.boolean()}),ed=i.z.array(ec),eu=i.z.object({id:i.z.number(),schema:i.z.string(),name:i.z.string(),is_populated:i.z.boolean(),comment:i.z.string().nullable(),columns:b.optional()}),ep=i.z.array(eu),em=i.z.optional(eu),ef=e=>{let{includeColumns:t}=e;return"\nwith materialized_views as (".concat("\nselect\n  c.oid::int8 as id,\n  n.nspname as schema,\n  c.relname as name,\n  c.relispopulated as is_populated,\n  obj_description(c.oid) as comment\nfrom\n  pg_class c\n  join pg_namespace n on n.oid = c.relnamespace\nwhere\n  c.relkind = 'm'\n",")\n  ").concat(t?", columns as (".concat(g,")"):"","\nselect\n  *\n  ").concat(t?", ".concat(m("columns","columns.table_id = materialized_views.id")):"","\nfrom materialized_views")},eh=i.z.object({id:i.z.number(),schema:i.z.string(),name:i.z.string(),comment:i.z.string().nullable(),columns:b.optional()}),eg=i.z.array(eh),ex=i.z.optional(eh),eb=e=>{let{includeColumns:t}=e;return"\nwith foreign_tables as (".concat("\nselect\n  c.oid::int8 as id,\n  n.nspname as schema,\n  c.relname as name,\n  obj_description(c.oid) as comment\nfrom\n  pg_class c\n  join pg_namespace n on n.oid = c.relnamespace\nwhere\n  c.relkind = 'f'\n",")\n  ").concat(t?", columns as (".concat(g,")"):"","\nselect\n  *\n  ").concat(t?", ".concat(m("columns","columns.table_id = foreign_tables.id")):"","\nfrom foreign_tables")},ey=i.z.object({id:i.z.number(),schema:i.z.string(),name:i.z.string(),is_updatable:i.z.boolean(),comment:i.z.string().nullable(),columns:b.optional()}),ev=i.z.array(ey),ej=i.z.optional(ey),e_=e=>{let{includeColumns:t}=e;return"\nwith views as (".concat("\nSELECT\n  c.oid :: int8 AS id,\n  n.nspname AS schema,\n  c.relname AS name,\n  (pg_relation_is_updatable(c.oid, false) & 20) = 20 AS is_updatable,\n  obj_description(c.oid) AS comment\nFROM\n  pg_class c\n  JOIN pg_namespace n ON n.oid = c.relnamespace\nWHERE\n  c.relkind = 'v'\n",")\n  ").concat(t?", columns as (".concat(g,")"):"","\nselect\n  *\n  ").concat(t?", ".concat(m("columns","columns.table_id = views.id")):"","\nfrom views")},eN="\nselect\n  pol.oid :: int8 as id,\n  n.nspname as schema,\n  c.relname as table,\n  c.oid :: int8 as table_id,\n  pol.polname as name,\n  case\n    when pol.polpermissive then 'PERMISSIVE'::text\n    else 'RESTRICTIVE'::text\n  end as action,\n  case\n    when pol.polroles = '{0}'::oid[] then array_to_json(string_to_array('public'::text, ''::text)::name[])\n    else array_to_json(array(\n      select pg_roles.rolname\n      from pg_roles\n      where pg_roles.oid = any(pol.polroles)\n      order by pg_roles.rolname\n    ))\n  end as roles,\n  case pol.polcmd\n    when 'r'::\"char\" then 'SELECT'::text\n    when 'a'::\"char\" then 'INSERT'::text\n    when 'w'::\"char\" then 'UPDATE'::text\n    when 'd'::\"char\" then 'DELETE'::text\n    when '*'::\"char\" then 'ALL'::text\n    else null::text\n  end as command,\n  pg_get_expr(pol.polqual, pol.polrelid) as definition,\n  pg_get_expr(pol.polwithcheck, pol.polrelid) as check\nfrom\n  pg_policy pol\n  join pg_class c on c.oid = pol.polrelid\n  left join pg_namespace n on n.oid = c.relnamespace\n",ew=i.z.object({id:i.z.number(),schema:i.z.string(),table:i.z.string(),table_id:i.z.number(),name:i.z.string(),action:i.z.union([i.z.literal("PERMISSIVE"),i.z.literal("RESTRICTIVE")]),roles:i.z.array(i.z.string()),command:i.z.union([i.z.literal("SELECT"),i.z.literal("INSERT"),i.z.literal("UPDATE"),i.z.literal("DELETE"),i.z.literal("ALL")]),definition:i.z.union([i.z.string(),i.z.null()]),check:i.z.union([i.z.string(),i.z.null()])}),eS=i.z.array(ew),eC=i.z.optional(ew);function eE(e){if("id"in e&&e.id)return"id = ".concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema&&e.table)return"name = ".concat((0,s.i0)(e.name)," AND schema = ").concat((0,s.i0)(e.schema)," AND table = ").concat((0,s.i0)(e.table));throw Error("Must provide either id or name, schema and table")}let ek="\nSELECT\n  pg_t.oid AS id,\n  pg_t.tgrelid AS table_id,\n  CASE\n    WHEN pg_t.tgenabled = 'D' THEN 'DISABLED'\n    WHEN pg_t.tgenabled = 'O' THEN 'ORIGIN'\n    WHEN pg_t.tgenabled = 'R' THEN 'REPLICA'\n    WHEN pg_t.tgenabled = 'A' THEN 'ALWAYS'\n  END AS enabled_mode,\n  (\n    STRING_TO_ARRAY(\n      ENCODE(pg_t.tgargs, 'escape'), '\\000'\n    )\n  )[:pg_t.tgnargs] AS function_args,\n  is_t.trigger_name AS name,\n  is_t.event_object_table AS table,\n  is_t.event_object_schema AS schema,\n  is_t.action_condition AS condition,\n  is_t.action_orientation AS orientation,\n  is_t.action_timing AS activation,\n  ARRAY_AGG(is_t.event_manipulation)::text[] AS events,\n  pg_p.proname AS function_name,\n  pg_n.nspname AS function_schema\nFROM\n  pg_trigger AS pg_t\nJOIN\n  pg_class AS pg_c\nON pg_t.tgrelid = pg_c.oid\nJOIN information_schema.triggers AS is_t\nON is_t.trigger_name = pg_t.tgname\nAND pg_c.relname = is_t.event_object_table\nAND pg_c.relnamespace = (quote_ident(is_t.event_object_schema))::regnamespace\nJOIN pg_proc AS pg_p\nON pg_t.tgfoid = pg_p.oid\nJOIN pg_namespace AS pg_n\nON pg_p.pronamespace = pg_n.oid\nGROUP BY\n  pg_t.oid,\n  pg_t.tgrelid,\n  pg_t.tgenabled,\n  pg_t.tgargs,\n  pg_t.tgnargs,\n  is_t.trigger_name,\n  is_t.event_object_table,\n  is_t.event_object_schema,\n  is_t.action_condition,\n  is_t.action_orientation,\n  is_t.action_timing,\n  pg_p.proname,\n  pg_n.nspname\n";function eA(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.table&&e.schema)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name)," and ").concat((0,s.yR)("schema")," = ").concat((0,s.i0)(e.schema)," and ").concat((0,s.yR)("table")," = ").concat((0,s.i0)(e.table));throw Error("Must provide either id or name, schema and table")}let ez=i.z.object({id:i.z.number(),table_id:i.z.number(),enabled_mode:i.z.enum(["DISABLED","ORIGIN","REPLICA","ALWAYS"]),function_args:i.z.array(i.z.string()),name:i.z.string(),table:i.z.string(),schema:i.z.string(),condition:i.z.string().nullable(),orientation:i.z.string(),activation:i.z.string(),events:i.z.array(i.z.string()),function_name:i.z.string(),function_schema:i.z.string()}),eI=i.z.array(ez),eL=i.z.optional(ez);i.z.object({name:i.z.string(),schema:i.z.string().optional().default("public"),table:i.z.string(),function_schema:i.z.string().optional().default("public"),function_name:i.z.string(),function_args:i.z.array(i.z.string()).optional(),activation:i.z.enum(["BEFORE","AFTER","INSTEAD OF"]),events:i.z.array(i.z.string()),orientation:i.z.enum(["ROW","STATEMENT"]).optional(),condition:i.z.string().optional()}),i.z.object({name:i.z.string().optional(),enabled_mode:i.z.enum(["ORIGIN","REPLICA","ALWAYS","DISABLED"]).optional()});let eR=i.z.object({id:i.z.number(),name:i.z.string(),schema:i.z.string(),format:i.z.string(),enums:i.z.array(i.z.string()),attributes:i.z.array(i.z.object({name:i.z.string(),type_id:i.z.number()})),comment:i.z.string().nullable()}),eT=i.z.array(eR),eD=i.z.object({version:i.z.string(),version_number:i.z.number(),active_connections:i.z.number(),max_connections:i.z.number()}),eP="\n  SELECT\n    idx.indexrelid::int8 AS id,\n    idx.indrelid::int8 AS table_id,\n    n.nspname AS schema,\n    idx.indnatts AS number_of_attributes,\n    idx.indnkeyatts AS number_of_key_attributes,\n    idx.indisunique AS is_unique,\n    idx.indisprimary AS is_primary,\n    idx.indisexclusion AS is_exclusion,\n    idx.indimmediate AS is_immediate,\n    idx.indisclustered AS is_clustered,\n    idx.indisvalid AS is_valid,\n    idx.indcheckxmin AS check_xmin,\n    idx.indisready AS is_ready,\n    idx.indislive AS is_live,\n    idx.indisreplident AS is_replica_identity,\n    idx.indkey::smallint[] AS key_attributes,\n    idx.indcollation::integer[] AS collation,\n    idx.indclass::integer[] AS class,\n    idx.indoption::smallint[] AS options,\n    idx.indpred AS index_predicate,\n    obj_description(idx.indexrelid, 'pg_class') AS comment,\n    ix.indexdef as index_definition,\n    am.amname AS access_method,\n    jsonb_agg(\n      jsonb_build_object(\n        'attribute_number', a.attnum,\n        'attribute_name', a.attname,\n        'data_type', format_type(a.atttypid, a.atttypmod)\n      )\n      ORDER BY a.attnum\n    ) AS index_attributes\n  FROM\n    pg_index idx\n    JOIN pg_class c ON c.oid = idx.indexrelid\n    JOIN pg_namespace n ON c.relnamespace = n.oid\n    JOIN pg_am am ON c.relam = am.oid\n    JOIN pg_attribute a ON a.attrelid = c.oid AND a.attnum = ANY(idx.indkey)\n    JOIN pg_indexes ix ON c.relname = ix.indexname\n  GROUP BY\n    idx.indexrelid, idx.indrelid, n.nspname, idx.indnatts, idx.indnkeyatts, idx.indisunique, \n    idx.indisprimary, idx.indisexclusion, idx.indimmediate, idx.indisclustered, idx.indisvalid, \n    idx.indcheckxmin, idx.indisready, idx.indislive, idx.indisreplident, idx.indkey, \n    idx.indcollation, idx.indclass, idx.indoption, idx.indexprs, idx.indpred, ix.indexdef, am.amname\n",eO=i.z.object({id:i.z.number(),table_id:i.z.number(),schema:i.z.string(),number_of_attributes:i.z.number(),number_of_key_attributes:i.z.number(),is_unique:i.z.boolean(),is_primary:i.z.boolean(),is_exclusion:i.z.boolean(),is_immediate:i.z.boolean(),is_clustered:i.z.boolean(),is_valid:i.z.boolean(),check_xmin:i.z.boolean(),is_ready:i.z.boolean(),is_live:i.z.boolean(),is_replica_identity:i.z.boolean(),key_attributes:i.z.array(i.z.number()),collation:i.z.array(i.z.number()),class:i.z.array(i.z.number()),options:i.z.array(i.z.number()),index_predicate:i.z.string().nullable(),comment:i.z.string().nullable(),index_definition:i.z.string(),access_method:i.z.string(),index_attributes:i.z.array(i.z.object({attribute_number:i.z.number(),attribute_name:i.z.string(),data_type:i.z.string()}))}),eM=i.z.array(eO),eF=i.z.optional(eO),eU=i.z.object({grantor:i.z.string(),grantee:i.z.string(),privilege_type:i.z.union([i.z.literal("SELECT"),i.z.literal("INSERT"),i.z.literal("UPDATE"),i.z.literal("REFERENCES")]),is_grantable:i.z.boolean()}),eZ=i.z.object({column_id:i.z.string(),relation_schema:i.z.string(),relation_name:i.z.string(),column_name:i.z.string(),privileges:i.z.array(eU)}),eH=i.z.array(eZ);i.z.object({columnId:i.z.string(),grantee:i.z.string(),privilegeType:i.z.union([i.z.literal("ALL"),i.z.literal("SELECT"),i.z.literal("INSERT"),i.z.literal("UPDATE"),i.z.literal("REFERENCES")]),isGrantable:i.z.boolean().optional()});var eW={roles:{list:function(){let{includeDefaultRoles:e=!1,limit:t,offset:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="\nwith\n  roles as (".concat(o,")\nselect\n  *\nfrom\n  roles\nwhere\n  true\n");return e||(a+=" and not pg_catalog.starts_with(name, 'pg_')"),t&&(a+=" limit ".concat(t)),n&&(a+=" offset ".concat(n)),{sql:a,zod:c}},retrieve:function(e){return{sql:"with roles as (".concat(o,") select * from roles where ").concat(u(e),";"),zod:d}},create:function(e){let{name:t,isSuperuser:n=!1,canCreateDb:a=!1,canCreateRole:r=!1,inheritRole:o=!0,canLogin:i=!1,isReplicationRole:l=!1,canBypassRls:c=!1,connectionLimit:d=-1,password:u,validUntil:p,memberOf:m=[],members:f=[],admins:h=[],config:g={}}=e;return{sql:"\ncreate role ".concat((0,s.yR)(t),"\n  ").concat(n?"superuser":"","\n  ").concat(a?"createdb":"","\n  ").concat(r?"createrole":"","\n  ").concat(o?"":"noinherit","\n  ").concat(i?"login":"","\n  ").concat(l?"replication":"","\n  ").concat(c?"bypassrls":"","\n  connection limit ").concat(d,"\n  ").concat(void 0===u?"":"password ".concat((0,s.i0)(u)),"\n  ").concat(void 0===p?"":"valid until ".concat((0,s.i0)(p)),"\n  ").concat(0===m.length?"":"in role ".concat(m.map(s.yR).join(",")),"\n  ").concat(0===f.length?"":"role ".concat(f.map(s.yR).join(",")),"\n  ").concat(0===h.length?"":"admin ".concat(h.map(s.yR).join(",")),"\n  ;\n").concat(Object.entries(g).map(e=>{let[n,a]=e;return"alter role ".concat((0,s.yR)(t)," set ").concat((0,s.yR)(n)," = ").concat((0,s.i0)(a),";")}).join("\n"),"\n")}},update:function(e,t){let{name:n,isSuperuser:a,canCreateDb:r,canCreateRole:i,inheritRole:l,canLogin:c,isReplicationRole:d,canBypassRls:p,connectionLimit:m,password:f,validUntil:h}=t;return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with roles as (".concat(o,")\n  select * into old from roles where ").concat(u(e),";\n  if old is null then\n    raise exception 'Cannot find role with id %', id;\n  end if;\n\n  execute(format('alter role %I\n    ").concat(void 0===a?"":a?"superuser":"nosuperuser","\n    ").concat(void 0===r?"":r?"createdb":"nocreatedb","\n    ").concat(void 0===i?"":i?"createrole":"nocreaterole","\n    ").concat(void 0===l?"":l?"inherit":"noinherit","\n    ").concat(void 0===c?"":c?"login":"nologin","\n    ").concat(void 0===d?"":d?"replication":"noreplication","\n    ").concat(void 0===p?"":p?"bypassrls":"nobypassrls","\n    ").concat(void 0===m?"":"connection limit ".concat(m),"\n    ").concat(void 0===f?"":"password ".concat((0,s.i0)(f)),"\n    ").concat(void 0===h?"":"valid until %L","\n  ', old.name").concat(void 0===h?"":", ".concat((0,s.i0)(h)),"));\n\n  ").concat(void 0===n?"":"\n  -- Using the same name in the rename clause gives an error, so only do it if the new name is different.\n  if ".concat((0,s.i0)(n)," != old.name then\n    execute(format('alter role %I rename to %I;', old.name, ").concat((0,s.i0)(n),"));\n  end if;\n  "),"\nend\n$$;\n")}},remove:function(e){let{ifExists:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with roles as (".concat(o,")\n  select * into old from roles where ").concat(u(e),";\n  if old is null then\n    raise exception 'Cannot find role with id %', id;\n  end if;\n\n  execute(format('drop role ").concat(t?"if exists":""," %I;', old.name));\nend\n$$;\n")}},zod:l},columns:{list:function(){let{tableId:e,includeSystemSchemas:t=!1,includedSchemas:n,excludedSchemas:a,limit:r,offset:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="\nwith\n  columns as (".concat(g,")\nselect\n  *\nfrom\n  columns\nwhere\n true\n"),l=f(n,a,t?void 0:p);return l&&(i+=" and schema ".concat(l)),void 0!==e&&(i+=" and table_id = ".concat((0,s.i0)(e)," ")),r&&(i="".concat(i," limit ").concat(r)),o&&(i="".concat(i," offset ").concat(o)),{sql:i,zod:b}},retrieve:function(e){return{sql:"WITH columns AS (".concat(g,") SELECT * FROM columns WHERE ").concat(v(e),";"),zod:y}},create:function(e){let{table_id:t,name:n,type:a,default_value:r,default_value_format:o="literal",is_identity:i=!1,identity_generation:l="BY DEFAULT",is_nullable:c,is_primary_key:d=!1,is_unique:u=!1,comment:p,check:m}=e,f="";if(i){if(void 0!==r)throw Error("Columns cannot both be identity and have a default value");f="GENERATED ".concat(l," AS IDENTITY")}else if(void 0!==r){let e="expression"===o?r:"'".concat((0,s.i0)(String(r)),"'");f="DEFAULT ".concat(e)}let h=[];return!1===c&&h.push("NOT NULL"),d&&h.push("PRIMARY KEY"),u&&h.push("UNIQUE"),m&&h.push("CHECK (".concat(m,")")),{sql:"\nDO $$\nDECLARE\n  v_schema name;\n  v_table name;\nBEGIN\n  SELECT n.nspname, c.relname INTO v_schema, v_table\n  FROM pg_class c \n  JOIN pg_namespace n ON n.oid = c.relnamespace\n  WHERE c.oid = ".concat((0,s.i0)(t),";\n\n  IF v_schema IS NULL THEN\n    RAISE EXCEPTION 'Table with id % not found', ").concat((0,s.i0)(t),";\n  END IF;\n\n  execute(format(\n    'ALTER TABLE %I.%I ADD COLUMN %I %s ").concat(f," ").concat(h.join(" "),"',\n    v_schema,\n    v_table,\n    ").concat((0,s.i0)(n),",\n    ").concat((0,s.i0)(a),"\n  ));\n  \n  ").concat(p?"execute(format('COMMENT ON COLUMN %I.%I.%I IS %L', v_schema, v_table, ".concat((0,s.i0)(n),", quote_ident(").concat((0,s.i0)(p),")));"):"","\nEND $$;")}},update:function(e,t){let{name:n,type:a,drop_default:r=!1,default_value:o,default_value_format:i="literal",is_identity:l,identity_generation:c="BY DEFAULT",is_nullable:d,is_unique:u,comment:p,check:m}=t;if(l&&void 0!==o)throw Error("Columns cannot both be identity and have a default value");return{sql:"\nDO $$\nDECLARE\n  v_schema name;\n  v_table name;\n  v_column name;\n  v_attnum int2;\n  r record;\nBEGIN\n  WITH RECURSIVE column_info AS (\n    ".concat(g,"\n  )\n  SELECT \n    schema, \n    ").concat((0,s.yR)("table"),",\n    name,\n    ordinal_position::int2\n  INTO v_schema, v_table, v_column, v_attnum\n  FROM column_info \n  WHERE ").concat(v({id:e}),";\n\n  IF v_schema IS NULL THEN\n    RAISE EXCEPTION 'Column with id % not found', ").concat((0,s.i0)(e),";\n  END IF;\n\n  ").concat(void 0!==d?"execute(format('ALTER TABLE %I.%I ALTER COLUMN %I ".concat(d?"DROP NOT NULL":"SET NOT NULL","', v_schema, v_table, v_column));"):"","\n\n  ").concat(a?"execute(format('ALTER TABLE %I.%I ALTER COLUMN %I TYPE %I USING %I::%I', v_schema, v_table, v_column, ".concat((0,s.i0)(a),", v_column, ").concat((0,s.i0)(a),"));"):"","\n\n  ").concat(r?"execute(format('ALTER TABLE %I.%I ALTER COLUMN %I DROP DEFAULT', v_schema, v_table, v_column));":"","\n\n  ").concat(void 0!==o?"execute(format('ALTER TABLE %I.%I ALTER COLUMN %I SET DEFAULT %s', v_schema, v_table, v_column, ".concat("expression"===i?o:(0,s.i0)(o),"));"):"","\n  \n  ").concat(void 0!==l?"execute(format('ALTER TABLE %I.%I ALTER COLUMN %I ".concat(l?"ADD GENERATED ".concat(c," AS IDENTITY"):"DROP IDENTITY IF EXISTS","', v_schema, v_table, v_column));"):"","\n  \n  ").concat(void 0!==u?"execute(format('ALTER TABLE %I.%I ".concat(u?"ADD UNIQUE":"DROP CONSTRAINT IF EXISTS %I_key","', v_schema, v_table, ").concat(u?"(".concat((0,s.i0)(n||"v_column"),")"):"v_column","));"):"","\n\n  ").concat(void 0!==p?"execute(format('COMMENT ON COLUMN %I.%I.%I IS %L', v_schema, v_table, v_column, ".concat((0,s.i0)(p),"));"):"","\n\n  ").concat(void 0!==m?"\n    -- Drop existing check constraint if any\n    FOR r IN (\n      SELECT conname \n      FROM pg_constraint \n      WHERE conrelid = format('%I.%I', v_schema, v_table)::regclass \n      AND contype = 'c' \n      AND conkey = ARRAY[v_attnum]\n    ) LOOP\n      EXECUTE format('ALTER TABLE %I.%I DROP CONSTRAINT %I', v_schema, v_table, r.conname);\n    END LOOP;\n    -- Create the new constraints if mentionned\n    ".concat(null!==m?"execute(format('ALTER TABLE %I.%I ADD CONSTRAINT %I CHECK (%s)', v_schema, v_table, v_column || '_check', ".concat((0,s.i0)(m),"));"):"","\n  "):"","\n  ").concat(n?"execute(format('ALTER TABLE %I.%I RENAME COLUMN %I TO %I', v_schema, v_table, v_column, ".concat((0,s.i0)(n),"));"):"","\nEND $$;")}},remove:function(e){let{cascade:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{sql:"\nDO $$\nDECLARE\n  v_schema name;\n  v_table name;\n  v_column name;\nBEGIN\n  WITH RECURSIVE column_info AS (\n    ".concat(g,"\n  )\n  SELECT schema, ").concat((0,s.yR)("table"),", name\n  INTO v_schema, v_table, v_column\n  FROM column_info \n  WHERE id = ").concat((0,s.i0)(e),";\n\n  IF v_schema IS NULL THEN\n    RAISE EXCEPTION 'Column with id % not found', ").concat((0,s.i0)(e),";\n  END IF;\n\n  EXECUTE format(\n    'ALTER TABLE %I.%I DROP COLUMN %I ").concat(t?"CASCADE":"RESTRICT","',\n    v_schema,\n    v_table,\n    v_column\n  );\nEND $$;")}},zod:x},schemas:{list:function(){let{includeSystemSchemas:e=!1,limit:t,offset:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=j;return e||(a="".concat(a," and not (n.nspname in (").concat(p.map(s.i0).join(","),"))")),t&&(a="".concat(a," limit ").concat(t)),n&&(a="".concat(a," offset ").concat(n)),{sql:a,zod:N}},retrieve:function(e){let{id:t,name:n}=e;return t?{sql:"".concat(j," and n.oid = ").concat((0,s.i0)(t),";"),zod:w}:{sql:"".concat(j," and n.nspname = ").concat((0,s.i0)(n),";"),zod:w}},create:function(e){let{name:t,owner:n}=e;return{sql:"create schema ".concat((0,s.yR)(t),"\n  ").concat(void 0===n?"":"authorization ".concat((0,s.yR)(n)),";\n")}},update:function(e,t){let{id:n,name:a}=e,{name:r,owner:o}=t;return{sql:"\ndo $$\ndeclare\n  id oid := ".concat(void 0===n?"".concat((0,s.i0)(a),"::regnamespace"):(0,s.i0)(n),";\n  old record;\n  new_name text := ").concat(void 0===r?null:(0,s.i0)(r),";\n  new_owner text := ").concat(void 0===o?null:(0,s.i0)(o),";\nbegin\n  select * into old from pg_namespace where oid = id;\n  if old is null then\n    raise exception 'Cannot find schema with id %', id;\n  end if;\n\n  if new_owner is not null then\n    execute(format('alter schema %I owner to %I;', old.nspname, new_owner));\n  end if;\n\n  -- Using the same name in the rename clause gives an error, so only do it if the new name is different.\n  if new_name is not null and new_name != old.nspname then\n    execute(format('alter schema %I rename to %I;', old.nspname, new_name));\n  end if;\nend\n$$;\n")}},remove:function(e){let{id:t,name:n}=e,{cascade:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{sql:"\ndo $$\ndeclare\n  id oid := ".concat(void 0===t?"".concat((0,s.i0)(n),"::regnamespace"):(0,s.i0)(t),";\n  old record;\n  cascade bool := ").concat((0,s.i0)(a),";\nbegin\n  select * into old from pg_namespace where oid = id;\n  if old is null then\n    raise exception 'Cannot find schema with id %', id;\n  end if;\n\n  execute(format('drop schema %I %s;', old.nspname, case when cascade then 'cascade' else 'restrict' end));\nend\n$$;\n")}},zod:_},tables:a,functions:r,tablePrivileges:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="\nwith table_privileges as (".concat(Y,")\nselect *\nfrom table_privileges\n"),o=f(t,n,e?void 0:p);return o&&(s+=" where schema ".concat(o)),a&&(s+=" limit ".concat(a)),r&&(s+=" offset ".concat(r)),{sql:s,zod:J}},retrieve:function(e){let{id:t,name:n,schema:a="public"}=e;return t?{sql:"\nwith table_privileges as (".concat(Y,")\nselect *\nfrom table_privileges\nwhere table_privileges.relation_id = ").concat((0,s.i0)(t),";"),zod:X}:{sql:"\nwith table_privileges as (".concat(Y,")\nselect *\nfrom table_privileges\nwhere table_privileges.schema = ").concat((0,s.i0)(a),"\n  and table_privileges.name = ").concat((0,s.i0)(n),"\n"),zod:X}},grant:function(e){return{sql:"\ndo $$\nbegin\n".concat(e.map(e=>{let{privilegeType:t,relationId:n,grantee:a,isGrantable:r}=e;return"execute format('grant ".concat(t," on table %s to ").concat("public"===a.toLowerCase()?"public":(0,s.yR)(a)," ").concat(r?"with grant option":"","', ").concat(n,"::regclass);")}).join("\n"),"\nend $$;\n")}},revoke:function(e){return{sql:"\ndo $$\nbegin\n".concat(e.map(e=>{let{privilegeType:t,relationId:n,grantee:a}=e;return"execute format('revoke ".concat(t," on table %s from ").concat("public"===a.toLowerCase()?"public":(0,s.yR)(a),"', ").concat(n,"::regclass);")}).join("\n"),"\nend $$;\n")}},zod:Q},publications:{list:function(){let{limit:e,offset:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="with publications as (".concat(K,") select * from publications");return e&&(n+=" limit ".concat(e)),t&&(n+=" offset ".concat(t)),{sql:n,zod:en}},retrieve:function(e){return{sql:"with publications as (".concat(K,") select * from publications where ").concat(er(e),";"),zod:ea}},create:function(e){let t,{name:n,publish_insert:a=!1,publish_update:r=!1,publish_delete:o=!1,publish_truncate:i=!1,tables:l=null}=e;t=null==l?"FOR ALL TABLES":0===l.length?"":"FOR TABLE ".concat(l.map(e=>{if(!e.includes("."))return(0,s.yR)(e);let[t,...n]=e.split("."),a=n.join(".");return"".concat((0,s.yR)(t),".").concat((0,s.yR)(a))}).join(","));let c=[...a?["insert"]:[],...r?["update"]:[],...o?["delete"]:[],...i?["truncate"]:[]];return{sql:"CREATE PUBLICATION ".concat((0,s.yR)(n)," ").concat(t," WITH (publish = '").concat(c.join(","),"');")}},update:function(e,t){var n,a,r,o;return{sql:"\ndo $$\ndeclare\n  old record;\n  new_name text := ".concat(void 0===t.name?null:(0,s.i0)(t.name),";\n  new_owner text := ").concat(void 0===t.owner?null:(0,s.i0)(t.owner),";\n  new_publish_insert bool := ").concat(null!==(n=t.publish_insert)&&void 0!==n?n:null,";\n  new_publish_update bool := ").concat(null!==(a=t.publish_update)&&void 0!==a?a:null,";\n  new_publish_delete bool := ").concat(null!==(r=t.publish_delete)&&void 0!==r?r:null,";\n  new_publish_truncate bool := ").concat(null!==(o=t.publish_truncate)&&void 0!==o?o:null,";\n  new_tables text := ").concat(void 0===t.tables?null:(0,s.i0)(null===t.tables?"all tables":t.tables.map(e=>{if(!e.includes("."))return(0,s.yR)(e);let[t,...n]=e.split("."),a=n.join(".");return"".concat((0,s.yR)(t),".").concat((0,s.yR)(a))}).join(", ")),";\nbegin\n  with publications as (").concat(K,")\n  select * into old from publications where ").concat(er(e),";\n  if old is null then\n    raise exception 'Cannot find publication with %', ").concat((0,s.i0)(er(e)),";\n  end if;\n  if new_tables is null then\n    null;\n  elsif new_tables = 'all tables' AND old.tables is not null then\n      -- Need to recreate because going from list of tables <-> all tables with alter is not possible.\n      execute(format('drop publication %1$I; create publication %1$I for all tables;', old.name));\n  else\n    if old.tables is null then\n      -- Need to recreate because going from list of tables <-> all tables with alter is not possible.\n      execute(format('drop publication %1$I; create publication %1$I;', old.name));\n    elsif exists(select from pg_publication_rel where prpubid = old.id) then\n      execute(\n        format(\n          'alter publication %I drop table %s',\n          old.name,\n          (select string_agg(prrelid::regclass::text, ', ') from pg_publication_rel where prpubid = old.id)\n        )\n      );\n    end if;\n\n    -- At this point the publication must have no tables.\n    if new_tables != '' then\n      execute(format('alter publication %I add table %s', old.name, new_tables));\n    end if;\n  end if;\n\n  execute(\n    format(\n      'alter publication %I set (publish = %L);',\n      old.name,\n      concat_ws(\n        ', ',\n        case when coalesce(new_publish_insert, old.publish_insert) then 'insert' end,\n        case when coalesce(new_publish_update, old.publish_update) then 'update' end,\n        case when coalesce(new_publish_delete, old.publish_delete) then 'delete' end,\n        case when coalesce(new_publish_truncate, old.publish_truncate) then 'truncate' end\n      )\n    )\n  );\n\n  if new_owner is not null then\n    execute(format('alter publication %I owner to %I;', old.name, new_owner));\n  end if;\n\n  -- Using the same name in the rename clause gives an error, so only do it if the new name is different.\n  if new_name is not null and new_name != old.name then\n    execute(format('alter publication %I rename to %I;', old.name, new_name));\n  end if;\nend $$;")}},remove:function(e){return{sql:"\n    do $$\n    declare\n      v_name name;\n    begin\n      with publications as (".concat(K,")\n      select name into v_name from publications where ").concat(er(e),";\n      if v_name is not null then\n            execute(format('drop publication if exists %I', v_name));\n      end if;\n    end\n    $$;\n    ")}},zod:et},extensions:{list:function(){let{limit:e,offset:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=es;return e&&(n="".concat(n," LIMIT ").concat(e)),t&&(n="".concat(n," OFFSET ").concat(t)),{sql:n,zod:ei}},retrieve:function(e){let{name:t}=e;return{sql:"".concat(es," WHERE name = ").concat((0,s.i0)(t),";"),zod:el}},create:function(e){let{name:t,schema:n,version:a,cascade:r=!1}=e;return{sql:"\ndo $$\nbegin\n  -- Check if extension exists\n  if exists (\n    select 1 from pg_extension where extname = ".concat((0,s.i0)(t),"\n  ) then\n    raise exception 'Extension % already exists', ").concat((0,s.i0)(t),";\n  end if;\n\n  execute(format('CREATE EXTENSION %I\n    %s\n    %s\n    %s',\n    ").concat((0,s.i0)(t),",\n    ").concat(n?"'SCHEMA ' || quote_ident(".concat((0,s.i0)(n),")"):"''",",\n    ").concat(a?"'VERSION ' || quote_ident(".concat((0,s.i0)(a),")"):"''",",\n    ").concat(r?"'CASCADE'":"''","\n));\nend\n$$;")}},update:function(e,t){let{update:n=!1,version:a,schema:r}=t;return{sql:"\ndo $$\ndeclare\n  ext record;\nbegin\n  -- Check if extension exists\n  select * into ext from pg_extension where extname = ".concat((0,s.i0)(e),";\n  if ext is null then\n    raise exception 'Extension % does not exist', ").concat((0,s.i0)(e),";\n  end if;\n\n  ").concat(n?"execute(format('ALTER EXTENSION %I UPDATE %s',\n    ".concat((0,s.i0)(e),",\n    ").concat(a?"'TO ' || quote_ident(".concat((0,s.i0)(a),")"):"''","\n  ));"):"","\n\n  ").concat(r?"execute(format('ALTER EXTENSION %I SET SCHEMA %I',\n    ".concat((0,s.i0)(e),",\n    ").concat((0,s.i0)(r),"\n  ));"):"","\nend\n$$;")}},remove:function(e){let{cascade:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{sql:"\ndo $$\ndeclare\n  ext record;\nbegin\n    execute(format('DROP EXTENSION %I %s',\n      ".concat((0,s.i0)(e),",\n      ").concat(t?"'CASCADE'":"'RESTRICT'","\n    ));\nend\n$$;")}},zod:eo},config:{list:function(){let{limit:e,offset:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="\nSELECT\n  name,\n  setting,\n  category,\n  TRIM(split_part(category, '/', 1)) AS group,\n  TRIM(split_part(category, '/', 2)) AS subgroup,\n  unit,\n  short_desc,\n  extra_desc,\n  context,\n  vartype,\n  source,\n  min_val,\n  max_val,\n  enumvals,\n  boot_val,\n  reset_val,\n  sourcefile,\n  sourceline,\n  pending_restart\nFROM\n  pg_settings\nORDER BY\n  category,\n  name\n";return e&&(n+=" LIMIT ".concat(e)),t&&(n+=" OFFSET ".concat(t)),{sql:n,zod:ed}},zod:ec},materializedViews:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r,includeColumns:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=ef({includeColumns:s}),i=f(t,n,e?void 0:p);return i&&(o+=" where schema ".concat(i)),a&&(o+=" limit ".concat(a)),r&&(o+=" offset ".concat(r)),{sql:o,zod:ep}},retrieve:function(e){let t=function(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name)," and ").concat((0,s.yR)("schema")," = ").concat((0,s.i0)(e.schema));throw Error("Must provide either id or name and schema")}(e);return{sql:"".concat(ef({includeColumns:!0})," where ").concat(t,";"),zod:em}},zod:eu},foreignTables:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r,includeColumns:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=eb({includeColumns:s}),i=f(t,n,e?void 0:p);return i&&(o+=" where schema ".concat(i)),a&&(o+=" limit ".concat(a)),r&&(o+=" offset ".concat(r)),{sql:o,zod:eg}},retrieve:function(e){return{sql:"".concat(eb({includeColumns:!0})," where ").concat(function(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name)," and ").concat((0,s.yR)("schema")," = ").concat((0,s.i0)(e.schema));throw Error("Must provide either id or name and schema")}(e),";"),zod:ex}},zod:eh},views:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r,includeColumns:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e_({includeColumns:s}),i=f(t,n,e?void 0:p);return i&&(o+=" where schema ".concat(i)),a&&(o+=" limit ".concat(a)),r&&(o+=" offset ".concat(r)),{sql:o,zod:ev}},retrieve:function(e){let t=function(e){if("id"in e&&e.id)return"".concat((0,s.yR)("id")," = ").concat((0,s.i0)(e.id));if("name"in e&&e.name&&e.schema)return"".concat((0,s.yR)("name")," = ").concat((0,s.i0)(e.name)," and ").concat((0,s.yR)("schema")," = ").concat((0,s.i0)(e.schema));throw Error("Must provide either id or name and schema")}(e);return{sql:"".concat(e_({includeColumns:!0})," where ").concat(t,";"),zod:ej}},zod:ey},policies:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="\n    with policies as (".concat(eN,")\n    select *\n    from policies\n    "),o=f(t,n,e?void 0:p);return o&&(s+="where schema ".concat(o)),a&&(s+=" limit ".concat(a)),r&&(s+=" offset ".concat(r)),{sql:s,zod:eS}},retrieve:function(e){return{sql:"with policies as (".concat(eN,") select * from policies where ").concat(eE(e),";"),zod:eC}},create:function(e){let{name:t,schema:n="public",table:a,definition:r,check:o,action:i="PERMISSIVE",command:l="ALL",roles:c=["public"]}=e;return{sql:"\ncreate policy ".concat((0,s.yR)(t)," on ").concat((0,s.yR)(n),".").concat((0,s.yR)(a),"\n  as ").concat(i,"\n  for ").concat(l,"\n  to ").concat(c.map(s.yR).join(","),"\n  ").concat(r?"using (".concat(r,")"):"","\n  ").concat(o?"with check (".concat(o,")"):"",";")}},update:function(e,t){let{name:n,definition:a,check:r,roles:o}=t,i=eE(e);return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with policies as (".concat(eN,")\n  select * into old from policies where ").concat(i,";\n  if old is null then\n    raise exception 'Cannot find policy with id %', ").concat((0,s.i0)(i),";\n  end if;\n\n  ").concat(a?"execute(format('alter policy %I on %I.%I using (%s);', old.name, old.schema, old.table, ".concat((0,s.i0)(a),"));"):"","\n  ").concat(r?"execute(format('alter policy %I on %I.%I with check (%s);', old.name, old.schema, old.table, ".concat((0,s.i0)(r),"));"):"","\n  ").concat(o?"execute(format('alter policy %I on %I.%I to %s;', old.name, old.schema, old.table, ".concat((0,s.i0)(o.map(s.yR).join(",")),"));"):"","\n  ").concat(n?"execute(format('alter policy %I on %I.%I rename to %I;', old.name, old.schema, old.table, ".concat((0,s.i0)(n),"));"):"","\nend\n$$;")}},remove:function(e){let t=eE(e);return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with policies as (".concat(eN,")\n  select * into old from policies where ").concat(t,";\n  if old is null then\n    raise exception 'Cannot find policy with id %', ").concat((0,s.i0)(t),";\n  end if;\n\n  execute(format('drop policy %I on %I.%I;', old.name, old.schema, old.table));\nend\n$$;")}},zod:ew},triggers:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="with triggers as (".concat(ek,") select * from triggers"),o=f(t,n,e?void 0:p);return o&&(s+=" where schema ".concat(o)),a&&(s+=" limit ".concat(a)),r&&(s+=" offset ".concat(r)),{sql:s,zod:eI}},retrieve:function(e){let t=eA(e);return{sql:"with triggers as (".concat(ek,") select * from triggers where ").concat(t,";"),zod:eL}},create:function(e){let{name:t,schema:n="public",table:a,function_schema:r="public",function_name:o,function_args:l=[],activation:c,events:d,orientation:u,condition:p}=e,m="".concat((0,s.yR)(n),".").concat((0,s.yR)(a)),f="".concat((0,s.yR)(r),".").concat((0,s.yR)(o)),h=d.join(" OR "),g=l.map(s.i0).join(",");return{sql:"CREATE TRIGGER ".concat((0,s.yR)(t)," ").concat(c," ").concat(h," ON ").concat(m," ").concat(u?"FOR EACH ".concat(u):""," ").concat(p?"WHEN (".concat(p,")"):""," EXECUTE FUNCTION ").concat(f,"(").concat(g,");"),zod:i.z.void()}},update:function(e,t){let n=eA(e);return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with triggers as (".concat(ek,")\n  select * into old from triggers where ").concat(n,";\n  \n  if old is null then\n    raise exception 'Cannot find trigger: %', ").concat((0,s.i0)(n),";\n  end if;\n\n  ").concat(t.enabled_mode?"\n  execute(format('alter table %I.%I ".concat("DISABLED"===t.enabled_mode?"DISABLE":"ENABLE"+("ALWAYS"===t.enabled_mode||"REPLICA"===t.enabled_mode?" "+t.enabled_mode:"")," TRIGGER %I', \n    old.schema, old.table, old.name));"):"","\n\n  ").concat(t.name?"\n    -- Using the same name in the rename clause gives an error, so only do it if the new name is different.\n  if ".concat((0,s.i0)(t.name)," != old.name then\n    execute(format('alter trigger %I on %I.%I rename to %I;', old.name, old.schema, old.table, ").concat((0,s.i0)(t.name),"));\n  end if;"):"","\nend\n$$;")}},remove:function(e){let{cascade:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=eA(e);return{sql:"\ndo $$\ndeclare\n  old record;\nbegin\n  with triggers as (".concat(ek,")\n  select * into old from triggers where ").concat(n,";\n  \n  if old is null then\n    raise exception 'Cannot find trigger';\n  end if;\n\n  execute(format('DROP TRIGGER %I ON %I.%I ").concat(t?"CASCADE":"","',\n    old.name, old.schema, old.table));\nend\n$$;"),zod:i.z.void()}},zod:ez},types:{list:function(){let{includeArrayTypes:e=!1,includeSystemSchemas:t=!1,includedSchemas:n,excludedSchemas:a,limit:r,offset:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o="\nselect\n  t.oid::int8 as id,\n  t.typname as name,\n  n.nspname as schema,\n  format_type (t.oid, null) as format,\n  coalesce(t_enums.enums, '[]') as enums,\n  coalesce(t_attributes.attributes, '[]') as attributes,\n  obj_description (t.oid, 'pg_type') as comment\nfrom\n  pg_type t\n  left join pg_namespace n on n.oid = t.typnamespace\n  left join (\n    select\n      enumtypid,\n      jsonb_agg(enumlabel order by enumsortorder) as enums\n    from\n      pg_enum\n    group by\n      enumtypid\n  ) as t_enums on t_enums.enumtypid = t.oid\n  left join (\n    select\n      oid,\n      jsonb_agg(\n        jsonb_build_object('name', a.attname, 'type_id', a.atttypid::int8)\n        order by a.attnum asc\n      ) as attributes\n    from\n      pg_class c\n      join pg_attribute a on a.attrelid = c.oid\n    where\n      c.relkind = 'c' and not a.attisdropped\n    group by\n      c.oid\n  ) as t_attributes on t_attributes.oid = t.typrelid\nwhere\n  (\n    t.typrelid = 0\n    or (\n      select\n        c.relkind = 'c'\n      from\n        pg_class c\n      where\n        c.oid = t.typrelid\n    )\n  )\n";e||(o+=" and not exists (\n      select from pg_type el\n      where el.oid = t.typelem\n        and el.typarray = t.oid\n    )");let i=f(n,a,t?void 0:p);return i&&(o+=" and n.nspname ".concat(i)),r&&(o+=" limit ".concat(r)),s&&(o+=" offset ".concat(s)),{sql:o,zod:eT}},zod:eR},version:{retrieve:function(){return{sql:"\nselect\n  version(),\n  current_setting('server_version_num')::int8 as version_number,\n  (\n    select\n      count(*) as active_connections\n    from\n      pg_stat_activity\n  ) as active_connections,\n  current_setting('max_connections')::int8 as max_connections\n",zod:eD}},zod:eD},indexes:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,limit:a,offset:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="\n    with indexes as (".concat(eP,")\n    select *\n    from indexes\n  "),o=f(t,n,e?void 0:p);return o&&(s+=" where schema ".concat(o)),a&&(s+=" limit ".concat(a)),r&&(s+=" offset ".concat(r)),{sql:s,zod:eM}},retrieve:function(e){let{id:t}=e;return{sql:"\n    with indexes as (".concat(eP,")\n    select *\n    from indexes\n    where id = ").concat((0,s.i0)(t),";\n  "),zod:eF}},zod:eO},columnPrivileges:{list:function(){let{includeSystemSchemas:e=!1,includedSchemas:t,excludedSchemas:n,columnIds:a,limit:r,offset:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="\n  with column_privileges as (".concat("\n-- Lists each column's privileges in the form of:\n--\n-- [\n--   {\n--     \"column_id\": \"12345.1\",\n--     \"relation_schema\": \"public\",\n--     \"relation_name\": \"mytable\",\n--     \"column_name\": \"mycolumn\",\n--     \"privileges\": [\n--       {\n--         \"grantor\": \"postgres\",\n--         \"grantee\": \"myrole\",\n--         \"privilege_type\": \"SELECT\",\n--         \"is_grantable\": false\n--       },\n--       ...\n--     ]\n--   },\n--   ...\n-- ]\n--\n-- Modified from information_schema.column_privileges. We try to be as close as\n-- possible to the view definition, obtained from:\n--\n-- select pg_get_viewdef('information_schema.column_privileges');\n--\n-- The main differences are:\n-- - we include column privileges for materialized views\n--   (reason for exclusion in information_schema.column_privileges:\n--    https://www.postgresql.org/message-id/9136.1502740844%40sss.pgh.pa.us)\n-- - we query a.attrelid and a.attnum to generate column_id\n-- - table_catalog is omitted\n-- - table_schema -> relation_schema, table_name -> relation_name\n--\n-- Column privileges are intertwined with table privileges in that table\n-- privileges override column privileges. E.g. if we do:\n--\n-- grant all on mytable to myrole;\n--\n-- Then myrole is granted privileges for ALL columns. Likewise, if we do:\n--\n-- grant all (id) on mytable to myrole;\n-- revoke all on mytable from myrole;\n--\n-- Then the grant on the id column is revoked.\n--\n-- This is unlike how grants for schemas and tables interact, where you need\n-- privileges for BOTH the schema the table is in AND the table itself in order\n-- to access the table.\n\nselect (x.attrelid || '.' || x.attnum) as column_id,\n       nc.nspname as relation_schema,\n       x.relname as relation_name,\n       x.attname as column_name,\n       coalesce(\n         jsonb_agg(\n           jsonb_build_object(\n             'grantor', u_grantor.rolname,\n             'grantee', grantee.rolname,\n             'privilege_type', x.prtype,\n             'is_grantable', x.grantable\n           )\n         ),\n         '[]'\n       ) as privileges\nfrom\n  (select pr_c.grantor,\n          pr_c.grantee,\n          a.attrelid,\n          a.attnum,\n          a.attname,\n          pr_c.relname,\n          pr_c.relnamespace,\n          pr_c.prtype,\n          pr_c.grantable,\n          pr_c.relowner\n   from\n     (select pg_class.oid,\n             pg_class.relname,\n             pg_class.relnamespace,\n             pg_class.relowner,\n             (aclexplode(coalesce(pg_class.relacl, acldefault('r', pg_class.relowner)))).grantor as grantor,\n             (aclexplode(coalesce(pg_class.relacl, acldefault('r', pg_class.relowner)))).grantee as grantee,\n             (aclexplode(coalesce(pg_class.relacl, acldefault('r', pg_class.relowner)))).privilege_type as privilege_type,\n             (aclexplode(coalesce(pg_class.relacl, acldefault('r', pg_class.relowner)))).is_grantable as is_grantable\n      from pg_class\n      where (pg_class.relkind = any (array['r',\n                                           'v',\n                                           'm',\n                                           'f',\n                                           'p'])) ) pr_c(oid, relname, relnamespace, relowner, grantor, grantee, prtype, grantable),\n                                                    pg_attribute a\n   where ((a.attrelid = pr_c.oid)\n          and (a.attnum > 0)\n          and (not a.attisdropped))\n   union select pr_a.grantor,\n                pr_a.grantee,\n                pr_a.attrelid,\n                pr_a.attnum,\n                pr_a.attname,\n                c.relname,\n                c.relnamespace,\n                pr_a.prtype,\n                pr_a.grantable,\n                c.relowner\n   from\n     (select a.attrelid,\n             a.attnum,\n             a.attname,\n             (aclexplode(coalesce(a.attacl, acldefault('c', cc.relowner)))).grantor as grantor,\n             (aclexplode(coalesce(a.attacl, acldefault('c', cc.relowner)))).grantee as grantee,\n             (aclexplode(coalesce(a.attacl, acldefault('c', cc.relowner)))).privilege_type as privilege_type,\n             (aclexplode(coalesce(a.attacl, acldefault('c', cc.relowner)))).is_grantable as is_grantable\n      from (pg_attribute a\n            join pg_class cc on ((a.attrelid = cc.oid)))\n      where ((a.attnum > 0)\n             and (not a.attisdropped))) pr_a(attrelid, attnum, attname, grantor, grantee, prtype, grantable),\n                                        pg_class c\n   where ((pr_a.attrelid = c.oid)\n          and (c.relkind = any (ARRAY['r',\n                                      'v',\n                                      'm',\n                                      'f',\n                                      'p'])))) x,\n     pg_namespace nc,\n     pg_authid u_grantor,\n  (select pg_authid.oid,\n          pg_authid.rolname\n   from pg_authid\n   union all select (0)::oid as oid,\n                    'PUBLIC') grantee(oid, rolname)\nwhere ((x.relnamespace = nc.oid)\n       and (x.grantee = grantee.oid)\n       and (x.grantor = u_grantor.oid)\n       and (x.prtype = any (ARRAY['INSERT',\n                                  'SELECT',\n                                  'UPDATE',\n                                  'REFERENCES']))\n       and (pg_has_role(u_grantor.oid, 'USAGE')\n            or pg_has_role(grantee.oid, 'USAGE')\n            or (grantee.rolname = 'PUBLIC')))\ngroup by column_id,\n         nc.nspname,\n         x.relname,\n         x.attname\n",")\n  select *\n  from column_privileges\n  "),l=[],c=f(t,n,e?void 0:p);return c&&l.push("relation_schema ".concat(c)),(null==a?void 0:a.length)&&l.push("column_id in (".concat(a.map(s.i0).join(","),")")),l.length>0&&(i+=" where ".concat(l.join(" and "))),r&&(i+=" limit ".concat(r)),o&&(i+=" offset ".concat(o)),{sql:i,zod:eH}},grant:function(e){return{sql:"\ndo $$\ndeclare\n  col record;\nbegin\n".concat(e.map(e=>{let{privilegeType:t,columnId:n,grantee:a,isGrantable:r}=e,[o,i]=n.split(".");return"\nselect *\nfrom pg_attribute a\nwhere a.attrelid = ".concat((0,s.i0)(o),"\n  and a.attnum = ").concat((0,s.i0)(i),"\ninto col;\nexecute format(\n  'grant ").concat(t," (%I) on %s to ").concat("public"===a.toLowerCase()?"public":(0,s.yR)(a)," ").concat(r?"with grant option":"","',\n  col.attname,\n  col.attrelid::regclass\n);")}).join("\n"),"\nend $$;\n")}},revoke:function(e){return{sql:"\ndo $$\ndeclare\n  col record;\nbegin\n".concat(e.map(e=>{let{privilegeType:t,columnId:n,grantee:a}=e,[r,o]=n.split(".");return"\nselect *\nfrom pg_attribute a\nwhere a.attrelid = ".concat((0,s.i0)(r),"\n  and a.attnum = ").concat((0,s.i0)(o),"\ninto col;\nexecute format(\n  'revoke ").concat(t," (%I) on %s from ").concat("public"===a.toLowerCase()?"public":(0,s.yR)(a),"',\n  col.attname,\n  col.attrelid::regclass\n);")}).join("\n"),"\nend $$;\n")}},zod:eZ},query:n(64555)}},65905:function(e,t,n){"use strict";n.d(t,{WU:function(){return l},yR:function(){return o},i0:function(){return i}});let a=new Set(["AES128","AES256","ALL","ALLOWOVERWRITE","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BLANKSASNULL","BOTH","BYTEDICT","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXCEPT","EXPLICIT","FALSE","FETCH","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GROUP","GZIP","HAVING","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","OR","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PLACING","PRIMARY","RAW","READRATIO","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","RETURNING","RIGHT","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","SYSDATE","SYSTEM","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TO","TOP","TRAILING","TRUE","TRUNCATECOLUMNS","UNION","UNIQUE","USER","USING","VARIADIC","VERBOSE","WALLET","WHEN","WHERE","WINDOW","WITH","WITHOUT"]);function r(e){return e.replace("T"," ").replace("Z","+00")}function s(e,t,n){let a="";for(let[r,s]of(a+=e?" (":"(",t.entries()))a+=(0===r?"":", ")+n(s);return a+")"}function o(e){if(null==e)throw Error("SQL identifier cannot be null or undefined");if(!1===e)return'"f"';if(!0===e)return'"t"';if(e instanceof Date)return'"'.concat(r(e.toISOString()),'"');if(Array.isArray(e)){let t=[];for(let n of e){if(!0===Array.isArray(n))throw TypeError("Nested array to grouped list conversion is not supported for SQL identifier");t.push(o(n))}return t.toString()}if(e===Object(e))throw Error("SQL identifier cannot be an object");let t=String(e).slice(0);if(!0===/^[_a-z][\d$_a-z]*$/.test(t)&&!1==!!a.has(t.toUpperCase()))return t;let n='"';for(let e of t)n+='"'===e?e+e:e;return n+'"'}function i(e){let t,n="";if(null==e)return"NULL";if("bigint"==typeof e)return BigInt(e).toString();if(e===Number.POSITIVE_INFINITY)return"'Infinity'";if(e===Number.NEGATIVE_INFINITY)return"'-Infinity'";if(Number.isNaN(e))return"'NaN'";if("number"==typeof e)return Number(e).toString();if(!1===e)return"'f'";if(!0===e)return"'t'";if(e instanceof Date)return"'".concat(r(e.toISOString()),"'");if(Array.isArray(e)){let t=[];for(let[n,a]of e.entries())!0===Array.isArray(a)?t.push(s(0!==n,a,i)):t.push(i(a));return t.toString()}e===Object(e)?(t="jsonb",n=JSON.stringify(e)):n=String(e).slice(0);let a=!1,o="'";for(let e of n)"'"===e?o+=e+e:"\\"===e?(o+=e+e,a=!0):o+=e;return o+="'",!0===a&&(o="E".concat(o)),t&&(o+="::".concat(t)),o}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(e,t){let n=0,a="%(%|(\\d+\\$)?[",l=RegExp(a+="ILs])","g");return e.replace(l,(e,a)=>{if("%"===a)return"%";let l=n,c=a.split("$");if(c.length>1&&(l=Number.parseInt(c[0],10)-1,a=c[1]),l<0)throw Error("specified argument 0 but arguments start at 1");if(l>t.length-1)throw Error("too few arguments");return(n=l+1,"I"===a)?o(t[l]):"L"===a?i(t[l]):"s"===a?function e(t){if(null==t)return"";if(!1===t)return"f";if(!0===t)return"t";if(t instanceof Date)return r(t.toISOString());if(Array.isArray(t)){let n=[];for(let[a,r]of t.entries())null!=r&&(!0===Array.isArray(r)?n.push(s(0!==a,r,e)):n.push(e(r)));return n.toString()}return t===Object(t)?JSON.stringify(t):String(t).toString().slice(0)}(t[l]):void 0})}(e,n)}},47790:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(49656);class r{from(e,t){return new a.L({name:e,schema:null!=t?t:"public"})}}},65667:function(e,t,n){"use strict";n.d(t,{Ab:function(){return i},Ff:function(){return r},Lm:function(){return s},YF:function(){return o},rh:function(){return c},xM:function(){return l}});var a=n(65905);function r(e,t){let n="select count(*) from ".concat(p(e)),{filters:a}=null!=t?t:{};return a&&(n=d(n,a)),n+";"}function s(e,t){let n="truncate ".concat(p(e)),{cascade:a}=null!=t?t:{};return a&&(n+=" cascade"),n+";"}function o(e,t,n){if(!t||0===t.length)throw{message:"no filters for this delete query"};let r="delete from ".concat(p(e)),{returning:s,enumArrayColumns:o}=null!=n?n:{};return t&&(r=d(r,t)),s&&(r+=void 0===o||0===o.length?" returning *":" returning *, ".concat(o.map(e=>"".concat((0,a.yR)(e),"::text[]")).join(","))),r+";"}function i(e,t,n){if(!t||0===t.length)throw{message:"no value to insert"};let{returning:r,enumArrayColumns:s}=null!=n?n:{},o=Object.keys(t[0]).map(e=>(0,a.yR)(e)).join(","),i="";return i=0==o.length?(0,a.WU)("insert into %1$s select from jsonb_populate_recordset(null::%1$s, %2$s)",p(e),(0,a.i0)(JSON.stringify(t))):(0,a.WU)("insert into %1$s (%2$s) select %2$s from jsonb_populate_recordset(null::%1$s, %3$s)",p(e),o,(0,a.i0)(JSON.stringify(t))),r&&(i+=void 0===s||0===s.length?" returning *":" returning *, ".concat(s.map(e=>"".concat((0,a.yR)(e),"::text[]")).join(","))),i+";"}function l(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o="";o+="select ".concat(null!=t?t:"*"," from ").concat(s?"".concat((0,a.yR)(e.name)):p(e));let{filters:i,pagination:l,sorts:c}=null!=n?n:{};if(i&&(o=d(o,i)),c&&(o=function(e,t){let n=t.filter(e=>e.column);return 0===n.length?e:e+=" order by ".concat(n.map(e=>{let t=e.ascending?"asc":"desc",n=e.nullsFirst?"nulls first":"nulls last";return"".concat((0,a.yR)(e.table),".").concat((0,a.yR)(e.column)," ").concat(t," ").concat(n)}).join(", "))}(o,c)),l){let{limit:e,offset:t}=null!=l?l:{};o+=" limit ".concat((0,a.i0)(e)," offset ").concat((0,a.i0)(t))}return"".concat(o).concat(r?";":"")}function c(e,t,n){let{filters:r,returning:s,enumArrayColumns:o}=null!=n?n:{};if(!r||0===r.length)throw{message:"no filters for this update query"};let i=Object.keys(t).map(e=>(0,a.yR)(e)).join(","),l=(0,a.WU)("update %1$s set (%2$s) = (select %2$s from json_populate_record(null::%1$s, %3$s))",p(e),i,(0,a.i0)(JSON.stringify(t)));return r&&(l=d(l,r)),s&&(l+=void 0===o||0===o.length?" returning *":" returning *, ".concat(o.map(e=>"".concat((0,a.yR)(e),"::text[]")).join(","))),l+";"}function d(e,t){return 0===t.length?e:e+=" where ".concat(t.map(e=>{switch(e.operator){case"in":let t;return t=Array.isArray(e.value)?e.value.map(e=>u(e)):String(e.value).split(",").map(e=>u(e)),"".concat((0,a.yR)(e.column)," ").concat(e.operator," (").concat(t.join(","),")");case"is":return function(e){let t=String(e.value);switch(t){case"null":case"false":case"true":case"not null":return"".concat((0,a.yR)(e.column)," ").concat(e.operator," ").concat(t);default:return"".concat((0,a.yR)(e.column)," ").concat(e.operator," ").concat(u(e.value))}}(e);default:return"".concat((0,a.yR)(e.column)," ").concat(e.operator," ").concat(u(e.value))}}).join(" and "))}function u(e){return"string"!=typeof e||(null==e?void 0:e.startsWith("ARRAY["))&&(null==e?void 0:e.endsWith("]"))?e:(0,a.i0)(e)}function p(e){return"".concat((0,a.yR)(e.schema),".").concat((0,a.yR)(e.name))}},49656:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var a=n(98219),r=n(44402);class s{count(){return new r.t(this.table,"count")}delete(e){return new r.t(this.table,"delete",void 0,e)}insert(e,t){return new r.t(this.table,"insert",e,t)}select(e){return new r.t(this.table,"select",e)}update(e,t){return new r.t(this.table,"update",e,t)}truncate(e){return new r.t(this.table,"truncate",void 0,e)}constructor(e){(0,a._)(this,"table",void 0),this.table=e}}},44402:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var a=n(98219),r=n(17890);class s{filter(e,t,n){return this.filters.push({column:e,operator:t,value:n}),this}match(e){return Object.entries(e).map(e=>{let[t,n]=e;this.filters.push({column:t,operator:"=",value:n})}),this}order(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.sorts.push({table:e,column:t,ascending:n,nullsFirst:a}),this}range(e,t){return this._getQueryModifier().range(e,t)}toSql(e){return this._getQueryModifier().toSql(e)}_getQueryModifier(){return new r.m(this.table,this.action,{actionValue:this.actionValue,actionOptions:this.actionOptions,filters:this.filters,sorts:this.sorts})}constructor(e,t,n,r){(0,a._)(this,"table",void 0),(0,a._)(this,"action",void 0),(0,a._)(this,"actionValue",void 0),(0,a._)(this,"actionOptions",void 0),(0,a._)(this,"filters",void 0),(0,a._)(this,"sorts",void 0),this.table=e,this.action=t,this.actionValue=n,this.actionOptions=r,this.filters=[],this.sorts=[]}}},17890:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var a=n(98219),r=n(65667);class s{range(e,t){return this.pagination={offset:e,limit:t-e+1},this}toSql(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCTE:!1,isFinal:!0};try{var t;let{actionValue:n,actionOptions:a,filters:s,sorts:o}=null!==(t=this.options)&&void 0!==t?t:{};switch(this.action){case"count":return(0,r.Ff)(this.table,{filters:s});case"delete":return(0,r.YF)(this.table,s,{returning:null==a?void 0:a.returning,enumArrayColumns:null==a?void 0:a.enumArrayColumns});case"insert":return(0,r.Ab)(this.table,n,{returning:null==a?void 0:a.returning,enumArrayColumns:null==a?void 0:a.enumArrayColumns});case"select":return(0,r.xM)(this.table,n,{filters:s,pagination:this.pagination,sorts:o},e.isFinal,e.isCTE);case"update":return(0,r.rh)(this.table,n,{filters:s,returning:null==a?void 0:a.returning,enumArrayColumns:null==a?void 0:a.enumArrayColumns});case"truncate":return(0,r.Lm)(this.table,{cascade:null==a?void 0:a.cascade});default:return""}}catch(e){throw e}}constructor(e,t,n){(0,a._)(this,"table",void 0),(0,a._)(this,"action",void 0),(0,a._)(this,"options",void 0),(0,a._)(this,"pagination",void 0),this.table=e,this.action=t,this.options=n}}},64555:function(e,t,n){"use strict";n.r(t),n.d(t,{Query:function(){return a.A},QueryAction:function(){return o.L},QueryFilter:function(){return s.t},QueryModifier:function(){return i.m},countQuery:function(){return r.Ff},deleteQuery:function(){return r.YF},insertQuery:function(){return r.Ab},selectQuery:function(){return r.xM},truncateQuery:function(){return r.Lm},updateQuery:function(){return r.rh}});var a=n(47790),r=n(65667),s=n(44402),o=n(49656),i=n(17890)},72541:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});let a=[{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Classic Dark",value:"classic-dark"},{name:"System",value:"system"}]},24344:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var a=n(71607),r=n.n(a),s=n(56213);let o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r();if(window.document.hasFocus()){var n;if(null===(n=navigator.clipboard)||void 0===n?void 0:n.write){let n=new ClipboardItem({"text/plain":Promise.resolve(e).then(e=>new Blob([e],{type:"text/plain"}))});navigator.clipboard.write([n]).then(t)}else Promise.resolve(e).then(e=>{var t;return null===(t=navigator.clipboard)||void 0===t?void 0:t.writeText(e)}).then(t)}else s.Am.error("Unable to copy to clipboard")}},5963:function(e){e.exports={"popover-trigger-width":"popover_popover-trigger-width__O8y9q"}}}]);