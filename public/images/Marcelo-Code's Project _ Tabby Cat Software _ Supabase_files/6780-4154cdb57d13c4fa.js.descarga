!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="a4630812-e639-4878-8c3b-3ff1c5529d0d",e._sentryDebugIdIdentifier="sentry-dbid-a4630812-e639-4878-8c3b-3ff1c5529d0d")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{75141:function(e,s,t){t.d(s,{Z:function(){return m}});var a=t(31549);let n=(0,t(45353).Z)("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);var l=t(87040),r=t(25972),i=t(16154),d=t(35322),c=t(74844),o=t(97339),x=t(50378),m=e=>{let{currentTab:s,setCurrentTab:t,setSelectedLint:m,isLoading:u,activeLints:h}=e,p=(0,x.useRouter)(),f=h.filter(e=>"WARN"===e.level).length,g=h.filter(e=>"ERROR"===e.level).length,v=h.filter(e=>"INFO"===e.level).length,j=e=>{let{tab:s}=e,t=0,n="";return s.id===c.l.ERROR&&(t=g,n="errors"),s.id===c.l.WARN&&(t=f,n="warnings"),s.id===c.l.INFO&&(t=v,n="suggestions"),(0,a.jsx)("span",{className:"text-xs text-foreground-muted group-hover:text-foreground-lighter group-data-[state=active]:text-foreground-lighter transition","data-sentry-component":"LintCountLabel","data-sentry-source-file":"LintPageTabs.tsx",children:u?(0,a.jsx)(o.Z,{className:"w-20 pt-1"}):(0,a.jsxs)(a.Fragment,{children:[t," ",n]})})};return(0,a.jsx)(r.mQ,{defaultValue:s,onValueChange:e=>{t(e),m(null);let{sort:s,search:a,...n}=p.query;p.push({...p,query:{...n,preset:e,id:null}})},"data-sentry-element":"Tabs_Shadcn_","data-sentry-component":"LintPageTabs","data-sentry-source-file":"LintPageTabs.tsx",children:(0,a.jsx)(r.dr,{className:(0,i.cn)("flex gap-0 border-0 items-end z-10 relative"),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LintPageTabs.tsx",children:c.N.map(e=>(0,a.jsxs)(r.SP,{value:e.id,className:(0,i.cn)("group relative","px-6 py-3 border-b-0 flex flex-col items-start !shadow-none border-default border-t","even:border-x last:border-r even:!border-x-strong last:!border-r-strong",e.id===s?"!bg-surface-200":"!bg-surface-200/[33%]","hover:!bg-surface-100","data-[state=active]:!bg-surface-200","hover:text-foreground-light","transition"),children:[e.id===s&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-foreground"}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("span",{className:e.id===c.l.ERROR?"text-destructive-600":e.id===c.l.WARN?"text-warning-600":"text-brand-500",children:(0,a.jsx)(n,{size:14,fill:"currentColor",strokeWidth:0})}),(0,a.jsx)("span",{className:"",children:e.label}),(0,a.jsxs)(d.u,{children:[(0,a.jsx)(d.aJ,{asChild:!0,children:(0,a.jsx)(l.Z,{className:"transition text-foreground-muted w-3 h-3 data-[state=delayed-open]:text-foreground-light"})}),(0,a.jsx)(d._v,{side:"top",children:e.description})]})]}),(0,a.jsx)(j,{tab:e})]},e.id))})})}},1341:function(e,s,t){var a=t(31549),n=t(97095),l=t(41791),r=t(57672),i=t.n(r),d=t(44194),c=t(64492),o=t(82093),x=t(88042),m=t(79538),u=t(50378),h=t(51187),p=t(16154),f=t(85551),g=t(32081),v=t(25972),j=t(24425),y=t(55456);s.Z=e=>{var s,t,r;let{isLoading:b,filteredLints:N,selectedLint:w,setSelectedLint:k,currentTab:R}=e,L=(0,d.useRef)(null),{ref:z}=(0,x.UO)(),C=(0,u.useRouter)(),S=(0,h.oJ)(),[_,D]=(0,d.useState)("details"),I=[{id:"name",name:"Issue type",description:void 0,minWidth:240,value:e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"shrink-0",children:null===(s=m.EV.find(s=>e.name===s.name))||void 0===s?void 0:s.icon}),(0,a.jsx)("h3",{className:"text-xs",children:null===(t=m.EV.find(s=>e.name===s.name))||void 0===t?void 0:t.title})]})}},{id:"metadata.name",name:"Entity/item",description:void 0,minWidth:230,value:e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,a.jsx)("span",{className:"shrink-0",children:(0,a.jsx)(m.Fs,{type:null===(s=e.metadata)||void 0===s?void 0:s.type})}),(0,a.jsx)(m.U5,{metadata:e.metadata})]})}},{id:"description",name:"Description",description:void 0,minWidth:400,value:e=>(0,a.jsx)(o.D,{className:"text-xs",children:e.description})}].map(e=>{var s;return{key:e.id,name:e.name,resizable:!0,minWidth:null!==(s=e.minWidth)&&void 0!==s?s:120,headerCellClass:"first:pl-6 cursor-pointer",renderHeaderCell:()=>(0,a.jsx)("div",{className:"flex items-center justify-between font-mono font-normal text-xs w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("p",{className:"!text-foreground",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-foreground-lighter",children:e.description})]})}),renderCell:s=>{let t=e.value(s.row);return(0,a.jsx)("div",{className:(0,p.cn)("w-full flex flex-col justify-center font-mono text-xs","number"==typeof t?"text-right":""),children:(0,a.jsx)("span",{children:t})})}}});return(0,a.jsxs)(f.pO,{direction:"horizontal",className:"relative flex flex-grow bg-alternative min-h-0",autoSaveId:"linter-layout-v1","data-sentry-element":"ResizablePanelGroup","data-sentry-component":"LinterDataGrid","data-sentry-source-file":"LinterDataGrid.tsx",children:[(0,a.jsx)(f.ee,{defaultSize:1,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LinterDataGrid.tsx",children:(0,a.jsx)(c.ZP,{ref:L,style:{height:"100%"},className:(0,p.cn)("flex-1 flex-grow h-full"),rowHeight:44,headerRowHeight:36,columns:I,rows:null!=N?N:[],rowClass:e=>{let s=e.cache_key===(null==w?void 0:w.cache_key);return["".concat(s?"bg-surface-300 dark:bg-surface-300":"bg-200"," cursor-pointer"),"".concat(s?"[&>div:first-child]:border-l-4 border-l-secondary [&>div]:border-l-foreground":""),"[&>.rdg-cell]:border-box [&>.rdg-cell]:outline-none [&>.rdg-cell]:shadow-none","[&>.rdg-cell:first-child>div]:ml-4"].join(" ")},renderers:{renderRow:(e,s)=>(0,a.jsx)(c.X2,{...s,onClick:()=>{if("number"==typeof e&&e>=0){var t;k(s.row),null===(t=L.current)||void 0===t||t.scrollToCell({idx:0,rowIdx:e});let{id:a,...n}=C.query;C.push({...C,query:{...n,id:s.row.cache_key}})}}},s.row.cache_key),noRowsFallback:b?(0,a.jsx)("div",{className:"absolute top-14 px-6 w-full",children:(0,a.jsx)(y.A,{})}):(0,a.jsx)(m.YL,{level:R})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LinterDataGrid.tsx"})}),null!==w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Dp,{withHandle:!0}),(0,a.jsxs)(f.ee,{defaultSize:30,maxSize:45,minSize:30,className:"bg-studio border-t",children:[(0,a.jsx)(g.z,{type:"text",className:"absolute top-3 right-3 px-1",icon:(0,a.jsx)(n.Z,{}),onClick:function(){k(null);let{id:e,...s}=C.query;C.push({query:s})}}),(0,a.jsxs)(v.mQ,{value:_,className:"flex flex-col h-full",onValueChange:e=>{D(e)},children:[(0,a.jsx)(v.dr,{className:"px-5 flex gap-x-4 min-h-[46px]",children:(0,a.jsx)(v.SP,{value:"details",className:"px-0 pb-0 h-full text-xs  data-[state=active]:bg-transparent !shadow-none",children:"Overview"})}),(0,a.jsx)(v.nU,{value:"details",className:"mt-0 flex-grow min-h-0 overflow-y-auto prose",children:w&&(0,a.jsxs)("div",{className:"py-4 px-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,a.jsx)("h3",{className:"text-sm m-0",children:null===(s=m.EV.find(e=>e.name===w.name))||void 0===s?void 0:s.title}),(0,a.jsx)(m.qy,{category:w.categories[0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mt-4",children:[(0,a.jsx)("span",{children:"Entity"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-surface-200 border rounded-lg ",children:[(0,a.jsx)(m.Fs,{type:null===(t=w.metadata)||void 0===t?void 0:t.type}),(0,a.jsx)(m.U5,{metadata:w.metadata})]})]}),(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Issue"}),(0,a.jsx)(o.D,{className:"leading-6 text-sm",children:w.detail.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Description"}),(0,a.jsx)(o.D,{className:"text-sm",children:w.description.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("h3",{className:"text-sm",children:"Resolve"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.z,{icon:(0,a.jsx)(j.c,{className:"scale-75 w-3 h-3"}),onClick:()=>{var e,s,t,a;S.newChat({name:"Summarize lint",open:!0,initialInput:"Summarize the issue and suggest fixes: ".concat(null===(e=m.EV.find(e=>e.name===w.name))||void 0===e?void 0:e.title,"\n                                \nEntity: ").concat(null!==(t=w.metadata&&(w.metadata.entity||w.metadata.schema&&w.metadata.name&&"".concat(w.metadata.schema,".").concat(w.metadata.name)))&&void 0!==t?t:"","\n                                \nSchema: ").concat(null!==(a=null===(s=w.metadata)||void 0===s?void 0:s.schema)&&void 0!==a?a:"","\n                                \nIssue: ").concat(w.detail.replace(/\\`/g,"`"),"\n                                \nDescription: ").concat(w.description.replace(/\\`/g,"`"),"\n")})},children:"Ask Assistant"}),(0,a.jsx)(m.j9,{title:w.name,projectRef:z,metadata:w.metadata}),(0,a.jsx)(g.z,{asChild:!0,type:"text",children:(0,a.jsx)(i(),{href:(null===(r=m.EV.find(e=>e.name===w.name))||void 0===r?void 0:r.docsLink)||"https://supabase.com/docs/guides/database/database-linter",target:"_blank",rel:"noreferrer",className:"no-underline",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Learn more ",(0,a.jsx)(l.Z,{size:14})]})})})]})]})]})]})})]})]})]})]})}},69321:function(e,s,t){var a=t(31549),n=t(88042),l=t(74844),r=t(12101),i=t(32731),d=t(95845),c=t(32081);s.Z=e=>{let{filterOptions:s,activeLints:t,filteredLints:o,currentTab:x,filters:m,isLoading:u,setFilters:h,onClickRefresh:p}=e,{ref:f}=(0,n.UO)(),g=(e,s)=>{let t=[...m],a=t.findIndex(s=>s.level===e);-1!==a&&(t[a]={...t[a],filters:s},h(t))};return(0,a.jsxs)("div",{className:"px-6 py-2 -mt-px flex bg-surface-200 items-center justify-between border-t","data-sentry-component":"LinterFilters","data-sentry-source-file":"LinterFilters.tsx",children:[l.N.map(e=>{var n;return(0,a.jsx)("div",{className:e.id===x?"":"hidden",children:(0,a.jsx)(i.E,{name:"Filter",className:"w-52",options:s,disabled:0===t.filter(s=>s.level===e.id).length,labelKey:"name",valueKey:"value",activeOptions:(null===(n=m.find(s=>s.level===e.id))||void 0===n?void 0:n.filters)||[],onSaveFilters:s=>g(e.id,s)})},e.id)}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(c.z,{size:"tiny",type:"default",disabled:u,onClick:p,icon:(0,a.jsx)(d.Z,{className:"text-foreground-light ".concat(u?"animate-spin":"")}),"data-sentry-element":"Button","data-sentry-source-file":"LinterFilters.tsx",children:"Refresh"}),(0,a.jsx)(r.z,{align:"end",results:o,fileName:"Supabase Performance Security Lints (".concat(f,")"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LinterFilters.tsx"})]})]})}},91649:function(e,s,t){var a=t(31549),n=t(16154),l=t(32081),r=t(36447);s.Z=e=>{let{isLoading:s,isRefetching:t,refetch:i,hideDbInspectCTA:d}=e;return(0,a.jsxs)("div",{className:"px-6 py-6 flex gap-x-4 border-t ","data-sentry-component":"LinterPageFooter","data-sentry-source-file":"LinterPageFooter.tsx",children:[(0,a.jsxs)("div",{className:(0,n.cn)(d?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"Reset suggestions"}),(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:"Consider resetting the analysis making any changes"}),(0,a.jsx)(l.z,{type:"default",className:"!mt-3 w-min",disabled:s||t,loading:s||t,onClick:()=>i(),"data-sentry-element":"Button","data-sentry-source-file":"LinterPageFooter.tsx",children:"Rerun linter"})]}),(0,a.jsxs)("div",{className:(0,n.cn)(d?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"How are these suggestions generated?"}),(0,a.jsx)("div",{className:"prose text-xs",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{children:"These suggestions use "}),(0,a.jsx)("a",{href:"https://github.com/supabase/splinter",target:"",rel:"",children:"splinter (Supabase Postgres LINTER)"}),"."]})})]}),!d&&(0,a.jsxs)("div",{className:"w-[33%] flex flex-col gap-y-1 text-sm",children:[(0,a.jsx)("p",{children:"Inspect your database for potential issues"}),(0,a.jsx)(r.U,{className:"text-xs",content:"The Supabase CLI comes with a range of tools to help inspect your Postgres instances for potential issues. [Learn more here](https://supabase.com/docs/guides/database/inspect)."})]})]})}}}]);